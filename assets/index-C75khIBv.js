function Ek(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Xg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qp={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS;function Ck(){if(cS)return Bl;cS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Bl.Fragment=e,Bl.jsx=t,Bl.jsxs=t,Bl}var uS;function Mk(){return uS||(uS=1,Qp.exports=Ck()),Qp.exports}var C=Mk(),Zp={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function Tk(){if(fS)return Ue;fS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=m&&k[m]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function E(k,Y,$){this.props=k,this.context=Y,this.refs=w,this.updater=$||b}E.prototype.isReactComponent={},E.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function T(){}T.prototype=E.prototype;function N(k,Y,$){this.props=k,this.context=Y,this.refs=w,this.updater=$||b}var A=N.prototype=new T;A.constructor=N,x(A,E.prototype),A.isPureReactComponent=!0;var L=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function D(k,Y,$,G,ee,ae){return $=ae.ref,{$$typeof:n,type:k,key:Y,ref:$!==void 0?$:null,props:ae}}function j(k,Y){return D(k.type,Y,void 0,void 0,void 0,k.props)}function q(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function ie(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function($){return Y[$]})}var ce=/\/+/g;function me(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?ie(""+k.key):Y.toString(36)}function pe(){}function fe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(pe,pe):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function de(k,Y,$,G,ee){var ae=typeof k;(ae==="undefined"||ae==="boolean")&&(k=null);var le=!1;if(k===null)le=!0;else switch(ae){case"bigint":case"string":case"number":le=!0;break;case"object":switch(k.$$typeof){case n:case e:le=!0;break;case p:return le=k._init,de(le(k._payload),Y,$,G,ee)}}if(le)return ee=ee(k),le=G===""?"."+me(k,0):G,L(ee)?($="",le!=null&&($=le.replace(ce,"$&/")+"/"),de(ee,Y,$,"",function(Se){return Se})):ee!=null&&(q(ee)&&(ee=j(ee,$+(ee.key==null||k&&k.key===ee.key?"":(""+ee.key).replace(ce,"$&/")+"/")+le)),Y.push(ee)),1;le=0;var re=G===""?".":G+":";if(L(k))for(var ge=0;ge<k.length;ge++)G=k[ge],ae=re+me(G,ge),le+=de(G,Y,$,ae,ee);else if(ge=y(k),typeof ge=="function")for(k=ge.call(k),ge=0;!(G=k.next()).done;)G=G.value,ae=re+me(G,ge++),le+=de(G,Y,$,ae,ee);else if(ae==="object"){if(typeof k.then=="function")return de(fe(k),Y,$,G,ee);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return le}function _(k,Y,$){if(k==null)return k;var G=[],ee=0;return de(k,G,"","",function(ae){return Y.call($,ae,ee++)}),G}function Z(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function($){(k._status===0||k._status===-1)&&(k._status=1,k._result=$)},function($){(k._status===0||k._status===-1)&&(k._status=2,k._result=$)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var H=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function J(){}return Ue.Children={map:_,forEach:function(k,Y,$){_(k,function(){Y.apply(this,arguments)},$)},count:function(k){var Y=0;return _(k,function(){Y++}),Y},toArray:function(k){return _(k,function(Y){return Y})||[]},only:function(k){if(!q(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ue.Component=E,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=N,Ue.StrictMode=r,Ue.Suspense=f,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(k){return z.H.useMemoCache(k)}},Ue.cache=function(k){return function(){return k.apply(null,arguments)}},Ue.cloneElement=function(k,Y,$){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var G=x({},k.props),ee=k.key,ae=void 0;if(Y!=null)for(le in Y.ref!==void 0&&(ae=void 0),Y.key!==void 0&&(ee=""+Y.key),Y)!R.call(Y,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Y.ref===void 0||(G[le]=Y[le]);var le=arguments.length-2;if(le===1)G.children=$;else if(1<le){for(var re=Array(le),ge=0;ge<le;ge++)re[ge]=arguments[ge+2];G.children=re}return D(k.type,ee,void 0,void 0,ae,G)},Ue.createContext=function(k){return k={$$typeof:l,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:s,_context:k},k},Ue.createElement=function(k,Y,$){var G,ee={},ae=null;if(Y!=null)for(G in Y.key!==void 0&&(ae=""+Y.key),Y)R.call(Y,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ee[G]=Y[G]);var le=arguments.length-2;if(le===1)ee.children=$;else if(1<le){for(var re=Array(le),ge=0;ge<le;ge++)re[ge]=arguments[ge+2];ee.children=re}if(k&&k.defaultProps)for(G in le=k.defaultProps,le)ee[G]===void 0&&(ee[G]=le[G]);return D(k,ae,void 0,void 0,null,ee)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(k){return{$$typeof:c,render:k}},Ue.isValidElement=q,Ue.lazy=function(k){return{$$typeof:p,_payload:{_status:-1,_result:k},_init:Z}},Ue.memo=function(k,Y){return{$$typeof:d,type:k,compare:Y===void 0?null:Y}},Ue.startTransition=function(k){var Y=z.T,$={};z.T=$;try{var G=k(),ee=z.S;ee!==null&&ee($,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(J,H)}catch(ae){H(ae)}finally{z.T=Y}},Ue.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Ue.use=function(k){return z.H.use(k)},Ue.useActionState=function(k,Y,$){return z.H.useActionState(k,Y,$)},Ue.useCallback=function(k,Y){return z.H.useCallback(k,Y)},Ue.useContext=function(k){return z.H.useContext(k)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(k,Y){return z.H.useDeferredValue(k,Y)},Ue.useEffect=function(k,Y,$){var G=z.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(k,Y)},Ue.useId=function(){return z.H.useId()},Ue.useImperativeHandle=function(k,Y,$){return z.H.useImperativeHandle(k,Y,$)},Ue.useInsertionEffect=function(k,Y){return z.H.useInsertionEffect(k,Y)},Ue.useLayoutEffect=function(k,Y){return z.H.useLayoutEffect(k,Y)},Ue.useMemo=function(k,Y){return z.H.useMemo(k,Y)},Ue.useOptimistic=function(k,Y){return z.H.useOptimistic(k,Y)},Ue.useReducer=function(k,Y,$){return z.H.useReducer(k,Y,$)},Ue.useRef=function(k){return z.H.useRef(k)},Ue.useState=function(k){return z.H.useState(k)},Ue.useSyncExternalStore=function(k,Y,$){return z.H.useSyncExternalStore(k,Y,$)},Ue.useTransition=function(){return z.H.useTransition()},Ue.version="19.1.0",Ue}var dS;function Jg(){return dS||(dS=1,Zp.exports=Tk()),Zp.exports}var S=Jg();const gt=Xg(S),Ec=Ek({__proto__:null,default:gt},[S]);var em={exports:{}},$l={},tm={exports:{}},nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function Ok(){return hS||(hS=1,function(n){function e(_,Z){var H=_.length;_.push(Z);e:for(;0<H;){var J=H-1>>>1,k=_[J];if(0<i(k,Z))_[J]=Z,_[H]=k,H=J;else break e}}function t(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var Z=_[0],H=_.pop();if(H!==Z){_[0]=H;e:for(var J=0,k=_.length,Y=k>>>1;J<Y;){var $=2*(J+1)-1,G=_[$],ee=$+1,ae=_[ee];if(0>i(G,H))ee<k&&0>i(ae,G)?(_[J]=ae,_[ee]=H,J=ee):(_[J]=G,_[$]=H,J=$);else if(ee<k&&0>i(ae,H))_[J]=ae,_[ee]=H,J=ee;else break e}}return Z}function i(_,Z){var H=_.sortIndex-Z.sortIndex;return H!==0?H:_.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],d=[],p=1,m=null,y=3,b=!1,x=!1,w=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function L(_){for(var Z=t(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=_)r(d),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=t(d)}}function z(_){if(w=!1,L(_),!x)if(t(f)!==null)x=!0,R||(R=!0,me());else{var Z=t(d);Z!==null&&de(z,Z.startTime-_)}}var R=!1,D=-1,j=5,q=-1;function ie(){return E?!0:!(n.unstable_now()-q<j)}function ce(){if(E=!1,R){var _=n.unstable_now();q=_;var Z=!0;try{e:{x=!1,w&&(w=!1,N(D),D=-1),b=!0;var H=y;try{t:{for(L(_),m=t(f);m!==null&&!(m.expirationTime>_&&ie());){var J=m.callback;if(typeof J=="function"){m.callback=null,y=m.priorityLevel;var k=J(m.expirationTime<=_);if(_=n.unstable_now(),typeof k=="function"){m.callback=k,L(_),Z=!0;break t}m===t(f)&&r(f),L(_)}else r(f);m=t(f)}if(m!==null)Z=!0;else{var Y=t(d);Y!==null&&de(z,Y.startTime-_),Z=!1}}break e}finally{m=null,y=H,b=!1}Z=void 0}}finally{Z?me():R=!1}}}var me;if(typeof A=="function")me=function(){A(ce)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,fe=pe.port2;pe.port1.onmessage=ce,me=function(){fe.postMessage(null)}}else me=function(){T(ce,0)};function de(_,Z){D=T(function(){_(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_){_.callback=null},n.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<_?Math.floor(1e3/_):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(_){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var H=y;y=Z;try{return _()}finally{y=H}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(_,Z){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var H=y;y=_;try{return Z()}finally{y=H}},n.unstable_scheduleCallback=function(_,Z,H){var J=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,_){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=H+k,_={id:p++,callback:Z,priorityLevel:_,startTime:H,expirationTime:k,sortIndex:-1},H>J?(_.sortIndex=H,e(d,_),t(f)===null&&_===t(d)&&(w?(N(D),D=-1):w=!0,de(z,H-J))):(_.sortIndex=k,e(f,_),x||b||(x=!0,R||(R=!0,me()))),_},n.unstable_shouldYield=ie,n.unstable_wrapCallback=function(_){var Z=y;return function(){var H=y;y=Z;try{return _.apply(this,arguments)}finally{y=H}}}}(nm)),nm}var pS;function Nk(){return pS||(pS=1,tm.exports=Ok()),tm.exports}var rm={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function Rk(){if(mS)return sn;mS=1;var n=Jg();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,p)},sn.flushSync=function(f){var d=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=p,r.d.f()}},sn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},sn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},sn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},sn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},sn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},sn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},sn.requestFormReset=function(f){r.d.r(f)},sn.unstable_batchedUpdates=function(f,d){return f(d)},sn.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},sn.useFormStatus=function(){return l.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var gS;function hE(){if(gS)return rm.exports;gS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rm.exports=Rk(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function Ak(){if(yS)return $l;yS=1;var n=Nk(),e=Jg(),t=hE();function r(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function l(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(r(188))}function f(o){var a=o.alternate;if(!a){if(a=s(o),a===null)throw Error(r(188));return a!==o?null:o}for(var u=o,h=a;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return c(g),o;if(v===h)return c(g),a;v=v.sibling}throw Error(r(188))}if(u.return!==h.return)u=g,h=v;else{for(var M=!1,O=g.child;O;){if(O===u){M=!0,u=g,h=v;break}if(O===h){M=!0,h=g,u=v;break}O=O.sibling}if(!M){for(O=v.child;O;){if(O===u){M=!0,u=v,h=g;break}if(O===h){M=!0,h=v,u=g;break}O=O.sibling}if(!M)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?o:a}function d(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=d(o),a!==null)return a;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),A=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function me(o){return o===null||typeof o!="object"?null:(o=ce&&o[ce]||o["@@iterator"],typeof o=="function"?o:null)}var pe=Symbol.for("react.client.reference");function fe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===pe?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case z:return"Suspense";case R:return"SuspenseList";case q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case A:return(o.displayName||"Context")+".Provider";case N:return(o._context.displayName||"Context")+".Consumer";case L:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return a=o.displayName||null,a!==null?a:fe(o.type)||"Memo";case j:a=o._payload,o=o._init;try{return fe(o(a))}catch{}}return null}var de=Array.isArray,_=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},J=[],k=-1;function Y(o){return{current:o}}function $(o){0>k||(o.current=J[k],J[k]=null,k--)}function G(o,a){k++,J[k]=o.current,o.current=a}var ee=Y(null),ae=Y(null),le=Y(null),re=Y(null);function ge(o,a){switch(G(le,a),G(ae,o),G(ee,null),a.nodeType){case 9:case 11:o=(o=a.documentElement)&&(o=o.namespaceURI)?jx(o):0;break;default:if(o=a.tagName,a=a.namespaceURI)a=jx(a),o=Ix(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}$(ee),G(ee,o)}function Se(){$(ee),$(ae),$(le)}function be(o){o.memoizedState!==null&&G(re,o);var a=ee.current,u=Ix(a,o.type);a!==u&&(G(ae,o),G(ee,u))}function Le(o){ae.current===o&&($(ee),$(ae)),re.current===o&&($(re),Ll._currentValue=H)}var Be=Object.prototype.hasOwnProperty,it=n.unstable_scheduleCallback,ct=n.unstable_cancelCallback,Mn=n.unstable_shouldYield,Tn=n.unstable_requestPaint,St=n.unstable_now,Fr=n.unstable_getCurrentPriorityLevel,_t=n.unstable_ImmediatePriority,jc=n.unstable_UserBlockingPriority,ws=n.unstable_NormalPriority,Vr=n.unstable_LowPriority,bi=n.unstable_IdlePriority,Ic=n.log,Ua=n.unstable_setDisableYieldValue,yn=null,wt=null;function lr(o){if(typeof Ic=="function"&&Ua(o),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(yn,o)}catch{}}var Gt=Math.clz32?Math.clz32:Bc,Gd=Math.log,wr=Math.LN2;function Bc(o){return o>>>=0,o===0?32:31-(Gd(o)/wr|0)|0}var Mo=256,To=4194304;function qr(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Oo(o,a,u){var h=o.pendingLanes;if(h===0)return 0;var g=0,v=o.suspendedLanes,M=o.pingedLanes;o=o.warmLanes;var O=h&134217727;return O!==0?(h=O&~v,h!==0?g=qr(h):(M&=O,M!==0?g=qr(M):u||(u=O&~o,u!==0&&(g=qr(u))))):(O=h&~v,O!==0?g=qr(O):M!==0?g=qr(M):u||(u=h&~o,u!==0&&(g=qr(u)))),g===0?0:a!==0&&a!==g&&(a&v)===0&&(v=g&-g,u=a&-a,v>=u||v===32&&(u&4194048)!==0)?a:g}function Er(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function $c(o,a){switch(o){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(){var o=Mo;return Mo<<=1,(Mo&4194048)===0&&(Mo=256),o}function Hc(){var o=To;return To<<=1,(To&62914560)===0&&(To=4194304),o}function Cs(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function No(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Uc(o,a,u,h,g,v){var M=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var O=o.entanglements,P=o.expirationTimes,K=o.hiddenUpdates;for(u=M&~u;0<u;){var te=31-Gt(u),oe=1<<te;O[te]=0,P[te]=-1;var W=K[te];if(W!==null)for(K[te]=null,te=0;te<W.length;te++){var X=W[te];X!==null&&(X.lane&=-536870913)}u&=~oe}h!==0&&Ro(o,h,0),v!==0&&g===0&&o.tag!==0&&(o.suspendedLanes|=v&~(M&~a))}function Ro(o,a,u){o.pendingLanes|=a,o.suspendedLanes&=~a;var h=31-Gt(a);o.entangledLanes|=a,o.entanglements[h]=o.entanglements[h]|1073741824|u&4194090}function Ao(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var h=31-Gt(u),g=1<<h;g&a|o[h]&a&&(o[h]|=a),u&=~g}}function Fa(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Va(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function I(){var o=Z.p;return o!==0?o:(o=window.event,o===void 0?32:rS(o.type))}function F(o,a){var u=Z.p;try{return Z.p=o,a()}finally{Z.p=u}}var Q=Math.random().toString(36).slice(2),se="__reactFiber$"+Q,he="__reactProps$"+Q,Te="__reactContainer$"+Q,ke="__reactEvents$"+Q,xe="__reactListeners$"+Q,Re="__reactHandles$"+Q,Ae="__reactResources$"+Q,_e="__reactMarker$"+Q;function Oe(o){delete o[se],delete o[he],delete o[ke],delete o[xe],delete o[Re]}function Ie(o){var a=o[se];if(a)return a;for(var u=o.parentNode;u;){if(a=u[Te]||u[se]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=Ux(o);o!==null;){if(u=o[se])return u;o=Ux(o)}return a}o=u,u=o.parentNode}return null}function tt(o){if(o=o[se]||o[Te]){var a=o.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return o}return null}function vt(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(r(33))}function Et(o){var a=o[Ae];return a||(a=o[Ae]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function nt(o){o[_e]=!0}var Ze=new Set,xi={};function fn(o,a){Fn(o,a),Fn(o+"Capture",a)}function Fn(o,a){for(xi[o]=a,o=0;o<a.length;o++)Ze.add(a[o])}var vn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Si={},wi={};function qa(o){return Be.call(wi,o)?!0:Be.call(Si,o)?!1:vn.test(o)?wi[o]=!0:(Si[o]=!0,!1)}function Vn(o,a,u){if(qa(a))if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+u)}}function Yr(o,a,u){if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+u)}}function Ye(o,a,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(a,u,""+h)}}var rn,cr;function ur(o){if(rn===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);rn=a&&a[1]||"",cr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+o+cr}var ko=!1;function bt(o,a){if(!o||ko)return"";ko=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(X){var W=X}Reflect.construct(o,[],oe)}else{try{oe.call()}catch(X){W=X}o.call(oe.prototype)}}else{try{throw Error()}catch(X){W=X}(oe=o())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),M=v[0],O=v[1];if(M&&O){var P=M.split(`
`),K=O.split(`
`);for(g=h=0;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(h===P.length||g===K.length)for(h=P.length-1,g=K.length-1;1<=h&&0<=g&&P[h]!==K[g];)g--;for(;1<=h&&0<=g;h--,g--)if(P[h]!==K[g]){if(h!==1||g!==1)do if(h--,g--,0>g||P[h]!==K[g]){var te=`
`+P[h].replace(" at new "," at ");return o.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",o.displayName)),te}while(1<=h&&0<=g);break}}}finally{ko=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?ur(u):""}function Ei(o){switch(o.tag){case 26:case 27:case 5:return ur(o.type);case 16:return ur("Lazy");case 13:return ur("Suspense");case 19:return ur("SuspenseList");case 0:case 15:return bt(o.type,!1);case 11:return bt(o.type.render,!1);case 1:return bt(o.type,!0);case 31:return ur("Activity");default:return""}}function Ya(o){try{var a="";do a+=Ei(o),o=o.return;while(o);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function bn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Dv(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function vR(o){var a=Dv(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),h=""+o[a];if(!o.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return g.call(this)},set:function(M){h=""+M,v.call(this,M)}}),Object.defineProperty(o,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(M){h=""+M},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Fc(o){o._valueTracker||(o._valueTracker=vR(o))}function Pv(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return o&&(h=Dv(o)?o.checked?"true":"false":o.value),o=h,o!==u?(a.setValue(o),!0):!1}function Vc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var bR=/[\n"\\]/g;function qn(o){return o.replace(bR,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Wd(o,a,u,h,g,v,M,O){o.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.type=M:o.removeAttribute("type"),a!=null?M==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+bn(a)):o.value!==""+bn(a)&&(o.value=""+bn(a)):M!=="submit"&&M!=="reset"||o.removeAttribute("value"),a!=null?Xd(o,M,bn(a)):u!=null?Xd(o,M,bn(u)):h!=null&&o.removeAttribute("value"),g==null&&v!=null&&(o.defaultChecked=!!v),g!=null&&(o.checked=g&&typeof g!="function"&&typeof g!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.name=""+bn(O):o.removeAttribute("name")}function Lv(o,a,u,h,g,v,M,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(o.type=v),a!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;u=u!=null?""+bn(u):"",a=a!=null?""+bn(a):u,O||a===o.value||(o.value=a),o.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,o.checked=O?o.checked:!!h,o.defaultChecked=!!h,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.name=M)}function Xd(o,a,u){a==="number"&&Vc(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function Ms(o,a,u,h){if(o=o.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<o.length;u++)g=a.hasOwnProperty("$"+o[u].value),o[u].selected!==g&&(o[u].selected=g),g&&h&&(o[u].defaultSelected=!0)}else{for(u=""+bn(u),a=null,g=0;g<o.length;g++){if(o[g].value===u){o[g].selected=!0,h&&(o[g].defaultSelected=!0);return}a!==null||o[g].disabled||(a=o[g])}a!==null&&(a.selected=!0)}}function zv(o,a,u){if(a!=null&&(a=""+bn(a),a!==o.value&&(o.value=a),u==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=u!=null?""+bn(u):""}function _v(o,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(de(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=bn(a),o.defaultValue=u,h=o.textContent,h===u&&h!==""&&h!==null&&(o.value=h)}function Ts(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var xR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jv(o,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":h?o.setProperty(a,u):typeof u!="number"||u===0||xR.has(a)?a==="float"?o.cssFloat=u:o[a]=(""+u).trim():o[a]=u+"px"}function Iv(o,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(o=o.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?o.setProperty(h,""):h==="float"?o.cssFloat="":o[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&u[g]!==h&&jv(o,g,h)}else for(var v in a)a.hasOwnProperty(v)&&jv(o,v,a[v])}function Jd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qc(o){return wR.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Qd=null;function Zd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Os=null,Ns=null;function Bv(o){var a=tt(o);if(a&&(o=a.stateNode)){var u=o[he]||null;e:switch(o=a.stateNode,a.type){case"input":if(Wd(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+qn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==o&&h.form===o.form){var g=h[he]||null;if(!g)throw Error(r(90));Wd(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===o.form&&Pv(h)}break e;case"textarea":zv(o,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ms(o,!!u.multiple,a,!1)}}}var eh=!1;function $v(o,a,u){if(eh)return o(a,u);eh=!0;try{var h=o(a);return h}finally{if(eh=!1,(Os!==null||Ns!==null)&&(Au(),Os&&(a=Os,o=Ns,Ns=Os=null,Bv(a),o)))for(a=0;a<o.length;a++)Bv(o[a])}}function Ka(o,a){var u=o.stateNode;if(u===null)return null;var h=u[he]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),th=!1;if(Kr)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){th=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{th=!1}var Ci=null,nh=null,Yc=null;function Hv(){if(Yc)return Yc;var o,a=nh,u=a.length,h,g="value"in Ci?Ci.value:Ci.textContent,v=g.length;for(o=0;o<u&&a[o]===g[o];o++);var M=u-o;for(h=1;h<=M&&a[u-h]===g[v-h];h++);return Yc=g.slice(o,1<h?1-h:void 0)}function Kc(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Gc(){return!0}function Uv(){return!1}function xn(o){function a(u,h,g,v,M){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=M,this.currentTarget=null;for(var O in o)o.hasOwnProperty(O)&&(u=o[O],this[O]=u?u(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Gc:Uv,this.isPropagationStopped=Uv,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),a}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=xn(Do),Wa=p({},Do,{view:0,detail:0}),ER=xn(Wa),rh,ih,Xa,Xc=p({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Xa&&(Xa&&o.type==="mousemove"?(rh=o.screenX-Xa.screenX,ih=o.screenY-Xa.screenY):ih=rh=0,Xa=o),rh)},movementY:function(o){return"movementY"in o?o.movementY:ih}}),Fv=xn(Xc),CR=p({},Xc,{dataTransfer:0}),MR=xn(CR),TR=p({},Wa,{relatedTarget:0}),oh=xn(TR),OR=p({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),NR=xn(OR),RR=p({},Do,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),AR=xn(RR),kR=p({},Do,{data:0}),Vv=xn(kR),DR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zR(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=LR[o])?!!a[o]:!1}function sh(){return zR}var _R=p({},Wa,{key:function(o){if(o.key){var a=DR[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Kc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?PR[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sh,charCode:function(o){return o.type==="keypress"?Kc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Kc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),jR=xn(_R),IR=p({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qv=xn(IR),BR=p({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sh}),$R=xn(BR),HR=p({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),UR=xn(HR),FR=p({},Xc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),VR=xn(FR),qR=p({},Do,{newState:0,oldState:0}),YR=xn(qR),KR=[9,13,27,32],ah=Kr&&"CompositionEvent"in window,Ja=null;Kr&&"documentMode"in document&&(Ja=document.documentMode);var GR=Kr&&"TextEvent"in window&&!Ja,Yv=Kr&&(!ah||Ja&&8<Ja&&11>=Ja),Kv=" ",Gv=!1;function Wv(o,a){switch(o){case"keyup":return KR.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Rs=!1;function WR(o,a){switch(o){case"compositionend":return Xv(a);case"keypress":return a.which!==32?null:(Gv=!0,Kv);case"textInput":return o=a.data,o===Kv&&Gv?null:o;default:return null}}function XR(o,a){if(Rs)return o==="compositionend"||!ah&&Wv(o,a)?(o=Hv(),Yc=nh=Ci=null,Rs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Yv&&a.locale!=="ko"?null:a.data;default:return null}}var JR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jv(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!JR[o.type]:a==="textarea"}function Qv(o,a,u,h){Os?Ns?Ns.push(h):Ns=[h]:Os=h,a=_u(a,"onChange"),0<a.length&&(u=new Wc("onChange","change",null,u,h),o.push({event:u,listeners:a}))}var Qa=null,Za=null;function QR(o){Dx(o,0)}function Jc(o){var a=vt(o);if(Pv(a))return o}function Zv(o,a){if(o==="change")return a}var e0=!1;if(Kr){var lh;if(Kr){var ch="oninput"in document;if(!ch){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),ch=typeof t0.oninput=="function"}lh=ch}else lh=!1;e0=lh&&(!document.documentMode||9<document.documentMode)}function n0(){Qa&&(Qa.detachEvent("onpropertychange",r0),Za=Qa=null)}function r0(o){if(o.propertyName==="value"&&Jc(Za)){var a=[];Qv(a,Za,o,Zd(o)),$v(QR,a)}}function ZR(o,a,u){o==="focusin"?(n0(),Qa=a,Za=u,Qa.attachEvent("onpropertychange",r0)):o==="focusout"&&n0()}function eA(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Jc(Za)}function tA(o,a){if(o==="click")return Jc(a)}function nA(o,a){if(o==="input"||o==="change")return Jc(a)}function rA(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var On=typeof Object.is=="function"?Object.is:rA;function el(o,a){if(On(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!Be.call(a,g)||!On(o[g],a[g]))return!1}return!0}function i0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function o0(o,a){var u=i0(o);o=0;for(var h;u;){if(u.nodeType===3){if(h=o+u.textContent.length,o<=a&&h>=a)return{node:u,offset:a-o};o=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=i0(u)}}function s0(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?s0(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function a0(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=Vc(o.document);a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=Vc(o.document)}return a}function uh(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}var iA=Kr&&"documentMode"in document&&11>=document.documentMode,As=null,fh=null,tl=null,dh=!1;function l0(o,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;dh||As==null||As!==Vc(h)||(h=As,"selectionStart"in h&&uh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),tl&&el(tl,h)||(tl=h,h=_u(fh,"onSelect"),0<h.length&&(a=new Wc("onSelect","select",null,a,u),o.push({event:a,listeners:h}),a.target=As)))}function Po(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var ks={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionrun:Po("Transition","TransitionRun"),transitionstart:Po("Transition","TransitionStart"),transitioncancel:Po("Transition","TransitionCancel"),transitionend:Po("Transition","TransitionEnd")},hh={},c0={};Kr&&(c0=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Lo(o){if(hh[o])return hh[o];if(!ks[o])return o;var a=ks[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in c0)return hh[o]=a[u];return o}var u0=Lo("animationend"),f0=Lo("animationiteration"),d0=Lo("animationstart"),oA=Lo("transitionrun"),sA=Lo("transitionstart"),aA=Lo("transitioncancel"),h0=Lo("transitionend"),p0=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function fr(o,a){p0.set(o,a),fn(a,[o])}var m0=new WeakMap;function Yn(o,a){if(typeof o=="object"&&o!==null){var u=m0.get(o);return u!==void 0?u:(a={value:o,source:a,stack:Ya(a)},m0.set(o,a),a)}return{value:o,source:a,stack:Ya(a)}}var Kn=[],Ds=0,mh=0;function Qc(){for(var o=Ds,a=mh=Ds=0;a<o;){var u=Kn[a];Kn[a++]=null;var h=Kn[a];Kn[a++]=null;var g=Kn[a];Kn[a++]=null;var v=Kn[a];if(Kn[a++]=null,h!==null&&g!==null){var M=h.pending;M===null?g.next=g:(g.next=M.next,M.next=g),h.pending=g}v!==0&&g0(u,g,v)}}function Zc(o,a,u,h){Kn[Ds++]=o,Kn[Ds++]=a,Kn[Ds++]=u,Kn[Ds++]=h,mh|=h,o.lanes|=h,o=o.alternate,o!==null&&(o.lanes|=h)}function gh(o,a,u,h){return Zc(o,a,u,h),eu(o)}function Ps(o,a){return Zc(o,null,null,a),eu(o)}function g0(o,a,u){o.lanes|=u;var h=o.alternate;h!==null&&(h.lanes|=u);for(var g=!1,v=o.return;v!==null;)v.childLanes|=u,h=v.alternate,h!==null&&(h.childLanes|=u),v.tag===22&&(o=v.stateNode,o===null||o._visibility&1||(g=!0)),o=v,v=v.return;return o.tag===3?(v=o.stateNode,g&&a!==null&&(g=31-Gt(u),o=v.hiddenUpdates,h=o[g],h===null?o[g]=[a]:h.push(a),a.lane=u|536870912),v):null}function eu(o){if(50<Tl)throw Tl=0,wp=null,Error(r(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var Ls={};function lA(o,a,u,h){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(o,a,u,h){return new lA(o,a,u,h)}function yh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Gr(o,a){var u=o.alternate;return u===null?(u=Nn(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function y0(o,a){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,a=u.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function tu(o,a,u,h,g,v){var M=0;if(h=o,typeof o=="function")yh(o)&&(M=1);else if(typeof o=="string")M=uk(o,u,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case q:return o=Nn(31,u,a,g),o.elementType=q,o.lanes=v,o;case x:return zo(u.children,g,v,a);case w:M=8,g|=24;break;case E:return o=Nn(12,u,a,g|2),o.elementType=E,o.lanes=v,o;case z:return o=Nn(13,u,a,g),o.elementType=z,o.lanes=v,o;case R:return o=Nn(19,u,a,g),o.elementType=R,o.lanes=v,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:case A:M=10;break e;case N:M=9;break e;case L:M=11;break e;case D:M=14;break e;case j:M=16,h=null;break e}M=29,u=Error(r(130,o===null?"null":typeof o,"")),h=null}return a=Nn(M,u,a,g),a.elementType=o,a.type=h,a.lanes=v,a}function zo(o,a,u,h){return o=Nn(7,o,h,a),o.lanes=u,o}function vh(o,a,u){return o=Nn(6,o,null,a),o.lanes=u,o}function bh(o,a,u){return a=Nn(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}var zs=[],_s=0,nu=null,ru=0,Gn=[],Wn=0,_o=null,Wr=1,Xr="";function jo(o,a){zs[_s++]=ru,zs[_s++]=nu,nu=o,ru=a}function v0(o,a,u){Gn[Wn++]=Wr,Gn[Wn++]=Xr,Gn[Wn++]=_o,_o=o;var h=Wr;o=Xr;var g=32-Gt(h)-1;h&=~(1<<g),u+=1;var v=32-Gt(a)+g;if(30<v){var M=g-g%5;v=(h&(1<<M)-1).toString(32),h>>=M,g-=M,Wr=1<<32-Gt(a)+g|u<<g|h,Xr=v+o}else Wr=1<<v|u<<g|h,Xr=o}function xh(o){o.return!==null&&(jo(o,1),v0(o,1,0))}function Sh(o){for(;o===nu;)nu=zs[--_s],zs[_s]=null,ru=zs[--_s],zs[_s]=null;for(;o===_o;)_o=Gn[--Wn],Gn[Wn]=null,Xr=Gn[--Wn],Gn[Wn]=null,Wr=Gn[--Wn],Gn[Wn]=null}var dn=null,Mt=null,ot=!1,Io=null,Cr=!1,wh=Error(r(519));function Bo(o){var a=Error(r(418,""));throw il(Yn(a,o)),wh}function b0(o){var a=o.stateNode,u=o.type,h=o.memoizedProps;switch(a[se]=o,a[he]=h,u){case"dialog":Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":case"embed":Xe("load",a);break;case"video":case"audio":for(u=0;u<Nl.length;u++)Xe(Nl[u],a);break;case"source":Xe("error",a);break;case"img":case"image":case"link":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"input":Xe("invalid",a),Lv(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Fc(a);break;case"select":Xe("invalid",a);break;case"textarea":Xe("invalid",a),_v(a,h.value,h.defaultValue,h.children),Fc(a)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||_x(a.textContent,u)?(h.popover!=null&&(Xe("beforetoggle",a),Xe("toggle",a)),h.onScroll!=null&&Xe("scroll",a),h.onScrollEnd!=null&&Xe("scrollend",a),h.onClick!=null&&(a.onclick=ju),a=!0):a=!1,a||Bo(o)}function x0(o){for(dn=o.return;dn;)switch(dn.tag){case 5:case 13:Cr=!1;return;case 27:case 3:Cr=!0;return;default:dn=dn.return}}function nl(o){if(o!==dn)return!1;if(!ot)return x0(o),ot=!0,!1;var a=o.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||Ip(o.type,o.memoizedProps)),u=!u),u&&Mt&&Bo(o),x0(o),a===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8)if(u=o.data,u==="/$"){if(a===0){Mt=hr(o.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;o=o.nextSibling}Mt=null}}else a===27?(a=Mt,$i(o.type)?(o=Up,Up=null,Mt=o):Mt=a):Mt=dn?hr(o.stateNode.nextSibling):null;return!0}function rl(){Mt=dn=null,ot=!1}function S0(){var o=Io;return o!==null&&(En===null?En=o:En.push.apply(En,o),Io=null),o}function il(o){Io===null?Io=[o]:Io.push(o)}var Eh=Y(null),$o=null,Jr=null;function Mi(o,a,u){G(Eh,a._currentValue),a._currentValue=u}function Qr(o){o._currentValue=Eh.current,$(Eh)}function Ch(o,a,u){for(;o!==null;){var h=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),o===u)break;o=o.return}}function Mh(o,a,u,h){var g=o.child;for(g!==null&&(g.return=o);g!==null;){var v=g.dependencies;if(v!==null){var M=g.child;v=v.firstContext;e:for(;v!==null;){var O=v;v=g;for(var P=0;P<a.length;P++)if(O.context===a[P]){v.lanes|=u,O=v.alternate,O!==null&&(O.lanes|=u),Ch(v.return,u,o),h||(M=null);break e}v=O.next}}else if(g.tag===18){if(M=g.return,M===null)throw Error(r(341));M.lanes|=u,v=M.alternate,v!==null&&(v.lanes|=u),Ch(M,u,o),M=null}else M=g.child;if(M!==null)M.return=g;else for(M=g;M!==null;){if(M===o){M=null;break}if(g=M.sibling,g!==null){g.return=M.return,M=g;break}M=M.return}g=M}}function ol(o,a,u,h){o=null;for(var g=a,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var M=g.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var O=g.type;On(g.pendingProps.value,M.value)||(o!==null?o.push(O):o=[O])}}else if(g===re.current){if(M=g.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(o!==null?o.push(Ll):o=[Ll])}g=g.return}o!==null&&Mh(a,o,u,h),a.flags|=262144}function iu(o){for(o=o.firstContext;o!==null;){if(!On(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ho(o){$o=o,Jr=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function on(o){return w0($o,o)}function ou(o,a){return $o===null&&Ho(o),w0(o,a)}function w0(o,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Jr===null){if(o===null)throw Error(r(308));Jr=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else Jr=Jr.next=a;return u}var cA=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(u,h){o.push(h)}};this.abort=function(){a.aborted=!0,o.forEach(function(u){return u()})}},uA=n.unstable_scheduleCallback,fA=n.unstable_NormalPriority,jt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Th(){return{controller:new cA,data:new Map,refCount:0}}function sl(o){o.refCount--,o.refCount===0&&uA(fA,function(){o.controller.abort()})}var al=null,Oh=0,js=0,Is=null;function dA(o,a){if(al===null){var u=al=[];Oh=0,js=Rp(),Is={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Oh++,a.then(E0,E0),a}function E0(){if(--Oh===0&&al!==null){Is!==null&&(Is.status="fulfilled");var o=al;al=null,js=0,Is=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function hA(o,a){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return o.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<u.length;g++)(0,u[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var C0=_.S;_.S=function(o,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&dA(o,a),C0!==null&&C0(o,a)};var Uo=Y(null);function Nh(){var o=Uo.current;return o!==null?o:mt.pooledCache}function su(o,a){a===null?G(Uo,Uo.current):G(Uo,a.pool)}function M0(){var o=Nh();return o===null?null:{parent:jt._currentValue,pool:o}}var ll=Error(r(460)),T0=Error(r(474)),au=Error(r(542)),Rh={then:function(){}};function O0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function lu(){}function N0(o,a,u){switch(u=o[u],u===void 0?o.push(a):u!==a&&(a.then(lu,lu),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,A0(o),o;default:if(typeof a.status=="string")a.then(lu,lu);else{if(o=mt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=a,o.status="pending",o.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,A0(o),o}throw cl=a,ll}}var cl=null;function R0(){if(cl===null)throw Error(r(459));var o=cl;return cl=null,o}function A0(o){if(o===ll||o===au)throw Error(r(483))}var Ti=!1;function Ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Oi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ni(o,a,u){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,(at&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=eu(o),g0(o,null,u),a}return Zc(o,h,a,u),eu(o)}function ul(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=o.pendingLanes,u|=h,a.lanes=u,Ao(o,u)}}function Dh(o,a){var u=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var M={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=M:v=v.next=M,u=u.next}while(u!==null);v===null?g=v=a:v=v.next=a}else g=v=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}var Ph=!1;function fl(){if(Ph){var o=Is;if(o!==null)throw o}}function dl(o,a,u,h){Ph=!1;var g=o.updateQueue;Ti=!1;var v=g.firstBaseUpdate,M=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var P=O,K=P.next;P.next=null,M===null?v=K:M.next=K,M=P;var te=o.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==M&&(O===null?te.firstBaseUpdate=K:O.next=K,te.lastBaseUpdate=P))}if(v!==null){var oe=g.baseState;M=0,te=K=P=null,O=v;do{var W=O.lane&-536870913,X=W!==O.lane;if(X?(et&W)===W:(h&W)===W){W!==0&&W===js&&(Ph=!0),te!==null&&(te=te.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var je=o,De=O;W=a;var dt=u;switch(De.tag){case 1:if(je=De.payload,typeof je=="function"){oe=je.call(dt,oe,W);break e}oe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=De.payload,W=typeof je=="function"?je.call(dt,oe,W):je,W==null)break e;oe=p({},oe,W);break e;case 2:Ti=!0}}W=O.callback,W!==null&&(o.flags|=64,X&&(o.flags|=8192),X=g.callbacks,X===null?g.callbacks=[W]:X.push(W))}else X={lane:W,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(K=te=X,P=oe):te=te.next=X,M|=W;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;X=O,O=X.next,X.next=null,g.lastBaseUpdate=X,g.shared.pending=null}}while(!0);te===null&&(P=oe),g.baseState=P,g.firstBaseUpdate=K,g.lastBaseUpdate=te,v===null&&(g.shared.lanes=0),_i|=M,o.lanes=M,o.memoizedState=oe}}function k0(o,a){if(typeof o!="function")throw Error(r(191,o));o.call(a)}function D0(o,a){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)k0(u[o],a)}var Bs=Y(null),cu=Y(0);function P0(o,a){o=oi,G(cu,o),G(Bs,a),oi=o|a.baseLanes}function Lh(){G(cu,oi),G(Bs,Bs.current)}function zh(){oi=cu.current,$(Bs),$(cu)}var Ri=0,Fe=null,ut=null,kt=null,uu=!1,$s=!1,Fo=!1,fu=0,hl=0,Hs=null,pA=0;function Nt(){throw Error(r(321))}function _h(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!On(o[u],a[u]))return!1;return!0}function jh(o,a,u,h,g,v){return Ri=v,Fe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,_.H=o===null||o.memoizedState===null?gb:yb,Fo=!1,v=u(h,g),Fo=!1,$s&&(v=z0(a,u,h,g)),L0(o),v}function L0(o){_.H=yu;var a=ut!==null&&ut.next!==null;if(Ri=0,kt=ut=Fe=null,uu=!1,hl=0,Hs=null,a)throw Error(r(300));o===null||Ht||(o=o.dependencies,o!==null&&iu(o)&&(Ht=!0))}function z0(o,a,u,h){Fe=o;var g=0;do{if($s&&(Hs=null),hl=0,$s=!1,25<=g)throw Error(r(301));if(g+=1,kt=ut=null,o.updateQueue!=null){var v=o.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}_.H=SA,v=a(u,h)}while($s);return v}function mA(){var o=_.H,a=o.useState()[0];return a=typeof a.then=="function"?pl(a):a,o=o.useState()[0],(ut!==null?ut.memoizedState:null)!==o&&(Fe.flags|=1024),a}function Ih(){var o=fu!==0;return fu=0,o}function Bh(o,a,u){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~u}function $h(o){if(uu){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}uu=!1}Ri=0,kt=ut=Fe=null,$s=!1,hl=fu=0,Hs=null}function Sn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Fe.memoizedState=kt=o:kt=kt.next=o,kt}function Dt(){if(ut===null){var o=Fe.alternate;o=o!==null?o.memoizedState:null}else o=ut.next;var a=kt===null?Fe.memoizedState:kt.next;if(a!==null)kt=a,ut=o;else{if(o===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));ut=o,o={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},kt===null?Fe.memoizedState=kt=o:kt=kt.next=o}return kt}function Hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(o){var a=hl;return hl+=1,Hs===null&&(Hs=[]),o=N0(Hs,o,a),a=Fe,(kt===null?a.memoizedState:kt.next)===null&&(a=a.alternate,_.H=a===null||a.memoizedState===null?gb:yb),o}function du(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return pl(o);if(o.$$typeof===A)return on(o)}throw Error(r(438,String(o)))}function Uh(o){var a=null,u=Fe.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=Fe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Hh(),Fe.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(o),h=0;h<o;h++)u[h]=ie;return a.index++,u}function Zr(o,a){return typeof a=="function"?a(o):a}function hu(o){var a=Dt();return Fh(a,ut,o)}function Fh(o,a,u){var h=o.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var g=o.baseQueue,v=h.pending;if(v!==null){if(g!==null){var M=g.next;g.next=v.next,v.next=M}a.baseQueue=g=v,h.pending=null}if(v=o.baseState,g===null)o.memoizedState=v;else{a=g.next;var O=M=null,P=null,K=a,te=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(et&oe)===oe:(Ri&oe)===oe){var W=K.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===js&&(te=!0);else if((Ri&W)===W){K=K.next,W===js&&(te=!0);continue}else oe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(O=P=oe,M=v):P=P.next=oe,Fe.lanes|=W,_i|=W;oe=K.action,Fo&&u(v,oe),v=K.hasEagerState?K.eagerState:u(v,oe)}else W={lane:oe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(O=P=W,M=v):P=P.next=W,Fe.lanes|=oe,_i|=oe;K=K.next}while(K!==null&&K!==a);if(P===null?M=v:P.next=O,!On(v,o.memoizedState)&&(Ht=!0,te&&(u=Is,u!==null)))throw u;o.memoizedState=v,o.baseState=M,o.baseQueue=P,h.lastRenderedState=v}return g===null&&(h.lanes=0),[o.memoizedState,h.dispatch]}function Vh(o){var a=Dt(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=u.dispatch,g=u.pending,v=a.memoizedState;if(g!==null){u.pending=null;var M=g=g.next;do v=o(v,M.action),M=M.next;while(M!==g);On(v,a.memoizedState)||(Ht=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),u.lastRenderedState=v}return[v,h]}function _0(o,a,u){var h=Fe,g=Dt(),v=ot;if(v){if(u===void 0)throw Error(r(407));u=u()}else u=a();var M=!On((ut||g).memoizedState,u);M&&(g.memoizedState=u,Ht=!0),g=g.queue;var O=B0.bind(null,h,g,o);if(ml(2048,8,O,[o]),g.getSnapshot!==a||M||kt!==null&&kt.memoizedState.tag&1){if(h.flags|=2048,Us(9,pu(),I0.bind(null,h,g,u,a),null),mt===null)throw Error(r(349));v||(Ri&124)!==0||j0(h,a,u)}return u}function j0(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=Fe.updateQueue,a===null?(a=Hh(),Fe.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function I0(o,a,u,h){a.value=u,a.getSnapshot=h,$0(a)&&H0(o)}function B0(o,a,u){return u(function(){$0(a)&&H0(o)})}function $0(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!On(o,u)}catch{return!0}}function H0(o){var a=Ps(o,2);a!==null&&Pn(a,o,2)}function qh(o){var a=Sn();if(typeof o=="function"){var u=o;if(o=u(),Fo){lr(!0);try{u()}finally{lr(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:o},a}function U0(o,a,u,h){return o.baseState=u,Fh(o,ut,typeof h=="function"?h:Zr)}function gA(o,a,u,h,g){if(gu(o))throw Error(r(485));if(o=a.action,o!==null){var v={payload:g,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){v.listeners.push(M)}};_.T!==null?u(!0):v.isTransition=!1,h(v),u=a.pending,u===null?(v.next=a.pending=v,F0(a,v)):(v.next=u.next,a.pending=u.next=v)}}function F0(o,a){var u=a.action,h=a.payload,g=o.state;if(a.isTransition){var v=_.T,M={};_.T=M;try{var O=u(g,h),P=_.S;P!==null&&P(M,O),V0(o,a,O)}catch(K){Yh(o,a,K)}finally{_.T=v}}else try{v=u(g,h),V0(o,a,v)}catch(K){Yh(o,a,K)}}function V0(o,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){q0(o,a,h)},function(h){return Yh(o,a,h)}):q0(o,a,u)}function q0(o,a,u){a.status="fulfilled",a.value=u,Y0(a),o.state=u,a=o.pending,a!==null&&(u=a.next,u===a?o.pending=null:(u=u.next,a.next=u,F0(o,u)))}function Yh(o,a,u){var h=o.pending;if(o.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,Y0(a),a=a.next;while(a!==h)}o.action=null}function Y0(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function K0(o,a){return a}function G0(o,a){if(ot){var u=mt.formState;if(u!==null){e:{var h=Fe;if(ot){if(Mt){t:{for(var g=Mt,v=Cr;g.nodeType!==8;){if(!v){g=null;break t}if(g=hr(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Mt=hr(g.nextSibling),h=g.data==="F!";break e}}Bo(h)}h=!1}h&&(a=u[0])}}return u=Sn(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K0,lastRenderedState:a},u.queue=h,u=hb.bind(null,Fe,h),h.dispatch=u,h=qh(!1),v=Jh.bind(null,Fe,!1,h.queue),h=Sn(),g={state:a,dispatch:null,action:o,pending:null},h.queue=g,u=gA.bind(null,Fe,g,v,u),g.dispatch=u,h.memoizedState=o,[a,u,!1]}function W0(o){var a=Dt();return X0(a,ut,o)}function X0(o,a,u){if(a=Fh(o,a,K0)[0],o=hu(Zr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=pl(a)}catch(M){throw M===ll?au:M}else h=a;a=Dt();var g=a.queue,v=g.dispatch;return u!==a.memoizedState&&(Fe.flags|=2048,Us(9,pu(),yA.bind(null,g,u),null)),[h,v,o]}function yA(o,a){o.action=a}function J0(o){var a=Dt(),u=ut;if(u!==null)return X0(a,u,o);Dt(),a=a.memoizedState,u=Dt();var h=u.queue.dispatch;return u.memoizedState=o,[a,h,!1]}function Us(o,a,u,h){return o={tag:o,create:u,deps:h,inst:a,next:null},a=Fe.updateQueue,a===null&&(a=Hh(),Fe.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=o.next=o:(h=u.next,u.next=o,o.next=h,a.lastEffect=o),o}function pu(){return{destroy:void 0,resource:void 0}}function Q0(){return Dt().memoizedState}function mu(o,a,u,h){var g=Sn();h=h===void 0?null:h,Fe.flags|=o,g.memoizedState=Us(1|a,pu(),u,h)}function ml(o,a,u,h){var g=Dt();h=h===void 0?null:h;var v=g.memoizedState.inst;ut!==null&&h!==null&&_h(h,ut.memoizedState.deps)?g.memoizedState=Us(a,v,u,h):(Fe.flags|=o,g.memoizedState=Us(1|a,v,u,h))}function Z0(o,a){mu(8390656,8,o,a)}function eb(o,a){ml(2048,8,o,a)}function tb(o,a){return ml(4,2,o,a)}function nb(o,a){return ml(4,4,o,a)}function rb(o,a){if(typeof a=="function"){o=o();var u=a(o);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function ib(o,a,u){u=u!=null?u.concat([o]):null,ml(4,4,rb.bind(null,a,o),u)}function Kh(){}function ob(o,a){var u=Dt();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&_h(a,h[1])?h[0]:(u.memoizedState=[o,a],o)}function sb(o,a){var u=Dt();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&_h(a,h[1]))return h[0];if(h=o(),Fo){lr(!0);try{o()}finally{lr(!1)}}return u.memoizedState=[h,a],h}function Gh(o,a,u){return u===void 0||(Ri&1073741824)!==0?o.memoizedState=a:(o.memoizedState=u,o=cx(),Fe.lanes|=o,_i|=o,u)}function ab(o,a,u,h){return On(u,a)?u:Bs.current!==null?(o=Gh(o,u,h),On(o,a)||(Ht=!0),o):(Ri&42)===0?(Ht=!0,o.memoizedState=u):(o=cx(),Fe.lanes|=o,_i|=o,a)}function lb(o,a,u,h,g){var v=Z.p;Z.p=v!==0&&8>v?v:8;var M=_.T,O={};_.T=O,Jh(o,!1,a,u);try{var P=g(),K=_.S;if(K!==null&&K(O,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var te=hA(P,h);gl(o,a,te,Dn(o))}else gl(o,a,h,Dn(o))}catch(oe){gl(o,a,{then:function(){},status:"rejected",reason:oe},Dn())}finally{Z.p=v,_.T=M}}function vA(){}function Wh(o,a,u,h){if(o.tag!==5)throw Error(r(476));var g=cb(o).queue;lb(o,g,a,H,u===null?vA:function(){return ub(o),u(h)})}function cb(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:H},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:u},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function ub(o){var a=cb(o).next.queue;gl(o,a,{},Dn())}function Xh(){return on(Ll)}function fb(){return Dt().memoizedState}function db(){return Dt().memoizedState}function bA(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var u=Dn();o=Oi(u);var h=Ni(a,o,u);h!==null&&(Pn(h,a,u),ul(h,a,u)),a={cache:Th()},o.payload=a;return}a=a.return}}function xA(o,a,u){var h=Dn();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},gu(o)?pb(a,u):(u=gh(o,a,u,h),u!==null&&(Pn(u,o,h),mb(u,a,h)))}function hb(o,a,u){var h=Dn();gl(o,a,u,h)}function gl(o,a,u,h){var g={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(gu(o))pb(a,g);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var M=a.lastRenderedState,O=v(M,u);if(g.hasEagerState=!0,g.eagerState=O,On(O,M))return Zc(o,a,g,0),mt===null&&Qc(),!1}catch{}finally{}if(u=gh(o,a,g,h),u!==null)return Pn(u,o,h),mb(u,a,h),!0}return!1}function Jh(o,a,u,h){if(h={lane:2,revertLane:Rp(),action:h,hasEagerState:!1,eagerState:null,next:null},gu(o)){if(a)throw Error(r(479))}else a=gh(o,u,h,2),a!==null&&Pn(a,o,2)}function gu(o){var a=o.alternate;return o===Fe||a!==null&&a===Fe}function pb(o,a){$s=uu=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function mb(o,a,u){if((u&4194048)!==0){var h=a.lanes;h&=o.pendingLanes,u|=h,a.lanes=u,Ao(o,u)}}var yu={readContext:on,use:du,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},gb={readContext:on,use:du,useCallback:function(o,a){return Sn().memoizedState=[o,a===void 0?null:a],o},useContext:on,useEffect:Z0,useImperativeHandle:function(o,a,u){u=u!=null?u.concat([o]):null,mu(4194308,4,rb.bind(null,a,o),u)},useLayoutEffect:function(o,a){return mu(4194308,4,o,a)},useInsertionEffect:function(o,a){mu(4,2,o,a)},useMemo:function(o,a){var u=Sn();a=a===void 0?null:a;var h=o();if(Fo){lr(!0);try{o()}finally{lr(!1)}}return u.memoizedState=[h,a],h},useReducer:function(o,a,u){var h=Sn();if(u!==void 0){var g=u(a);if(Fo){lr(!0);try{u(a)}finally{lr(!1)}}}else g=a;return h.memoizedState=h.baseState=g,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:g},h.queue=o,o=o.dispatch=xA.bind(null,Fe,o),[h.memoizedState,o]},useRef:function(o){var a=Sn();return o={current:o},a.memoizedState=o},useState:function(o){o=qh(o);var a=o.queue,u=hb.bind(null,Fe,a);return a.dispatch=u,[o.memoizedState,u]},useDebugValue:Kh,useDeferredValue:function(o,a){var u=Sn();return Gh(u,o,a)},useTransition:function(){var o=qh(!1);return o=lb.bind(null,Fe,o.queue,!0,!1),Sn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,u){var h=Fe,g=Sn();if(ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),mt===null)throw Error(r(349));(et&124)!==0||j0(h,a,u)}g.memoizedState=u;var v={value:u,getSnapshot:a};return g.queue=v,Z0(B0.bind(null,h,v,o),[o]),h.flags|=2048,Us(9,pu(),I0.bind(null,h,v,u,a),null),u},useId:function(){var o=Sn(),a=mt.identifierPrefix;if(ot){var u=Xr,h=Wr;u=(h&~(1<<32-Gt(h)-1)).toString(32)+u,a=""+a+"R"+u,u=fu++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=pA++,a=""+a+"r"+u.toString(32)+"";return o.memoizedState=a},useHostTransitionStatus:Xh,useFormState:G0,useActionState:G0,useOptimistic:function(o){var a=Sn();a.memoizedState=a.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Jh.bind(null,Fe,!0,u),u.dispatch=a,[o,a]},useMemoCache:Uh,useCacheRefresh:function(){return Sn().memoizedState=bA.bind(null,Fe)}},yb={readContext:on,use:du,useCallback:ob,useContext:on,useEffect:eb,useImperativeHandle:ib,useInsertionEffect:tb,useLayoutEffect:nb,useMemo:sb,useReducer:hu,useRef:Q0,useState:function(){return hu(Zr)},useDebugValue:Kh,useDeferredValue:function(o,a){var u=Dt();return ab(u,ut.memoizedState,o,a)},useTransition:function(){var o=hu(Zr)[0],a=Dt().memoizedState;return[typeof o=="boolean"?o:pl(o),a]},useSyncExternalStore:_0,useId:fb,useHostTransitionStatus:Xh,useFormState:W0,useActionState:W0,useOptimistic:function(o,a){var u=Dt();return U0(u,ut,o,a)},useMemoCache:Uh,useCacheRefresh:db},SA={readContext:on,use:du,useCallback:ob,useContext:on,useEffect:eb,useImperativeHandle:ib,useInsertionEffect:tb,useLayoutEffect:nb,useMemo:sb,useReducer:Vh,useRef:Q0,useState:function(){return Vh(Zr)},useDebugValue:Kh,useDeferredValue:function(o,a){var u=Dt();return ut===null?Gh(u,o,a):ab(u,ut.memoizedState,o,a)},useTransition:function(){var o=Vh(Zr)[0],a=Dt().memoizedState;return[typeof o=="boolean"?o:pl(o),a]},useSyncExternalStore:_0,useId:fb,useHostTransitionStatus:Xh,useFormState:J0,useActionState:J0,useOptimistic:function(o,a){var u=Dt();return ut!==null?U0(u,ut,o,a):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:Uh,useCacheRefresh:db},Fs=null,yl=0;function vu(o){var a=yl;return yl+=1,Fs===null&&(Fs=[]),N0(Fs,o,a)}function vl(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function bu(o,a){throw a.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function vb(o){var a=o._init;return a(o._payload)}function bb(o){function a(U,B){if(o){var V=U.deletions;V===null?(U.deletions=[B],U.flags|=16):V.push(B)}}function u(U,B){if(!o)return null;for(;B!==null;)a(U,B),B=B.sibling;return null}function h(U){for(var B=new Map;U!==null;)U.key!==null?B.set(U.key,U):B.set(U.index,U),U=U.sibling;return B}function g(U,B){return U=Gr(U,B),U.index=0,U.sibling=null,U}function v(U,B,V){return U.index=V,o?(V=U.alternate,V!==null?(V=V.index,V<B?(U.flags|=67108866,B):V):(U.flags|=67108866,B)):(U.flags|=1048576,B)}function M(U){return o&&U.alternate===null&&(U.flags|=67108866),U}function O(U,B,V,ne){return B===null||B.tag!==6?(B=vh(V,U.mode,ne),B.return=U,B):(B=g(B,V),B.return=U,B)}function P(U,B,V,ne){var we=V.type;return we===x?te(U,B,V.props.children,ne,V.key):B!==null&&(B.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===j&&vb(we)===B.type)?(B=g(B,V.props),vl(B,V),B.return=U,B):(B=tu(V.type,V.key,V.props,null,U.mode,ne),vl(B,V),B.return=U,B)}function K(U,B,V,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==V.containerInfo||B.stateNode.implementation!==V.implementation?(B=bh(V,U.mode,ne),B.return=U,B):(B=g(B,V.children||[]),B.return=U,B)}function te(U,B,V,ne,we){return B===null||B.tag!==7?(B=zo(V,U.mode,ne,we),B.return=U,B):(B=g(B,V),B.return=U,B)}function oe(U,B,V){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=vh(""+B,U.mode,V),B.return=U,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return V=tu(B.type,B.key,B.props,null,U.mode,V),vl(V,B),V.return=U,V;case b:return B=bh(B,U.mode,V),B.return=U,B;case j:var ne=B._init;return B=ne(B._payload),oe(U,B,V)}if(de(B)||me(B))return B=zo(B,U.mode,V,null),B.return=U,B;if(typeof B.then=="function")return oe(U,vu(B),V);if(B.$$typeof===A)return oe(U,ou(U,B),V);bu(U,B)}return null}function W(U,B,V,ne){var we=B!==null?B.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return we!==null?null:O(U,B,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return V.key===we?P(U,B,V,ne):null;case b:return V.key===we?K(U,B,V,ne):null;case j:return we=V._init,V=we(V._payload),W(U,B,V,ne)}if(de(V)||me(V))return we!==null?null:te(U,B,V,ne,null);if(typeof V.then=="function")return W(U,B,vu(V),ne);if(V.$$typeof===A)return W(U,B,ou(U,V),ne);bu(U,V)}return null}function X(U,B,V,ne,we){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return U=U.get(V)||null,O(B,U,""+ne,we);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return U=U.get(ne.key===null?V:ne.key)||null,P(B,U,ne,we);case b:return U=U.get(ne.key===null?V:ne.key)||null,K(B,U,ne,we);case j:var Ke=ne._init;return ne=Ke(ne._payload),X(U,B,V,ne,we)}if(de(ne)||me(ne))return U=U.get(V)||null,te(B,U,ne,we,null);if(typeof ne.then=="function")return X(U,B,V,vu(ne),we);if(ne.$$typeof===A)return X(U,B,V,ou(B,ne),we);bu(B,ne)}return null}function je(U,B,V,ne){for(var we=null,Ke=null,Ne=B,ze=B=0,Ft=null;Ne!==null&&ze<V.length;ze++){Ne.index>ze?(Ft=Ne,Ne=null):Ft=Ne.sibling;var rt=W(U,Ne,V[ze],ne);if(rt===null){Ne===null&&(Ne=Ft);break}o&&Ne&&rt.alternate===null&&a(U,Ne),B=v(rt,B,ze),Ke===null?we=rt:Ke.sibling=rt,Ke=rt,Ne=Ft}if(ze===V.length)return u(U,Ne),ot&&jo(U,ze),we;if(Ne===null){for(;ze<V.length;ze++)Ne=oe(U,V[ze],ne),Ne!==null&&(B=v(Ne,B,ze),Ke===null?we=Ne:Ke.sibling=Ne,Ke=Ne);return ot&&jo(U,ze),we}for(Ne=h(Ne);ze<V.length;ze++)Ft=X(Ne,U,ze,V[ze],ne),Ft!==null&&(o&&Ft.alternate!==null&&Ne.delete(Ft.key===null?ze:Ft.key),B=v(Ft,B,ze),Ke===null?we=Ft:Ke.sibling=Ft,Ke=Ft);return o&&Ne.forEach(function(qi){return a(U,qi)}),ot&&jo(U,ze),we}function De(U,B,V,ne){if(V==null)throw Error(r(151));for(var we=null,Ke=null,Ne=B,ze=B=0,Ft=null,rt=V.next();Ne!==null&&!rt.done;ze++,rt=V.next()){Ne.index>ze?(Ft=Ne,Ne=null):Ft=Ne.sibling;var qi=W(U,Ne,rt.value,ne);if(qi===null){Ne===null&&(Ne=Ft);break}o&&Ne&&qi.alternate===null&&a(U,Ne),B=v(qi,B,ze),Ke===null?we=qi:Ke.sibling=qi,Ke=qi,Ne=Ft}if(rt.done)return u(U,Ne),ot&&jo(U,ze),we;if(Ne===null){for(;!rt.done;ze++,rt=V.next())rt=oe(U,rt.value,ne),rt!==null&&(B=v(rt,B,ze),Ke===null?we=rt:Ke.sibling=rt,Ke=rt);return ot&&jo(U,ze),we}for(Ne=h(Ne);!rt.done;ze++,rt=V.next())rt=X(Ne,U,ze,rt.value,ne),rt!==null&&(o&&rt.alternate!==null&&Ne.delete(rt.key===null?ze:rt.key),B=v(rt,B,ze),Ke===null?we=rt:Ke.sibling=rt,Ke=rt);return o&&Ne.forEach(function(wk){return a(U,wk)}),ot&&jo(U,ze),we}function dt(U,B,V,ne){if(typeof V=="object"&&V!==null&&V.type===x&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case y:e:{for(var we=V.key;B!==null;){if(B.key===we){if(we=V.type,we===x){if(B.tag===7){u(U,B.sibling),ne=g(B,V.props.children),ne.return=U,U=ne;break e}}else if(B.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===j&&vb(we)===B.type){u(U,B.sibling),ne=g(B,V.props),vl(ne,V),ne.return=U,U=ne;break e}u(U,B);break}else a(U,B);B=B.sibling}V.type===x?(ne=zo(V.props.children,U.mode,ne,V.key),ne.return=U,U=ne):(ne=tu(V.type,V.key,V.props,null,U.mode,ne),vl(ne,V),ne.return=U,U=ne)}return M(U);case b:e:{for(we=V.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){u(U,B.sibling),ne=g(B,V.children||[]),ne.return=U,U=ne;break e}else{u(U,B);break}else a(U,B);B=B.sibling}ne=bh(V,U.mode,ne),ne.return=U,U=ne}return M(U);case j:return we=V._init,V=we(V._payload),dt(U,B,V,ne)}if(de(V))return je(U,B,V,ne);if(me(V)){if(we=me(V),typeof we!="function")throw Error(r(150));return V=we.call(V),De(U,B,V,ne)}if(typeof V.then=="function")return dt(U,B,vu(V),ne);if(V.$$typeof===A)return dt(U,B,ou(U,V),ne);bu(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,B!==null&&B.tag===6?(u(U,B.sibling),ne=g(B,V),ne.return=U,U=ne):(u(U,B),ne=vh(V,U.mode,ne),ne.return=U,U=ne),M(U)):u(U,B)}return function(U,B,V,ne){try{yl=0;var we=dt(U,B,V,ne);return Fs=null,we}catch(Ne){if(Ne===ll||Ne===au)throw Ne;var Ke=Nn(29,Ne,null,U.mode);return Ke.lanes=ne,Ke.return=U,Ke}finally{}}}var Vs=bb(!0),xb=bb(!1),Xn=Y(null),Mr=null;function Ai(o){var a=o.alternate;G(It,It.current&1),G(Xn,o),Mr===null&&(a===null||Bs.current!==null||a.memoizedState!==null)&&(Mr=o)}function Sb(o){if(o.tag===22){if(G(It,It.current),G(Xn,o),Mr===null){var a=o.alternate;a!==null&&a.memoizedState!==null&&(Mr=o)}}else ki()}function ki(){G(It,It.current),G(Xn,Xn.current)}function ei(o){$(Xn),Mr===o&&(Mr=null),$(It)}var It=Y(0);function xu(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Hp(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Qh(o,a,u,h){a=o.memoizedState,u=u(h,a),u=u==null?a:p({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var Zh={enqueueSetState:function(o,a,u){o=o._reactInternals;var h=Dn(),g=Oi(h);g.payload=a,u!=null&&(g.callback=u),a=Ni(o,g,h),a!==null&&(Pn(a,o,h),ul(a,o,h))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var h=Dn(),g=Oi(h);g.tag=1,g.payload=a,u!=null&&(g.callback=u),a=Ni(o,g,h),a!==null&&(Pn(a,o,h),ul(a,o,h))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=Dn(),h=Oi(u);h.tag=2,a!=null&&(h.callback=a),a=Ni(o,h,u),a!==null&&(Pn(a,o,u),ul(a,o,u))}};function wb(o,a,u,h,g,v,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,v,M):a.prototype&&a.prototype.isPureReactComponent?!el(u,h)||!el(g,v):!0}function Eb(o,a,u,h){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==o&&Zh.enqueueReplaceState(a,a.state,null)}function Vo(o,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(o=o.defaultProps){u===a&&(u=p({},u));for(var g in o)u[g]===void 0&&(u[g]=o[g])}return u}var Su=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Cb(o){Su(o)}function Mb(o){console.error(o)}function Tb(o){Su(o)}function wu(o,a){try{var u=o.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Ob(o,a,u){try{var h=o.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ep(o,a,u){return u=Oi(u),u.tag=3,u.payload={element:null},u.callback=function(){wu(o,a)},u}function Nb(o){return o=Oi(o),o.tag=3,o}function Rb(o,a,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;o.payload=function(){return g(v)},o.callback=function(){Ob(a,u,h)}}var M=u.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){Ob(a,u,h),typeof g!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})})}function wA(o,a,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&ol(a,u,g,!0),u=Xn.current,u!==null){switch(u.tag){case 13:return Mr===null?Cp():u.alternate===null&&Tt===0&&(Tt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===Rh?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),Tp(o,h,g)),!1;case 22:return u.flags|=65536,h===Rh?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),Tp(o,h,g)),!1}throw Error(r(435,u.tag))}return Tp(o,h,g),Cp(),!1}if(ot)return a=Xn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==wh&&(o=Error(r(422),{cause:h}),il(Yn(o,u)))):(h!==wh&&(a=Error(r(423),{cause:h}),il(Yn(a,u))),o=o.current.alternate,o.flags|=65536,g&=-g,o.lanes|=g,h=Yn(h,u),g=ep(o.stateNode,h,g),Dh(o,g),Tt!==4&&(Tt=2)),!1;var v=Error(r(520),{cause:h});if(v=Yn(v,u),Ml===null?Ml=[v]:Ml.push(v),Tt!==4&&(Tt=2),a===null)return!0;h=Yn(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,o=g&-g,u.lanes|=o,o=ep(u.stateNode,h,o),Dh(u,o),!1;case 1:if(a=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ji===null||!ji.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=Nb(g),Rb(g,o,u,h),Dh(u,g),!1}u=u.return}while(u!==null);return!1}var Ab=Error(r(461)),Ht=!1;function Wt(o,a,u,h){a.child=o===null?xb(a,null,u,h):Vs(a,o.child,u,h)}function kb(o,a,u,h,g){u=u.render;var v=a.ref;if("ref"in h){var M={};for(var O in h)O!=="ref"&&(M[O]=h[O])}else M=h;return Ho(a),h=jh(o,a,u,M,v,g),O=Ih(),o!==null&&!Ht?(Bh(o,a,g),ti(o,a,g)):(ot&&O&&xh(a),a.flags|=1,Wt(o,a,h,g),a.child)}function Db(o,a,u,h,g){if(o===null){var v=u.type;return typeof v=="function"&&!yh(v)&&v.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=v,Pb(o,a,v,h,g)):(o=tu(u.type,null,h,a,a.mode,g),o.ref=a.ref,o.return=a,a.child=o)}if(v=o.child,!lp(o,g)){var M=v.memoizedProps;if(u=u.compare,u=u!==null?u:el,u(M,h)&&o.ref===a.ref)return ti(o,a,g)}return a.flags|=1,o=Gr(v,h),o.ref=a.ref,o.return=a,a.child=o}function Pb(o,a,u,h,g){if(o!==null){var v=o.memoizedProps;if(el(v,h)&&o.ref===a.ref)if(Ht=!1,a.pendingProps=h=v,lp(o,g))(o.flags&131072)!==0&&(Ht=!0);else return a.lanes=o.lanes,ti(o,a,g)}return tp(o,a,u,h,g)}function Lb(o,a,u){var h=a.pendingProps,g=h.children,v=o!==null?o.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=v!==null?v.baseLanes|u:u,o!==null){for(g=a.child=o.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;a.childLanes=v&~h}else a.childLanes=0,a.child=null;return zb(o,a,h,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&su(a,v!==null?v.cachePool:null),v!==null?P0(a,v):Lh(),Sb(a);else return a.lanes=a.childLanes=536870912,zb(o,a,v!==null?v.baseLanes|u:u,u)}else v!==null?(su(a,v.cachePool),P0(a,v),ki(),a.memoizedState=null):(o!==null&&su(a,null),Lh(),ki());return Wt(o,a,g,u),a.child}function zb(o,a,u,h){var g=Nh();return g=g===null?null:{parent:jt._currentValue,pool:g},a.memoizedState={baseLanes:u,cachePool:g},o!==null&&su(a,null),Lh(),Sb(a),o!==null&&ol(o,a,h,!0),null}function Eu(o,a){var u=a.ref;if(u===null)o!==null&&o.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(o===null||o.ref!==u)&&(a.flags|=4194816)}}function tp(o,a,u,h,g){return Ho(a),u=jh(o,a,u,h,void 0,g),h=Ih(),o!==null&&!Ht?(Bh(o,a,g),ti(o,a,g)):(ot&&h&&xh(a),a.flags|=1,Wt(o,a,u,g),a.child)}function _b(o,a,u,h,g,v){return Ho(a),a.updateQueue=null,u=z0(a,h,u,g),L0(o),h=Ih(),o!==null&&!Ht?(Bh(o,a,v),ti(o,a,v)):(ot&&h&&xh(a),a.flags|=1,Wt(o,a,u,v),a.child)}function jb(o,a,u,h,g){if(Ho(a),a.stateNode===null){var v=Ls,M=u.contextType;typeof M=="object"&&M!==null&&(v=on(M)),v=new u(h,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Zh,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=h,v.state=a.memoizedState,v.refs={},Ah(a),M=u.contextType,v.context=typeof M=="object"&&M!==null?on(M):Ls,v.state=a.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(Qh(a,u,M,h),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(M=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),M!==v.state&&Zh.enqueueReplaceState(v,v.state,null),dl(a,h,v,g),fl(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(o===null){v=a.stateNode;var O=a.memoizedProps,P=Vo(u,O);v.props=P;var K=v.context,te=u.contextType;M=Ls,typeof te=="object"&&te!==null&&(M=on(te));var oe=u.getDerivedStateFromProps;te=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,te||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||K!==M)&&Eb(a,v,h,M),Ti=!1;var W=a.memoizedState;v.state=W,dl(a,h,v,g),fl(),K=a.memoizedState,O||W!==K||Ti?(typeof oe=="function"&&(Qh(a,u,oe,h),K=a.memoizedState),(P=Ti||wb(a,u,P,h,W,K,M))?(te||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=K),v.props=h,v.state=K,v.context=M,h=P):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{v=a.stateNode,kh(o,a),M=a.memoizedProps,te=Vo(u,M),v.props=te,oe=a.pendingProps,W=v.context,K=u.contextType,P=Ls,typeof K=="object"&&K!==null&&(P=on(K)),O=u.getDerivedStateFromProps,(K=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M!==oe||W!==P)&&Eb(a,v,h,P),Ti=!1,W=a.memoizedState,v.state=W,dl(a,h,v,g),fl();var X=a.memoizedState;M!==oe||W!==X||Ti||o!==null&&o.dependencies!==null&&iu(o.dependencies)?(typeof O=="function"&&(Qh(a,u,O,h),X=a.memoizedState),(te=Ti||wb(a,u,te,h,W,X,P)||o!==null&&o.dependencies!==null&&iu(o.dependencies))?(K||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,X,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,X,P)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||M===o.memoizedProps&&W===o.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&W===o.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=X),v.props=h,v.state=X,v.context=P,h=te):(typeof v.componentDidUpdate!="function"||M===o.memoizedProps&&W===o.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&W===o.memoizedState||(a.flags|=1024),h=!1)}return v=h,Eu(o,a),h=(a.flags&128)!==0,v||h?(v=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,o!==null&&h?(a.child=Vs(a,o.child,null,g),a.child=Vs(a,null,u,g)):Wt(o,a,u,g),a.memoizedState=v.state,o=a.child):o=ti(o,a,g),o}function Ib(o,a,u,h){return rl(),a.flags|=256,Wt(o,a,u,h),a.child}var np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rp(o){return{baseLanes:o,cachePool:M0()}}function ip(o,a,u){return o=o!==null?o.childLanes&~u:0,a&&(o|=Jn),o}function Bb(o,a,u){var h=a.pendingProps,g=!1,v=(a.flags&128)!==0,M;if((M=v)||(M=o!==null&&o.memoizedState===null?!1:(It.current&2)!==0),M&&(g=!0,a.flags&=-129),M=(a.flags&32)!==0,a.flags&=-33,o===null){if(ot){if(g?Ai(a):ki(),ot){var O=Mt,P;if(P=O){e:{for(P=O,O=Cr;P.nodeType!==8;){if(!O){O=null;break e}if(P=hr(P.nextSibling),P===null){O=null;break e}}O=P}O!==null?(a.memoizedState={dehydrated:O,treeContext:_o!==null?{id:Wr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},P=Nn(18,null,null,0),P.stateNode=O,P.return=a,a.child=P,dn=a,Mt=null,P=!0):P=!1}P||Bo(a)}if(O=a.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Hp(O)?a.lanes=32:a.lanes=536870912,null;ei(a)}return O=h.children,h=h.fallback,g?(ki(),g=a.mode,O=Cu({mode:"hidden",children:O},g),h=zo(h,g,u,null),O.return=a,h.return=a,O.sibling=h,a.child=O,g=a.child,g.memoizedState=rp(u),g.childLanes=ip(o,M,u),a.memoizedState=np,h):(Ai(a),op(a,O))}if(P=o.memoizedState,P!==null&&(O=P.dehydrated,O!==null)){if(v)a.flags&256?(Ai(a),a.flags&=-257,a=sp(o,a,u)):a.memoizedState!==null?(ki(),a.child=o.child,a.flags|=128,a=null):(ki(),g=h.fallback,O=a.mode,h=Cu({mode:"visible",children:h.children},O),g=zo(g,O,u,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,Vs(a,o.child,null,u),h=a.child,h.memoizedState=rp(u),h.childLanes=ip(o,M,u),a.memoizedState=np,a=g);else if(Ai(a),Hp(O)){if(M=O.nextSibling&&O.nextSibling.dataset,M)var K=M.dgst;M=K,h=Error(r(419)),h.stack="",h.digest=M,il({value:h,source:null,stack:null}),a=sp(o,a,u)}else if(Ht||ol(o,a,u,!1),M=(u&o.childLanes)!==0,Ht||M){if(M=mt,M!==null&&(h=u&-u,h=(h&42)!==0?1:Fa(h),h=(h&(M.suspendedLanes|u))!==0?0:h,h!==0&&h!==P.retryLane))throw P.retryLane=h,Ps(o,h),Pn(M,o,h),Ab;O.data==="$?"||Cp(),a=sp(o,a,u)}else O.data==="$?"?(a.flags|=192,a.child=o.child,a=null):(o=P.treeContext,Mt=hr(O.nextSibling),dn=a,ot=!0,Io=null,Cr=!1,o!==null&&(Gn[Wn++]=Wr,Gn[Wn++]=Xr,Gn[Wn++]=_o,Wr=o.id,Xr=o.overflow,_o=a),a=op(a,h.children),a.flags|=4096);return a}return g?(ki(),g=h.fallback,O=a.mode,P=o.child,K=P.sibling,h=Gr(P,{mode:"hidden",children:h.children}),h.subtreeFlags=P.subtreeFlags&65011712,K!==null?g=Gr(K,g):(g=zo(g,O,u,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,O=o.child.memoizedState,O===null?O=rp(u):(P=O.cachePool,P!==null?(K=jt._currentValue,P=P.parent!==K?{parent:K,pool:K}:P):P=M0(),O={baseLanes:O.baseLanes|u,cachePool:P}),g.memoizedState=O,g.childLanes=ip(o,M,u),a.memoizedState=np,h):(Ai(a),u=o.child,o=u.sibling,u=Gr(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,o!==null&&(M=a.deletions,M===null?(a.deletions=[o],a.flags|=16):M.push(o)),a.child=u,a.memoizedState=null,u)}function op(o,a){return a=Cu({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function Cu(o,a){return o=Nn(22,o,null,a),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function sp(o,a,u){return Vs(a,o.child,null,u),o=op(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function $b(o,a,u){o.lanes|=a;var h=o.alternate;h!==null&&(h.lanes|=a),Ch(o.return,a,u)}function ap(o,a,u,h,g){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=g)}function Hb(o,a,u){var h=a.pendingProps,g=h.revealOrder,v=h.tail;if(Wt(o,a,h.children,u),h=It.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&$b(o,u,a);else if(o.tag===19)$b(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}switch(G(It,h),g){case"forwards":for(u=a.child,g=null;u!==null;)o=u.alternate,o!==null&&xu(o)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),ap(a,!1,g,u,v);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(o=g.alternate,o!==null&&xu(o)===null){a.child=g;break}o=g.sibling,g.sibling=u,u=g,g=o}ap(a,!0,u,null,v);break;case"together":ap(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ti(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),_i|=a.lanes,(u&a.childLanes)===0)if(o!==null){if(ol(o,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,u=Gr(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=Gr(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function lp(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&iu(o)))}function EA(o,a,u){switch(a.tag){case 3:ge(a,a.stateNode.containerInfo),Mi(a,jt,o.memoizedState.cache),rl();break;case 27:case 5:be(a);break;case 4:ge(a,a.stateNode.containerInfo);break;case 10:Mi(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ai(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Bb(o,a,u):(Ai(a),o=ti(o,a,u),o!==null?o.sibling:null);Ai(a);break;case 19:var g=(o.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(ol(o,a,u,!1),h=(u&a.childLanes)!==0),g){if(h)return Hb(o,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),G(It,It.current),h)break;return null;case 22:case 23:return a.lanes=0,Lb(o,a,u);case 24:Mi(a,jt,o.memoizedState.cache)}return ti(o,a,u)}function Ub(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps)Ht=!0;else{if(!lp(o,u)&&(a.flags&128)===0)return Ht=!1,EA(o,a,u);Ht=(o.flags&131072)!==0}else Ht=!1,ot&&(a.flags&1048576)!==0&&v0(a,ru,a.index);switch(a.lanes=0,a.tag){case 16:e:{o=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")yh(h)?(o=Vo(h,o),a.tag=1,a=jb(null,a,h,o,u)):(a.tag=0,a=tp(null,a,h,o,u));else{if(h!=null){if(g=h.$$typeof,g===L){a.tag=11,a=kb(null,a,h,o,u);break e}else if(g===D){a.tag=14,a=Db(null,a,h,o,u);break e}}throw a=fe(h)||h,Error(r(306,a,""))}}return a;case 0:return tp(o,a,a.type,a.pendingProps,u);case 1:return h=a.type,g=Vo(h,a.pendingProps),jb(o,a,h,g,u);case 3:e:{if(ge(a,a.stateNode.containerInfo),o===null)throw Error(r(387));h=a.pendingProps;var v=a.memoizedState;g=v.element,kh(o,a),dl(a,h,null,u);var M=a.memoizedState;if(h=M.cache,Mi(a,jt,h),h!==v.cache&&Mh(a,[jt],u,!0),fl(),h=M.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:M.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=Ib(o,a,h,u);break e}else if(h!==g){g=Yn(Error(r(424)),a),il(g),a=Ib(o,a,h,u);break e}else{switch(o=a.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Mt=hr(o.firstChild),dn=a,ot=!0,Io=null,Cr=!0,u=xb(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(rl(),h===g){a=ti(o,a,u);break e}Wt(o,a,h,u)}a=a.child}return a;case 26:return Eu(o,a),o===null?(u=Yx(a.type,null,a.pendingProps,null))?a.memoizedState=u:ot||(u=a.type,o=a.pendingProps,h=Iu(le.current).createElement(u),h[se]=a,h[he]=o,Jt(h,u,o),nt(h),a.stateNode=h):a.memoizedState=Yx(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return be(a),o===null&&ot&&(h=a.stateNode=Fx(a.type,a.pendingProps,le.current),dn=a,Cr=!0,g=Mt,$i(a.type)?(Up=g,Mt=hr(h.firstChild)):Mt=g),Wt(o,a,a.pendingProps.children,u),Eu(o,a),o===null&&(a.flags|=4194304),a.child;case 5:return o===null&&ot&&((g=h=Mt)&&(h=JA(h,a.type,a.pendingProps,Cr),h!==null?(a.stateNode=h,dn=a,Mt=hr(h.firstChild),Cr=!1,g=!0):g=!1),g||Bo(a)),be(a),g=a.type,v=a.pendingProps,M=o!==null?o.memoizedProps:null,h=v.children,Ip(g,v)?h=null:M!==null&&Ip(g,M)&&(a.flags|=32),a.memoizedState!==null&&(g=jh(o,a,mA,null,null,u),Ll._currentValue=g),Eu(o,a),Wt(o,a,h,u),a.child;case 6:return o===null&&ot&&((o=u=Mt)&&(u=QA(u,a.pendingProps,Cr),u!==null?(a.stateNode=u,dn=a,Mt=null,o=!0):o=!1),o||Bo(a)),null;case 13:return Bb(o,a,u);case 4:return ge(a,a.stateNode.containerInfo),h=a.pendingProps,o===null?a.child=Vs(a,null,h,u):Wt(o,a,h,u),a.child;case 11:return kb(o,a,a.type,a.pendingProps,u);case 7:return Wt(o,a,a.pendingProps,u),a.child;case 8:return Wt(o,a,a.pendingProps.children,u),a.child;case 12:return Wt(o,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,Mi(a,a.type,h.value),Wt(o,a,h.children,u),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Ho(a),g=on(g),h=h(g),a.flags|=1,Wt(o,a,h,u),a.child;case 14:return Db(o,a,a.type,a.pendingProps,u);case 15:return Pb(o,a,a.type,a.pendingProps,u);case 19:return Hb(o,a,u);case 31:return h=a.pendingProps,u=a.mode,h={mode:h.mode,children:h.children},o===null?(u=Cu(h,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=Gr(o.child,h),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return Lb(o,a,u);case 24:return Ho(a),h=on(jt),o===null?(g=Nh(),g===null&&(g=mt,v=Th(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=u),g=v),a.memoizedState={parent:h,cache:g},Ah(a),Mi(a,jt,g)):((o.lanes&u)!==0&&(kh(o,a),dl(a,null,null,u),fl()),g=o.memoizedState,v=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Mi(a,jt,h)):(h=v.cache,Mi(a,jt,h),h!==g.cache&&Mh(a,[jt],u,!0))),Wt(o,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ni(o){o.flags|=4}function Fb(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Jx(a)){if(a=Xn.current,a!==null&&((et&4194048)===et?Mr!==null:(et&62914560)!==et&&(et&536870912)===0||a!==Mr))throw cl=Rh,T0;o.flags|=8192}}function Mu(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?Hc():536870912,o.lanes|=a,Gs|=a)}function bl(o,a){if(!ot)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function Ct(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,h=0;if(a)for(var g=o.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=h,o.childLanes=u,a}function CA(o,a,u){var h=a.pendingProps;switch(Sh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(a),null;case 1:return Ct(a),null;case 3:return u=a.stateNode,h=null,o!==null&&(h=o.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Qr(jt),Se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(nl(a)?ni(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,S0())),Ct(a),null;case 26:return u=a.memoizedState,o===null?(ni(a),u!==null?(Ct(a),Fb(a,u)):(Ct(a),a.flags&=-16777217)):u?u!==o.memoizedState?(ni(a),Ct(a),Fb(a,u)):(Ct(a),a.flags&=-16777217):(o.memoizedProps!==h&&ni(a),Ct(a),a.flags&=-16777217),null;case 27:Le(a),u=le.current;var g=a.type;if(o!==null&&a.stateNode!=null)o.memoizedProps!==h&&ni(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Ct(a),null}o=ee.current,nl(a)?b0(a):(o=Fx(g,h,u),a.stateNode=o,ni(a))}return Ct(a),null;case 5:if(Le(a),u=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==h&&ni(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Ct(a),null}if(o=ee.current,nl(a))b0(a);else{switch(g=Iu(le.current),o){case 1:o=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=g.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?o.multiple=!0:h.size&&(o.size=h.size);break;default:o=typeof h.is=="string"?g.createElement(u,{is:h.is}):g.createElement(u)}}o[se]=a,o[he]=h;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)o.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=o;e:switch(Jt(o,u,h),u){case"button":case"input":case"select":case"textarea":o=!!h.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ni(a)}}return Ct(a),a.flags&=-16777217,null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==h&&ni(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(o=le.current,nl(a)){if(o=a.stateNode,u=a.memoizedProps,h=null,g=dn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}o[se]=a,o=!!(o.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||_x(o.nodeValue,u)),o||Bo(a)}else o=Iu(o).createTextNode(h),o[se]=a,a.stateNode=o}return Ct(a),null;case 13:if(h=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(g=nl(a),h!==null&&h.dehydrated!==null){if(o===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[se]=a}else rl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ct(a),g=!1}else g=S0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(ei(a),a):(ei(a),null)}if(ei(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=h!==null,o=o!==null&&o.memoizedState!==null,u){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)}return u!==o&&u&&(a.child.flags|=8192),Mu(a,a.updateQueue),Ct(a),null;case 4:return Se(),o===null&&Pp(a.stateNode.containerInfo),Ct(a),null;case 10:return Qr(a.type),Ct(a),null;case 19:if($(It),g=a.memoizedState,g===null)return Ct(a),null;if(h=(a.flags&128)!==0,v=g.rendering,v===null)if(h)bl(g,!1);else{if(Tt!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(v=xu(o),v!==null){for(a.flags|=128,bl(g,!1),o=v.updateQueue,a.updateQueue=o,Mu(a,o),a.subtreeFlags=0,o=u,u=a.child;u!==null;)y0(u,o),u=u.sibling;return G(It,It.current&1|2),a.child}o=o.sibling}g.tail!==null&&St()>Nu&&(a.flags|=128,h=!0,bl(g,!1),a.lanes=4194304)}else{if(!h)if(o=xu(v),o!==null){if(a.flags|=128,h=!0,o=o.updateQueue,a.updateQueue=o,Mu(a,o),bl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!ot)return Ct(a),null}else 2*St()-g.renderingStartTime>Nu&&u!==536870912&&(a.flags|=128,h=!0,bl(g,!1),a.lanes=4194304);g.isBackwards?(v.sibling=a.child,a.child=v):(o=g.last,o!==null?o.sibling=v:a.child=v,g.last=v)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=St(),a.sibling=null,o=It.current,G(It,h?o&1|2:o&1),a):(Ct(a),null);case 22:case 23:return ei(a),zh(),h=a.memoizedState!==null,o!==null?o.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(Ct(a),a.subtreeFlags&6&&(a.flags|=8192)):Ct(a),u=a.updateQueue,u!==null&&Mu(a,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),o!==null&&$(Uo),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Qr(jt),Ct(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function MA(o,a){switch(Sh(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Qr(jt),Se(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return Le(a),null;case 13:if(ei(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));rl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return $(It),null;case 4:return Se(),null;case 10:return Qr(a.type),null;case 22:case 23:return ei(a),zh(),o!==null&&$(Uo),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return Qr(jt),null;case 25:return null;default:return null}}function Vb(o,a){switch(Sh(a),a.tag){case 3:Qr(jt),Se();break;case 26:case 27:case 5:Le(a);break;case 4:Se();break;case 13:ei(a);break;case 19:$(It);break;case 10:Qr(a.type);break;case 22:case 23:ei(a),zh(),o!==null&&$(Uo);break;case 24:Qr(jt)}}function xl(o,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&o)===o){h=void 0;var v=u.create,M=u.inst;h=v(),M.destroy=h}u=u.next}while(u!==g)}}catch(O){ht(a,a.return,O)}}function Di(o,a,u){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&o)===o){var M=h.inst,O=M.destroy;if(O!==void 0){M.destroy=void 0,g=a;var P=u,K=O;try{K()}catch(te){ht(g,P,te)}}}h=h.next}while(h!==v)}}catch(te){ht(a,a.return,te)}}function qb(o){var a=o.updateQueue;if(a!==null){var u=o.stateNode;try{D0(a,u)}catch(h){ht(o,o.return,h)}}}function Yb(o,a,u){u.props=Vo(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(h){ht(o,a,h)}}function Sl(o,a){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var h=o.stateNode;break;case 30:h=o.stateNode;break;default:h=o.stateNode}typeof u=="function"?o.refCleanup=u(h):u.current=h}}catch(g){ht(o,a,g)}}function Tr(o,a){var u=o.ref,h=o.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){ht(o,a,g)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){ht(o,a,g)}else u.current=null}function Kb(o){var a=o.type,u=o.memoizedProps,h=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){ht(o,o.return,g)}}function cp(o,a,u){try{var h=o.stateNode;YA(h,o.type,u,a),h[he]=a}catch(g){ht(o,o.return,g)}}function Gb(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&$i(o.type)||o.tag===4}function up(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Gb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&$i(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function fp(o,a,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(o),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=ju));else if(h!==4&&(h===27&&$i(o.type)&&(u=o.stateNode,a=null),o=o.child,o!==null))for(fp(o,a,u),o=o.sibling;o!==null;)fp(o,a,u),o=o.sibling}function Tu(o,a,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(h!==4&&(h===27&&$i(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(Tu(o,a,u),o=o.sibling;o!==null;)Tu(o,a,u),o=o.sibling}function Wb(o){var a=o.stateNode,u=o.memoizedProps;try{for(var h=o.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Jt(a,h,u),a[se]=o,a[he]=u}catch(v){ht(o,o.return,v)}}var ri=!1,Rt=!1,dp=!1,Xb=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function TA(o,a){if(o=o.containerInfo,_p=Vu,o=a0(o),uh(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var M=0,O=-1,P=-1,K=0,te=0,oe=o,W=null;t:for(;;){for(var X;oe!==u||g!==0&&oe.nodeType!==3||(O=M+g),oe!==v||h!==0&&oe.nodeType!==3||(P=M+h),oe.nodeType===3&&(M+=oe.nodeValue.length),(X=oe.firstChild)!==null;)W=oe,oe=X;for(;;){if(oe===o)break t;if(W===u&&++K===g&&(O=M),W===v&&++te===h&&(P=M),(X=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=X}u=O===-1||P===-1?null:{start:O,end:P}}else u=null}u=u||{start:0,end:0}}else u=null;for(jp={focusedElem:o,selectionRange:u},Vu=!1,Ut=a;Ut!==null;)if(a=Ut,o=a.child,(a.subtreeFlags&1024)!==0&&o!==null)o.return=a,Ut=o;else for(;Ut!==null;){switch(a=Ut,v=a.alternate,o=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&v!==null){o=void 0,u=a,g=v.memoizedProps,v=v.memoizedState,h=u.stateNode;try{var je=Vo(u.type,g,u.elementType===u.type);o=h.getSnapshotBeforeUpdate(je,v),h.__reactInternalSnapshotBeforeUpdate=o}catch(De){ht(u,u.return,De)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,u=o.nodeType,u===9)$p(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":$p(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=a.sibling,o!==null){o.return=a.return,Ut=o;break}Ut=a.return}}function Jb(o,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Pi(o,u),h&4&&xl(5,u);break;case 1:if(Pi(o,u),h&4)if(o=u.stateNode,a===null)try{o.componentDidMount()}catch(M){ht(u,u.return,M)}else{var g=Vo(u.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(g,a,o.__reactInternalSnapshotBeforeUpdate)}catch(M){ht(u,u.return,M)}}h&64&&qb(u),h&512&&Sl(u,u.return);break;case 3:if(Pi(o,u),h&64&&(o=u.updateQueue,o!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{D0(o,a)}catch(M){ht(u,u.return,M)}}break;case 27:a===null&&h&4&&Wb(u);case 26:case 5:Pi(o,u),a===null&&h&4&&Kb(u),h&512&&Sl(u,u.return);break;case 12:Pi(o,u);break;case 13:Pi(o,u),h&4&&ex(o,u),h&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=zA.bind(null,u),ZA(o,u))));break;case 22:if(h=u.memoizedState!==null||ri,!h){a=a!==null&&a.memoizedState!==null||Rt,g=ri;var v=Rt;ri=h,(Rt=a)&&!v?Li(o,u,(u.subtreeFlags&8772)!==0):Pi(o,u),ri=g,Rt=v}break;case 30:break;default:Pi(o,u)}}function Qb(o){var a=o.alternate;a!==null&&(o.alternate=null,Qb(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&Oe(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var xt=null,wn=!1;function ii(o,a,u){for(u=u.child;u!==null;)Zb(o,a,u),u=u.sibling}function Zb(o,a,u){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(yn,u)}catch{}switch(u.tag){case 26:Rt||Tr(u,a),ii(o,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Rt||Tr(u,a);var h=xt,g=wn;$i(u.type)&&(xt=u.stateNode,wn=!1),ii(o,a,u),Al(u.stateNode),xt=h,wn=g;break;case 5:Rt||Tr(u,a);case 6:if(h=xt,g=wn,xt=null,ii(o,a,u),xt=h,wn=g,xt!==null)if(wn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(u.stateNode)}catch(v){ht(u,a,v)}else try{xt.removeChild(u.stateNode)}catch(v){ht(u,a,v)}break;case 18:xt!==null&&(wn?(o=xt,Hx(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),Il(o)):Hx(xt,u.stateNode));break;case 4:h=xt,g=wn,xt=u.stateNode.containerInfo,wn=!0,ii(o,a,u),xt=h,wn=g;break;case 0:case 11:case 14:case 15:Rt||Di(2,u,a),Rt||Di(4,u,a),ii(o,a,u);break;case 1:Rt||(Tr(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Yb(u,a,h)),ii(o,a,u);break;case 21:ii(o,a,u);break;case 22:Rt=(h=Rt)||u.memoizedState!==null,ii(o,a,u),Rt=h;break;default:ii(o,a,u)}}function ex(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Il(o)}catch(u){ht(a,a.return,u)}}function OA(o){switch(o.tag){case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new Xb),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new Xb),a;default:throw Error(r(435,o.tag))}}function hp(o,a){var u=OA(o);a.forEach(function(h){var g=_A.bind(null,o,h);u.has(h)||(u.add(h),h.then(g,g))})}function Rn(o,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],v=o,M=a,O=M;e:for(;O!==null;){switch(O.tag){case 27:if($i(O.type)){xt=O.stateNode,wn=!1;break e}break;case 5:xt=O.stateNode,wn=!1;break e;case 3:case 4:xt=O.stateNode.containerInfo,wn=!0;break e}O=O.return}if(xt===null)throw Error(r(160));Zb(v,M,g),xt=null,wn=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)tx(a,o),a=a.sibling}var dr=null;function tx(o,a){var u=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Rn(a,o),An(o),h&4&&(Di(3,o,o.return),xl(3,o),Di(5,o,o.return));break;case 1:Rn(a,o),An(o),h&512&&(Rt||u===null||Tr(u,u.return)),h&64&&ri&&(o=o.updateQueue,o!==null&&(h=o.callbacks,h!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=dr;if(Rn(a,o),An(o),h&512&&(Rt||u===null||Tr(u,u.return)),h&4){var v=u!==null?u.memoizedState:null;if(h=o.memoizedState,u===null)if(h===null)if(o.stateNode===null){e:{h=o.type,u=o.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[_e]||v[se]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),Jt(v,h,u),v[se]=o,nt(v),h=v;break e;case"link":var M=Wx("link","href",g).get(h+(u.href||""));if(M){for(var O=0;O<M.length;O++)if(v=M[O],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){M.splice(O,1);break t}}v=g.createElement(h),Jt(v,h,u),g.head.appendChild(v);break;case"meta":if(M=Wx("meta","content",g).get(h+(u.content||""))){for(O=0;O<M.length;O++)if(v=M[O],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){M.splice(O,1);break t}}v=g.createElement(h),Jt(v,h,u),g.head.appendChild(v);break;default:throw Error(r(468,h))}v[se]=o,nt(v),h=v}o.stateNode=h}else Xx(g,o.type,o.stateNode);else o.stateNode=Gx(g,h,o.memoizedProps);else v!==h?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,h===null?Xx(g,o.type,o.stateNode):Gx(g,h,o.memoizedProps)):h===null&&o.stateNode!==null&&cp(o,o.memoizedProps,u.memoizedProps)}break;case 27:Rn(a,o),An(o),h&512&&(Rt||u===null||Tr(u,u.return)),u!==null&&h&4&&cp(o,o.memoizedProps,u.memoizedProps);break;case 5:if(Rn(a,o),An(o),h&512&&(Rt||u===null||Tr(u,u.return)),o.flags&32){g=o.stateNode;try{Ts(g,"")}catch(X){ht(o,o.return,X)}}h&4&&o.stateNode!=null&&(g=o.memoizedProps,cp(o,g,u!==null?u.memoizedProps:g)),h&1024&&(dp=!0);break;case 6:if(Rn(a,o),An(o),h&4){if(o.stateNode===null)throw Error(r(162));h=o.memoizedProps,u=o.stateNode;try{u.nodeValue=h}catch(X){ht(o,o.return,X)}}break;case 3:if(Hu=null,g=dr,dr=Bu(a.containerInfo),Rn(a,o),dr=g,An(o),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Il(a.containerInfo)}catch(X){ht(o,o.return,X)}dp&&(dp=!1,nx(o));break;case 4:h=dr,dr=Bu(o.stateNode.containerInfo),Rn(a,o),An(o),dr=h;break;case 12:Rn(a,o),An(o);break;case 13:Rn(a,o),An(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(bp=St()),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,hp(o,h)));break;case 22:g=o.memoizedState!==null;var P=u!==null&&u.memoizedState!==null,K=ri,te=Rt;if(ri=K||g,Rt=te||P,Rn(a,o),Rt=te,ri=K,An(o),h&8192)e:for(a=o.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(u===null||P||ri||Rt||qo(o)),u=null,a=o;;){if(a.tag===5||a.tag===26){if(u===null){P=u=a;try{if(v=P.stateNode,g)M=v.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{O=P.stateNode;var oe=P.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;O.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(X){ht(P,P.return,X)}}}else if(a.tag===6){if(u===null){P=a;try{P.stateNode.nodeValue=g?"":P.memoizedProps}catch(X){ht(P,P.return,X)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=o.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,hp(o,u))));break;case 19:Rn(a,o),An(o),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,hp(o,h)));break;case 30:break;case 21:break;default:Rn(a,o),An(o)}}function An(o){var a=o.flags;if(a&2){try{for(var u,h=o.return;h!==null;){if(Gb(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,v=up(o);Tu(o,v,g);break;case 5:var M=u.stateNode;u.flags&32&&(Ts(M,""),u.flags&=-33);var O=up(o);Tu(o,O,M);break;case 3:case 4:var P=u.stateNode.containerInfo,K=up(o);fp(o,K,P);break;default:throw Error(r(161))}}catch(te){ht(o,o.return,te)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function nx(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;nx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function Pi(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Jb(o,a.alternate,a),a=a.sibling}function qo(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:Di(4,a,a.return),qo(a);break;case 1:Tr(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Yb(a,a.return,u),qo(a);break;case 27:Al(a.stateNode);case 26:case 5:Tr(a,a.return),qo(a);break;case 22:a.memoizedState===null&&qo(a);break;case 30:qo(a);break;default:qo(a)}o=o.sibling}}function Li(o,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=o,v=a,M=v.flags;switch(v.tag){case 0:case 11:case 15:Li(g,v,u),xl(4,v);break;case 1:if(Li(g,v,u),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){ht(h,h.return,K)}if(h=v,g=h.updateQueue,g!==null){var O=h.stateNode;try{var P=g.shared.hiddenCallbacks;if(P!==null)for(g.shared.hiddenCallbacks=null,g=0;g<P.length;g++)k0(P[g],O)}catch(K){ht(h,h.return,K)}}u&&M&64&&qb(v),Sl(v,v.return);break;case 27:Wb(v);case 26:case 5:Li(g,v,u),u&&h===null&&M&4&&Kb(v),Sl(v,v.return);break;case 12:Li(g,v,u);break;case 13:Li(g,v,u),u&&M&4&&ex(g,v);break;case 22:v.memoizedState===null&&Li(g,v,u),Sl(v,v.return);break;case 30:break;default:Li(g,v,u)}a=a.sibling}}function pp(o,a){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&sl(u))}function mp(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&sl(o))}function Or(o,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)rx(o,a,u,h),a=a.sibling}function rx(o,a,u,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Or(o,a,u,h),g&2048&&xl(9,a);break;case 1:Or(o,a,u,h);break;case 3:Or(o,a,u,h),g&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&sl(o)));break;case 12:if(g&2048){Or(o,a,u,h),o=a.stateNode;try{var v=a.memoizedProps,M=v.id,O=v.onPostCommit;typeof O=="function"&&O(M,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(P){ht(a,a.return,P)}}else Or(o,a,u,h);break;case 13:Or(o,a,u,h);break;case 23:break;case 22:v=a.stateNode,M=a.alternate,a.memoizedState!==null?v._visibility&2?Or(o,a,u,h):wl(o,a):v._visibility&2?Or(o,a,u,h):(v._visibility|=2,qs(o,a,u,h,(a.subtreeFlags&10256)!==0)),g&2048&&pp(M,a);break;case 24:Or(o,a,u,h),g&2048&&mp(a.alternate,a);break;default:Or(o,a,u,h)}}function qs(o,a,u,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=o,M=a,O=u,P=h,K=M.flags;switch(M.tag){case 0:case 11:case 15:qs(v,M,O,P,g),xl(8,M);break;case 23:break;case 22:var te=M.stateNode;M.memoizedState!==null?te._visibility&2?qs(v,M,O,P,g):wl(v,M):(te._visibility|=2,qs(v,M,O,P,g)),g&&K&2048&&pp(M.alternate,M);break;case 24:qs(v,M,O,P,g),g&&K&2048&&mp(M.alternate,M);break;default:qs(v,M,O,P,g)}a=a.sibling}}function wl(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=o,h=a,g=h.flags;switch(h.tag){case 22:wl(u,h),g&2048&&pp(h.alternate,h);break;case 24:wl(u,h),g&2048&&mp(h.alternate,h);break;default:wl(u,h)}a=a.sibling}}var El=8192;function Ys(o){if(o.subtreeFlags&El)for(o=o.child;o!==null;)ix(o),o=o.sibling}function ix(o){switch(o.tag){case 26:Ys(o),o.flags&El&&o.memoizedState!==null&&dk(dr,o.memoizedState,o.memoizedProps);break;case 5:Ys(o);break;case 3:case 4:var a=dr;dr=Bu(o.stateNode.containerInfo),Ys(o),dr=a;break;case 22:o.memoizedState===null&&(a=o.alternate,a!==null&&a.memoizedState!==null?(a=El,El=16777216,Ys(o),El=a):Ys(o));break;default:Ys(o)}}function ox(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function Cl(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Ut=h,ax(h,o)}ox(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sx(o),o=o.sibling}function sx(o){switch(o.tag){case 0:case 11:case 15:Cl(o),o.flags&2048&&Di(9,o,o.return);break;case 3:Cl(o);break;case 12:Cl(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&2&&(o.return===null||o.return.tag!==13)?(a._visibility&=-3,Ou(o)):Cl(o);break;default:Cl(o)}}function Ou(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Ut=h,ax(h,o)}ox(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:Di(8,a,a.return),Ou(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Ou(a));break;default:Ou(a)}o=o.sibling}}function ax(o,a){for(;Ut!==null;){var u=Ut;switch(u.tag){case 0:case 11:case 15:Di(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:sl(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Ut=h;else e:for(u=o;Ut!==null;){h=Ut;var g=h.sibling,v=h.return;if(Qb(h),h===u){Ut=null;break e}if(g!==null){g.return=v,Ut=g;break e}Ut=v}}}var NA={getCacheForType:function(o){var a=on(jt),u=a.data.get(o);return u===void 0&&(u=o(),a.data.set(o,u)),u}},RA=typeof WeakMap=="function"?WeakMap:Map,at=0,mt=null,We=null,et=0,lt=0,kn=null,zi=!1,Ks=!1,gp=!1,oi=0,Tt=0,_i=0,Yo=0,yp=0,Jn=0,Gs=0,Ml=null,En=null,vp=!1,bp=0,Nu=1/0,Ru=null,ji=null,Xt=0,Ii=null,Ws=null,Xs=0,xp=0,Sp=null,lx=null,Tl=0,wp=null;function Dn(){if((at&2)!==0&&et!==0)return et&-et;if(_.T!==null){var o=js;return o!==0?o:Rp()}return I()}function cx(){Jn===0&&(Jn=(et&536870912)===0||ot?Es():536870912);var o=Xn.current;return o!==null&&(o.flags|=32),Jn}function Pn(o,a,u){(o===mt&&(lt===2||lt===9)||o.cancelPendingCommit!==null)&&(Js(o,0),Bi(o,et,Jn,!1)),No(o,u),((at&2)===0||o!==mt)&&(o===mt&&((at&2)===0&&(Yo|=u),Tt===4&&Bi(o,et,Jn,!1)),Nr(o))}function ux(o,a,u){if((at&6)!==0)throw Error(r(327));var h=!u&&(a&124)===0&&(a&o.expiredLanes)===0||Er(o,a),g=h?DA(o,a):Mp(o,a,!0),v=h;do{if(g===0){Ks&&!h&&Bi(o,a,0,!1);break}else{if(u=o.current.alternate,v&&!AA(u)){g=Mp(o,a,!1),v=!1;continue}if(g===2){if(v=a,o.errorRecoveryDisabledLanes&v)var M=0;else M=o.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){a=M;e:{var O=o;g=Ml;var P=O.current.memoizedState.isDehydrated;if(P&&(Js(O,M).flags|=256),M=Mp(O,M,!1),M!==2){if(gp&&!P){O.errorRecoveryDisabledLanes|=v,Yo|=v,g=4;break e}v=En,En=g,v!==null&&(En===null?En=v:En.push.apply(En,v))}g=M}if(v=!1,g!==2)continue}}if(g===1){Js(o,0),Bi(o,a,0,!0);break}e:{switch(h=o,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Bi(h,a,Jn,!zi);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=bp+300-St(),10<g)){if(Bi(h,a,Jn,!zi),Oo(h,0,!0)!==0)break e;h.timeoutHandle=Bx(fx.bind(null,h,u,En,Ru,vp,a,Jn,Yo,Gs,zi,v,2,-0,0),g);break e}fx(h,u,En,Ru,vp,a,Jn,Yo,Gs,zi,v,0,-0,0)}}break}while(!0);Nr(o)}function fx(o,a,u,h,g,v,M,O,P,K,te,oe,W,X){if(o.timeoutHandle=-1,oe=a.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:fk},ix(a),oe=hk(),oe!==null)){o.cancelPendingCommit=oe(vx.bind(null,o,a,v,u,h,g,M,O,P,te,1,W,X)),Bi(o,v,M,!K);return}vx(o,a,v,u,h,g,M,O,P)}function AA(o){for(var a=o;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],v=g.getSnapshot;g=g.value;try{if(!On(v(),g))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bi(o,a,u,h){a&=~yp,a&=~Yo,o.suspendedLanes|=a,o.pingedLanes&=~a,h&&(o.warmLanes|=a),h=o.expirationTimes;for(var g=a;0<g;){var v=31-Gt(g),M=1<<v;h[v]=-1,g&=~M}u!==0&&Ro(o,u,a)}function Au(){return(at&6)===0?(Ol(0),!1):!0}function Ep(){if(We!==null){if(lt===0)var o=We.return;else o=We,Jr=$o=null,$h(o),Fs=null,yl=0,o=We;for(;o!==null;)Vb(o.alternate,o),o=o.return;We=null}}function Js(o,a){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,GA(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),Ep(),mt=o,We=u=Gr(o.current,null),et=a,lt=0,kn=null,zi=!1,Ks=Er(o,a),gp=!1,Gs=Jn=yp=Yo=_i=Tt=0,En=Ml=null,vp=!1,(a&8)!==0&&(a|=a&32);var h=o.entangledLanes;if(h!==0)for(o=o.entanglements,h&=a;0<h;){var g=31-Gt(h),v=1<<g;a|=o[g],h&=~v}return oi=a,Qc(),u}function dx(o,a){Fe=null,_.H=yu,a===ll||a===au?(a=R0(),lt=3):a===T0?(a=R0(),lt=4):lt=a===Ab?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,kn=a,We===null&&(Tt=1,wu(o,Yn(a,o.current)))}function hx(){var o=_.H;return _.H=yu,o===null?yu:o}function px(){var o=_.A;return _.A=NA,o}function Cp(){Tt=4,zi||(et&4194048)!==et&&Xn.current!==null||(Ks=!0),(_i&134217727)===0&&(Yo&134217727)===0||mt===null||Bi(mt,et,Jn,!1)}function Mp(o,a,u){var h=at;at|=2;var g=hx(),v=px();(mt!==o||et!==a)&&(Ru=null,Js(o,a)),a=!1;var M=Tt;e:do try{if(lt!==0&&We!==null){var O=We,P=kn;switch(lt){case 8:Ep(),M=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(a=!0);var K=lt;if(lt=0,kn=null,Qs(o,O,P,K),u&&Ks){M=0;break e}break;default:K=lt,lt=0,kn=null,Qs(o,O,P,K)}}kA(),M=Tt;break}catch(te){dx(o,te)}while(!0);return a&&o.shellSuspendCounter++,Jr=$o=null,at=h,_.H=g,_.A=v,We===null&&(mt=null,et=0,Qc()),M}function kA(){for(;We!==null;)mx(We)}function DA(o,a){var u=at;at|=2;var h=hx(),g=px();mt!==o||et!==a?(Ru=null,Nu=St()+500,Js(o,a)):Ks=Er(o,a);e:do try{if(lt!==0&&We!==null){a=We;var v=kn;t:switch(lt){case 1:lt=0,kn=null,Qs(o,a,v,1);break;case 2:case 9:if(O0(v)){lt=0,kn=null,gx(a);break}a=function(){lt!==2&&lt!==9||mt!==o||(lt=7),Nr(o)},v.then(a,a);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:O0(v)?(lt=0,kn=null,gx(a)):(lt=0,kn=null,Qs(o,a,v,7));break;case 5:var M=null;switch(We.tag){case 26:M=We.memoizedState;case 5:case 27:var O=We;if(!M||Jx(M)){lt=0,kn=null;var P=O.sibling;if(P!==null)We=P;else{var K=O.return;K!==null?(We=K,ku(K)):We=null}break t}}lt=0,kn=null,Qs(o,a,v,5);break;case 6:lt=0,kn=null,Qs(o,a,v,6);break;case 8:Ep(),Tt=6;break e;default:throw Error(r(462))}}PA();break}catch(te){dx(o,te)}while(!0);return Jr=$o=null,_.H=h,_.A=g,at=u,We!==null?0:(mt=null,et=0,Qc(),Tt)}function PA(){for(;We!==null&&!Mn();)mx(We)}function mx(o){var a=Ub(o.alternate,o,oi);o.memoizedProps=o.pendingProps,a===null?ku(o):We=a}function gx(o){var a=o,u=a.alternate;switch(a.tag){case 15:case 0:a=_b(u,a,a.pendingProps,a.type,void 0,et);break;case 11:a=_b(u,a,a.pendingProps,a.type.render,a.ref,et);break;case 5:$h(a);default:Vb(u,a),a=We=y0(a,oi),a=Ub(u,a,oi)}o.memoizedProps=o.pendingProps,a===null?ku(o):We=a}function Qs(o,a,u,h){Jr=$o=null,$h(a),Fs=null,yl=0;var g=a.return;try{if(wA(o,g,a,u,et)){Tt=1,wu(o,Yn(u,o.current)),We=null;return}}catch(v){if(g!==null)throw We=g,v;Tt=1,wu(o,Yn(u,o.current)),We=null;return}a.flags&32768?(ot||h===1?o=!0:Ks||(et&536870912)!==0?o=!1:(zi=o=!0,(h===2||h===9||h===3||h===6)&&(h=Xn.current,h!==null&&h.tag===13&&(h.flags|=16384))),yx(a,o)):ku(a)}function ku(o){var a=o;do{if((a.flags&32768)!==0){yx(a,zi);return}o=a.return;var u=CA(a.alternate,a,oi);if(u!==null){We=u;return}if(a=a.sibling,a!==null){We=a;return}We=a=o}while(a!==null);Tt===0&&(Tt=5)}function yx(o,a){do{var u=MA(o.alternate,o);if(u!==null){u.flags&=32767,We=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(o=o.sibling,o!==null)){We=o;return}We=o=u}while(o!==null);Tt=6,We=null}function vx(o,a,u,h,g,v,M,O,P){o.cancelPendingCommit=null;do Du();while(Xt!==0);if((at&6)!==0)throw Error(r(327));if(a!==null){if(a===o.current)throw Error(r(177));if(v=a.lanes|a.childLanes,v|=mh,Uc(o,u,v,M,O,P),o===mt&&(We=mt=null,et=0),Ws=a,Ii=o,Xs=u,xp=v,Sp=g,lx=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,jA(ws,function(){return Ex(),null})):(o.callbackNode=null,o.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=_.T,_.T=null,g=Z.p,Z.p=2,M=at,at|=4;try{TA(o,a,u)}finally{at=M,Z.p=g,_.T=h}}Xt=1,bx(),xx(),Sx()}}function bx(){if(Xt===1){Xt=0;var o=Ii,a=Ws,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=_.T,_.T=null;var h=Z.p;Z.p=2;var g=at;at|=4;try{tx(a,o);var v=jp,M=a0(o.containerInfo),O=v.focusedElem,P=v.selectionRange;if(M!==O&&O&&O.ownerDocument&&s0(O.ownerDocument.documentElement,O)){if(P!==null&&uh(O)){var K=P.start,te=P.end;if(te===void 0&&(te=K),"selectionStart"in O)O.selectionStart=K,O.selectionEnd=Math.min(te,O.value.length);else{var oe=O.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var X=W.getSelection(),je=O.textContent.length,De=Math.min(P.start,je),dt=P.end===void 0?De:Math.min(P.end,je);!X.extend&&De>dt&&(M=dt,dt=De,De=M);var U=o0(O,De),B=o0(O,dt);if(U&&B&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var V=oe.createRange();V.setStart(U.node,U.offset),X.removeAllRanges(),De>dt?(X.addRange(V),X.extend(B.node,B.offset)):(V.setEnd(B.node,B.offset),X.addRange(V))}}}}for(oe=[],X=O;X=X.parentNode;)X.nodeType===1&&oe.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<oe.length;O++){var ne=oe[O];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Vu=!!_p,jp=_p=null}finally{at=g,Z.p=h,_.T=u}}o.current=a,Xt=2}}function xx(){if(Xt===2){Xt=0;var o=Ii,a=Ws,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=_.T,_.T=null;var h=Z.p;Z.p=2;var g=at;at|=4;try{Jb(o,a.alternate,a)}finally{at=g,Z.p=h,_.T=u}}Xt=3}}function Sx(){if(Xt===4||Xt===3){Xt=0,Tn();var o=Ii,a=Ws,u=Xs,h=lx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Xt=5:(Xt=0,Ws=Ii=null,wx(o,o.pendingLanes));var g=o.pendingLanes;if(g===0&&(ji=null),Va(u),a=a.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(yn,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=_.T,g=Z.p,Z.p=2,_.T=null;try{for(var v=o.onRecoverableError,M=0;M<h.length;M++){var O=h[M];v(O.value,{componentStack:O.stack})}}finally{_.T=a,Z.p=g}}(Xs&3)!==0&&Du(),Nr(o),g=o.pendingLanes,(u&4194090)!==0&&(g&42)!==0?o===wp?Tl++:(Tl=0,wp=o):Tl=0,Ol(0)}}function wx(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,sl(a)))}function Du(o){return bx(),xx(),Sx(),Ex()}function Ex(){if(Xt!==5)return!1;var o=Ii,a=xp;xp=0;var u=Va(Xs),h=_.T,g=Z.p;try{Z.p=32>u?32:u,_.T=null,u=Sp,Sp=null;var v=Ii,M=Xs;if(Xt=0,Ws=Ii=null,Xs=0,(at&6)!==0)throw Error(r(331));var O=at;if(at|=4,sx(v.current),rx(v,v.current,M,u),at=O,Ol(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(yn,v)}catch{}return!0}finally{Z.p=g,_.T=h,wx(o,a)}}function Cx(o,a,u){a=Yn(u,a),a=ep(o.stateNode,a,2),o=Ni(o,a,2),o!==null&&(No(o,2),Nr(o))}function ht(o,a,u){if(o.tag===3)Cx(o,o,u);else for(;a!==null;){if(a.tag===3){Cx(a,o,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ji===null||!ji.has(h))){o=Yn(u,o),u=Nb(2),h=Ni(a,u,2),h!==null&&(Rb(u,h,a,o),No(h,2),Nr(h));break}}a=a.return}}function Tp(o,a,u){var h=o.pingCache;if(h===null){h=o.pingCache=new RA;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(u)||(gp=!0,g.add(u),o=LA.bind(null,o,a,u),a.then(o,o))}function LA(o,a,u){var h=o.pingCache;h!==null&&h.delete(a),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,mt===o&&(et&u)===u&&(Tt===4||Tt===3&&(et&62914560)===et&&300>St()-bp?(at&2)===0&&Js(o,0):yp|=u,Gs===et&&(Gs=0)),Nr(o)}function Mx(o,a){a===0&&(a=Hc()),o=Ps(o,a),o!==null&&(No(o,a),Nr(o))}function zA(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),Mx(o,u)}function _A(o,a){var u=0;switch(o.tag){case 13:var h=o.stateNode,g=o.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=o.stateNode;break;case 22:h=o.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),Mx(o,u)}function jA(o,a){return it(o,a)}var Pu=null,Zs=null,Op=!1,Lu=!1,Np=!1,Ko=0;function Nr(o){o!==Zs&&o.next===null&&(Zs===null?Pu=Zs=o:Zs=Zs.next=o),Lu=!0,Op||(Op=!0,BA())}function Ol(o,a){if(!Np&&Lu){Np=!0;do for(var u=!1,h=Pu;h!==null;){if(o!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var M=h.suspendedLanes,O=h.pingedLanes;v=(1<<31-Gt(42|o)+1)-1,v&=g&~(M&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,Rx(h,v))}else v=et,v=Oo(h,h===mt?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Er(h,v)||(u=!0,Rx(h,v));h=h.next}while(u);Np=!1}}function IA(){Tx()}function Tx(){Lu=Op=!1;var o=0;Ko!==0&&(KA()&&(o=Ko),Ko=0);for(var a=St(),u=null,h=Pu;h!==null;){var g=h.next,v=Ox(h,a);v===0?(h.next=null,u===null?Pu=g:u.next=g,g===null&&(Zs=u)):(u=h,(o!==0||(v&3)!==0)&&(Lu=!0)),h=g}Ol(o)}function Ox(o,a){for(var u=o.suspendedLanes,h=o.pingedLanes,g=o.expirationTimes,v=o.pendingLanes&-62914561;0<v;){var M=31-Gt(v),O=1<<M,P=g[M];P===-1?((O&u)===0||(O&h)!==0)&&(g[M]=$c(O,a)):P<=a&&(o.expiredLanes|=O),v&=~O}if(a=mt,u=et,u=Oo(o,o===a?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h=o.callbackNode,u===0||o===a&&(lt===2||lt===9)||o.cancelPendingCommit!==null)return h!==null&&h!==null&&ct(h),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||Er(o,u)){if(a=u&-u,a===o.callbackPriority)return a;switch(h!==null&&ct(h),Va(u)){case 2:case 8:u=jc;break;case 32:u=ws;break;case 268435456:u=bi;break;default:u=ws}return h=Nx.bind(null,o),u=it(u,h),o.callbackPriority=a,o.callbackNode=u,a}return h!==null&&h!==null&&ct(h),o.callbackPriority=2,o.callbackNode=null,2}function Nx(o,a){if(Xt!==0&&Xt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(Du()&&o.callbackNode!==u)return null;var h=et;return h=Oo(o,o===mt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h===0?null:(ux(o,h,a),Ox(o,St()),o.callbackNode!=null&&o.callbackNode===u?Nx.bind(null,o):null)}function Rx(o,a){if(Du())return null;ux(o,a,!0)}function BA(){WA(function(){(at&6)!==0?it(_t,IA):Tx()})}function Rp(){return Ko===0&&(Ko=Es()),Ko}function Ax(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:qc(""+o)}function kx(o,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,o.id&&u.setAttribute("form",o.id),a.parentNode.insertBefore(u,a),o=new FormData(o),u.parentNode.removeChild(u),o}function $A(o,a,u,h,g){if(a==="submit"&&u&&u.stateNode===g){var v=Ax((g[he]||null).action),M=h.submitter;M&&(a=(a=M[he]||null)?Ax(a.formAction):M.getAttribute("formAction"),a!==null&&(v=a,M=null));var O=new Wc("action","action",null,h,g);o.push({event:O,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ko!==0){var P=M?kx(g,M):new FormData(g);Wh(u,{pending:!0,data:P,method:g.method,action:v},null,P)}}else typeof v=="function"&&(O.preventDefault(),P=M?kx(g,M):new FormData(g),Wh(u,{pending:!0,data:P,method:g.method,action:v},v,P))},currentTarget:g}]})}}for(var Ap=0;Ap<ph.length;Ap++){var kp=ph[Ap],HA=kp.toLowerCase(),UA=kp[0].toUpperCase()+kp.slice(1);fr(HA,"on"+UA)}fr(u0,"onAnimationEnd"),fr(f0,"onAnimationIteration"),fr(d0,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(oA,"onTransitionRun"),fr(sA,"onTransitionStart"),fr(aA,"onTransitionCancel"),fr(h0,"onTransitionEnd"),Fn("onMouseEnter",["mouseout","mouseover"]),Fn("onMouseLeave",["mouseout","mouseover"]),Fn("onPointerEnter",["pointerout","pointerover"]),Fn("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Dx(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var h=o[u],g=h.event;h=h.listeners;e:{var v=void 0;if(a)for(var M=h.length-1;0<=M;M--){var O=h[M],P=O.instance,K=O.currentTarget;if(O=O.listener,P!==v&&g.isPropagationStopped())break e;v=O,g.currentTarget=K;try{v(g)}catch(te){Su(te)}g.currentTarget=null,v=P}else for(M=0;M<h.length;M++){if(O=h[M],P=O.instance,K=O.currentTarget,O=O.listener,P!==v&&g.isPropagationStopped())break e;v=O,g.currentTarget=K;try{v(g)}catch(te){Su(te)}g.currentTarget=null,v=P}}}}function Xe(o,a){var u=a[ke];u===void 0&&(u=a[ke]=new Set);var h=o+"__bubble";u.has(h)||(Px(a,o,2,!1),u.add(h))}function Dp(o,a,u){var h=0;a&&(h|=4),Px(u,o,h,a)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Pp(o){if(!o[zu]){o[zu]=!0,Ze.forEach(function(u){u!=="selectionchange"&&(FA.has(u)||Dp(u,!1,o),Dp(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[zu]||(a[zu]=!0,Dp("selectionchange",!1,a))}}function Px(o,a,u,h){switch(rS(a)){case 2:var g=gk;break;case 8:g=yk;break;default:g=Kp}u=g.bind(null,a,u,o),g=void 0,!th||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?o.addEventListener(a,u,{capture:!0,passive:g}):o.addEventListener(a,u,!0):g!==void 0?o.addEventListener(a,u,{passive:g}):o.addEventListener(a,u,!1)}function Lp(o,a,u,h,g){var v=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var M=h.tag;if(M===3||M===4){var O=h.stateNode.containerInfo;if(O===g)break;if(M===4)for(M=h.return;M!==null;){var P=M.tag;if((P===3||P===4)&&M.stateNode.containerInfo===g)return;M=M.return}for(;O!==null;){if(M=Ie(O),M===null)return;if(P=M.tag,P===5||P===6||P===26||P===27){h=v=M;continue e}O=O.parentNode}}h=h.return}$v(function(){var K=v,te=Zd(u),oe=[];e:{var W=p0.get(o);if(W!==void 0){var X=Wc,je=o;switch(o){case"keypress":if(Kc(u)===0)break e;case"keydown":case"keyup":X=jR;break;case"focusin":je="focus",X=oh;break;case"focusout":je="blur",X=oh;break;case"beforeblur":case"afterblur":X=oh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=MR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=$R;break;case u0:case f0:case d0:X=NR;break;case h0:X=UR;break;case"scroll":case"scrollend":X=ER;break;case"wheel":X=VR;break;case"copy":case"cut":case"paste":X=AR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=qv;break;case"toggle":case"beforetoggle":X=YR}var De=(a&4)!==0,dt=!De&&(o==="scroll"||o==="scrollend"),U=De?W!==null?W+"Capture":null:W;De=[];for(var B=K,V;B!==null;){var ne=B;if(V=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||V===null||U===null||(ne=Ka(B,U),ne!=null&&De.push(Rl(B,ne,V))),dt)break;B=B.return}0<De.length&&(W=new X(W,je,null,u,te),oe.push({event:W,listeners:De}))}}if((a&7)===0){e:{if(W=o==="mouseover"||o==="pointerover",X=o==="mouseout"||o==="pointerout",W&&u!==Qd&&(je=u.relatedTarget||u.fromElement)&&(Ie(je)||je[Te]))break e;if((X||W)&&(W=te.window===te?te:(W=te.ownerDocument)?W.defaultView||W.parentWindow:window,X?(je=u.relatedTarget||u.toElement,X=K,je=je?Ie(je):null,je!==null&&(dt=s(je),De=je.tag,je!==dt||De!==5&&De!==27&&De!==6)&&(je=null)):(X=null,je=K),X!==je)){if(De=Fv,ne="onMouseLeave",U="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(De=qv,ne="onPointerLeave",U="onPointerEnter",B="pointer"),dt=X==null?W:vt(X),V=je==null?W:vt(je),W=new De(ne,B+"leave",X,u,te),W.target=dt,W.relatedTarget=V,ne=null,Ie(te)===K&&(De=new De(U,B+"enter",je,u,te),De.target=V,De.relatedTarget=dt,ne=De),dt=ne,X&&je)t:{for(De=X,U=je,B=0,V=De;V;V=ea(V))B++;for(V=0,ne=U;ne;ne=ea(ne))V++;for(;0<B-V;)De=ea(De),B--;for(;0<V-B;)U=ea(U),V--;for(;B--;){if(De===U||U!==null&&De===U.alternate)break t;De=ea(De),U=ea(U)}De=null}else De=null;X!==null&&Lx(oe,W,X,De,!1),je!==null&&dt!==null&&Lx(oe,dt,je,De,!0)}}e:{if(W=K?vt(K):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var we=Zv;else if(Jv(W))if(e0)we=nA;else{we=eA;var Ke=ZR}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&Jd(K.elementType)&&(we=Zv):we=tA;if(we&&(we=we(o,K))){Qv(oe,we,u,te);break e}Ke&&Ke(o,W,K),o==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&Xd(W,"number",W.value)}switch(Ke=K?vt(K):window,o){case"focusin":(Jv(Ke)||Ke.contentEditable==="true")&&(As=Ke,fh=K,tl=null);break;case"focusout":tl=fh=As=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,l0(oe,u,te);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":l0(oe,u,te)}var Ne;if(ah)e:{switch(o){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Rs?Wv(o,u)&&(ze="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(ze="onCompositionStart");ze&&(Yv&&u.locale!=="ko"&&(Rs||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Rs&&(Ne=Hv()):(Ci=te,nh="value"in Ci?Ci.value:Ci.textContent,Rs=!0)),Ke=_u(K,ze),0<Ke.length&&(ze=new Vv(ze,o,null,u,te),oe.push({event:ze,listeners:Ke}),Ne?ze.data=Ne:(Ne=Xv(u),Ne!==null&&(ze.data=Ne)))),(Ne=GR?WR(o,u):XR(o,u))&&(ze=_u(K,"onBeforeInput"),0<ze.length&&(Ke=new Vv("onBeforeInput","beforeinput",null,u,te),oe.push({event:Ke,listeners:ze}),Ke.data=Ne)),$A(oe,o,K,u,te)}Dx(oe,a)})}function Rl(o,a,u){return{instance:o,listener:a,currentTarget:u}}function _u(o,a){for(var u=a+"Capture",h=[];o!==null;){var g=o,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ka(o,u),g!=null&&h.unshift(Rl(o,g,v)),g=Ka(o,a),g!=null&&h.push(Rl(o,g,v))),o.tag===3)return h;o=o.return}return[]}function ea(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Lx(o,a,u,h,g){for(var v=a._reactName,M=[];u!==null&&u!==h;){var O=u,P=O.alternate,K=O.stateNode;if(O=O.tag,P!==null&&P===h)break;O!==5&&O!==26&&O!==27||K===null||(P=K,g?(K=Ka(u,v),K!=null&&M.unshift(Rl(u,K,P))):g||(K=Ka(u,v),K!=null&&M.push(Rl(u,K,P)))),u=u.return}M.length!==0&&o.push({event:a,listeners:M})}var VA=/\r\n?/g,qA=/\u0000|\uFFFD/g;function zx(o){return(typeof o=="string"?o:""+o).replace(VA,`
`).replace(qA,"")}function _x(o,a){return a=zx(a),zx(o)===a}function ju(){}function ft(o,a,u,h,g,v){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Ts(o,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Ts(o,""+h);break;case"className":Yr(o,"class",h);break;case"tabIndex":Yr(o,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(o,u,h);break;case"style":Iv(o,h,v);break;case"data":if(a!=="object"){Yr(o,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){o.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(u);break}h=qc(""+h),o.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(a!=="input"&&ft(o,a,"name",g.name,g,null),ft(o,a,"formEncType",g.formEncType,g,null),ft(o,a,"formMethod",g.formMethod,g,null),ft(o,a,"formTarget",g.formTarget,g,null)):(ft(o,a,"encType",g.encType,g,null),ft(o,a,"method",g.method,g,null),ft(o,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(u);break}h=qc(""+h),o.setAttribute(u,h);break;case"onClick":h!=null&&(o.onclick=ju);break;case"onScroll":h!=null&&Xe("scroll",o);break;case"onScrollEnd":h!=null&&Xe("scrollend",o);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"multiple":o.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":o.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){o.removeAttribute("xlink:href");break}u=qc(""+h),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,""+h):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":h===!0?o.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,h):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?o.setAttribute(u,h):o.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?o.removeAttribute(u):o.setAttribute(u,h);break;case"popover":Xe("beforetoggle",o),Xe("toggle",o),Vn(o,"popover",h);break;case"xlinkActuate":Ye(o,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ye(o,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ye(o,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ye(o,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ye(o,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ye(o,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ye(o,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ye(o,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ye(o,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Vn(o,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=SR.get(u)||u,Vn(o,u,h))}}function zp(o,a,u,h,g,v){switch(u){case"style":Iv(o,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"children":typeof h=="string"?Ts(o,h):(typeof h=="number"||typeof h=="bigint")&&Ts(o,""+h);break;case"onScroll":h!=null&&Xe("scroll",o);break;case"onScrollEnd":h!=null&&Xe("scrollend",o);break;case"onClick":h!=null&&(o.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xi.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),a=u.slice(2,g?u.length-7:void 0),v=o[he]||null,v=v!=null?v[u]:null,typeof v=="function"&&o.removeEventListener(a,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(a,h,g);break e}u in o?o[u]=h:h===!0?o.setAttribute(u,""):Vn(o,u,h)}}}function Jt(o,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",o),Xe("load",o);var h=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var M=u[v];if(M!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ft(o,a,v,M,u,null)}}g&&ft(o,a,"srcSet",u.srcSet,u,null),h&&ft(o,a,"src",u.src,u,null);return;case"input":Xe("invalid",o);var O=v=M=g=null,P=null,K=null;for(h in u)if(u.hasOwnProperty(h)){var te=u[h];if(te!=null)switch(h){case"name":g=te;break;case"type":M=te;break;case"checked":P=te;break;case"defaultChecked":K=te;break;case"value":v=te;break;case"defaultValue":O=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:ft(o,a,h,te,u,null)}}Lv(o,v,O,P,K,M,g,!1),Fc(o);return;case"select":Xe("invalid",o),h=M=v=null;for(g in u)if(u.hasOwnProperty(g)&&(O=u[g],O!=null))switch(g){case"value":v=O;break;case"defaultValue":M=O;break;case"multiple":h=O;default:ft(o,a,g,O,u,null)}a=v,u=M,o.multiple=!!h,a!=null?Ms(o,!!h,a,!1):u!=null&&Ms(o,!!h,u,!0);return;case"textarea":Xe("invalid",o),v=g=h=null;for(M in u)if(u.hasOwnProperty(M)&&(O=u[M],O!=null))switch(M){case"value":h=O;break;case"defaultValue":g=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:ft(o,a,M,O,u,null)}_v(o,h,g,v),Fc(o);return;case"option":for(P in u)if(u.hasOwnProperty(P)&&(h=u[P],h!=null))switch(P){case"selected":o.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ft(o,a,P,h,u,null)}return;case"dialog":Xe("beforetoggle",o),Xe("toggle",o),Xe("cancel",o),Xe("close",o);break;case"iframe":case"object":Xe("load",o);break;case"video":case"audio":for(h=0;h<Nl.length;h++)Xe(Nl[h],o);break;case"image":Xe("error",o),Xe("load",o);break;case"details":Xe("toggle",o);break;case"embed":case"source":case"link":Xe("error",o),Xe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in u)if(u.hasOwnProperty(K)&&(h=u[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ft(o,a,K,h,u,null)}return;default:if(Jd(a)){for(te in u)u.hasOwnProperty(te)&&(h=u[te],h!==void 0&&zp(o,a,te,h,u,void 0));return}}for(O in u)u.hasOwnProperty(O)&&(h=u[O],h!=null&&ft(o,a,O,h,u,null))}function YA(o,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,M=null,O=null,P=null,K=null,te=null;for(X in u){var oe=u[X];if(u.hasOwnProperty(X)&&oe!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":P=oe;default:h.hasOwnProperty(X)||ft(o,a,X,null,h,oe)}}for(var W in h){var X=h[W];if(oe=u[W],h.hasOwnProperty(W)&&(X!=null||oe!=null))switch(W){case"type":v=X;break;case"name":g=X;break;case"checked":K=X;break;case"defaultChecked":te=X;break;case"value":M=X;break;case"defaultValue":O=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==oe&&ft(o,a,W,X,h,oe)}}Wd(o,M,O,P,K,te,v,g);return;case"select":X=M=O=W=null;for(v in u)if(P=u[v],u.hasOwnProperty(v)&&P!=null)switch(v){case"value":break;case"multiple":X=P;default:h.hasOwnProperty(v)||ft(o,a,v,null,h,P)}for(g in h)if(v=h[g],P=u[g],h.hasOwnProperty(g)&&(v!=null||P!=null))switch(g){case"value":W=v;break;case"defaultValue":O=v;break;case"multiple":M=v;default:v!==P&&ft(o,a,g,v,h,P)}a=O,u=M,h=X,W!=null?Ms(o,!!u,W,!1):!!h!=!!u&&(a!=null?Ms(o,!!u,a,!0):Ms(o,!!u,u?[]:"",!1));return;case"textarea":X=W=null;for(O in u)if(g=u[O],u.hasOwnProperty(O)&&g!=null&&!h.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ft(o,a,O,null,h,g)}for(M in h)if(g=h[M],v=u[M],h.hasOwnProperty(M)&&(g!=null||v!=null))switch(M){case"value":W=g;break;case"defaultValue":X=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&ft(o,a,M,g,h,v)}zv(o,W,X);return;case"option":for(var je in u)if(W=u[je],u.hasOwnProperty(je)&&W!=null&&!h.hasOwnProperty(je))switch(je){case"selected":o.selected=!1;break;default:ft(o,a,je,null,h,W)}for(P in h)if(W=h[P],X=u[P],h.hasOwnProperty(P)&&W!==X&&(W!=null||X!=null))switch(P){case"selected":o.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ft(o,a,P,W,h,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)W=u[De],u.hasOwnProperty(De)&&W!=null&&!h.hasOwnProperty(De)&&ft(o,a,De,null,h,W);for(K in h)if(W=h[K],X=u[K],h.hasOwnProperty(K)&&W!==X&&(W!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:ft(o,a,K,W,h,X)}return;default:if(Jd(a)){for(var dt in u)W=u[dt],u.hasOwnProperty(dt)&&W!==void 0&&!h.hasOwnProperty(dt)&&zp(o,a,dt,void 0,h,W);for(te in h)W=h[te],X=u[te],!h.hasOwnProperty(te)||W===X||W===void 0&&X===void 0||zp(o,a,te,W,h,X);return}}for(var U in u)W=u[U],u.hasOwnProperty(U)&&W!=null&&!h.hasOwnProperty(U)&&ft(o,a,U,null,h,W);for(oe in h)W=h[oe],X=u[oe],!h.hasOwnProperty(oe)||W===X||W==null&&X==null||ft(o,a,oe,W,h,X)}var _p=null,jp=null;function Iu(o){return o.nodeType===9?o:o.ownerDocument}function jx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ix(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function Ip(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bp=null;function KA(){var o=window.event;return o&&o.type==="popstate"?o===Bp?!1:(Bp=o,!0):(Bp=null,!1)}var Bx=typeof setTimeout=="function"?setTimeout:void 0,GA=typeof clearTimeout=="function"?clearTimeout:void 0,$x=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof $x<"u"?function(o){return $x.resolve(null).then(o).catch(XA)}:Bx;function XA(o){setTimeout(function(){throw o})}function $i(o){return o==="head"}function Hx(o,a){var u=a,h=0,g=0;do{var v=u.nextSibling;if(o.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<h&&8>h){u=h;var M=o.ownerDocument;if(u&1&&Al(M.documentElement),u&2&&Al(M.body),u&4)for(u=M.head,Al(u),M=u.firstChild;M;){var O=M.nextSibling,P=M.nodeName;M[_e]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&M.rel.toLowerCase()==="stylesheet"||u.removeChild(M),M=O}}if(g===0){o.removeChild(v),Il(a);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:h=u.charCodeAt(0)-48;else h=0;u=v}while(u);Il(a)}function $p(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":$p(u),Oe(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function JA(o,a,u,h){for(;o.nodeType===1;){var g=u;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(h){if(!o[_e])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(v=o.getAttribute("rel"),v==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(v!==g.rel||o.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||o.getAttribute("title")!==(g.title==null?null:g.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(v=o.getAttribute("src"),(v!==(g.src==null?null:g.src)||o.getAttribute("type")!==(g.type==null?null:g.type)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&o.getAttribute("name")===v)return o}else return o;if(o=hr(o.nextSibling),o===null)break}return null}function QA(o,a,u){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=hr(o.nextSibling),o===null))return null;return o}function Hp(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function ZA(o,a){var u=o.ownerDocument;if(o.data!=="$?"||u.readyState==="complete")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),o._reactRetry=h}}function hr(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return o}var Up=null;function Ux(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return o;a--}else u==="/$"&&a++}o=o.previousSibling}return null}function Fx(o,a,u){switch(a=Iu(u),o){case"html":if(o=a.documentElement,!o)throw Error(r(452));return o;case"head":if(o=a.head,!o)throw Error(r(453));return o;case"body":if(o=a.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Al(o){for(var a=o.attributes;a.length;)o.removeAttributeNode(a[0]);Oe(o)}var Qn=new Map,Vx=new Set;function Bu(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var si=Z.d;Z.d={f:ek,r:tk,D:nk,C:rk,L:ik,m:ok,X:ak,S:sk,M:lk};function ek(){var o=si.f(),a=Au();return o||a}function tk(o){var a=tt(o);a!==null&&a.tag===5&&a.type==="form"?ub(a):si.r(o)}var ta=typeof document>"u"?null:document;function qx(o,a,u){var h=ta;if(h&&typeof a=="string"&&a){var g=qn(a);g='link[rel="'+o+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),Vx.has(g)||(Vx.add(g),o={rel:o,crossOrigin:u,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Jt(a,"link",o),nt(a),h.head.appendChild(a)))}}function nk(o){si.D(o),qx("dns-prefetch",o,null)}function rk(o,a){si.C(o,a),qx("preconnect",o,a)}function ik(o,a,u){si.L(o,a,u);var h=ta;if(h&&o&&a){var g='link[rel="preload"][as="'+qn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+qn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+qn(u.imageSizes)+'"]')):g+='[href="'+qn(o)+'"]';var v=g;switch(a){case"style":v=na(o);break;case"script":v=ra(o)}Qn.has(v)||(o=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:o,as:a},u),Qn.set(v,o),h.querySelector(g)!==null||a==="style"&&h.querySelector(kl(v))||a==="script"&&h.querySelector(Dl(v))||(a=h.createElement("link"),Jt(a,"link",o),nt(a),h.head.appendChild(a)))}}function ok(o,a){si.m(o,a);var u=ta;if(u&&o){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+qn(h)+'"][href="'+qn(o)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ra(o)}if(!Qn.has(v)&&(o=p({rel:"modulepreload",href:o},a),Qn.set(v,o),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Dl(v)))return}h=u.createElement("link"),Jt(h,"link",o),nt(h),u.head.appendChild(h)}}}function sk(o,a,u){si.S(o,a,u);var h=ta;if(h&&o){var g=Et(h).hoistableStyles,v=na(o);a=a||"default";var M=g.get(v);if(!M){var O={loading:0,preload:null};if(M=h.querySelector(kl(v)))O.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":a},u),(u=Qn.get(v))&&Fp(o,u);var P=M=h.createElement("link");nt(P),Jt(P,"link",o),P._p=new Promise(function(K,te){P.onload=K,P.onerror=te}),P.addEventListener("load",function(){O.loading|=1}),P.addEventListener("error",function(){O.loading|=2}),O.loading|=4,$u(M,a,h)}M={type:"stylesheet",instance:M,count:1,state:O},g.set(v,M)}}}function ak(o,a){si.X(o,a);var u=ta;if(u&&o){var h=Et(u).hoistableScripts,g=ra(o),v=h.get(g);v||(v=u.querySelector(Dl(g)),v||(o=p({src:o,async:!0},a),(a=Qn.get(g))&&Vp(o,a),v=u.createElement("script"),nt(v),Jt(v,"link",o),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function lk(o,a){si.M(o,a);var u=ta;if(u&&o){var h=Et(u).hoistableScripts,g=ra(o),v=h.get(g);v||(v=u.querySelector(Dl(g)),v||(o=p({src:o,async:!0,type:"module"},a),(a=Qn.get(g))&&Vp(o,a),v=u.createElement("script"),nt(v),Jt(v,"link",o),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function Yx(o,a,u,h){var g=(g=le.current)?Bu(g):null;if(!g)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=na(u.href),u=Et(g).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=na(u.href);var v=Et(g).hoistableStyles,M=v.get(o);if(M||(g=g.ownerDocument||g,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(o,M),(v=g.querySelector(kl(o)))&&!v._p&&(M.instance=v,M.state.loading=5),Qn.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Qn.set(o,u),v||ck(g,o,u,M.state))),a&&h===null)throw Error(r(528,""));return M}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ra(u),u=Et(g).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function na(o){return'href="'+qn(o)+'"'}function kl(o){return'link[rel="stylesheet"]['+o+"]"}function Kx(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function ck(o,a,u,h){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=o.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Jt(a,"link",u),nt(a),o.head.appendChild(a))}function ra(o){return'[src="'+qn(o)+'"]'}function Dl(o){return"script[async]"+o}function Gx(o,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=o.querySelector('style[data-href~="'+qn(u.href)+'"]');if(h)return a.instance=h,nt(h),h;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(o.ownerDocument||o).createElement("style"),nt(h),Jt(h,"style",g),$u(h,u.precedence,o),a.instance=h;case"stylesheet":g=na(u.href);var v=o.querySelector(kl(g));if(v)return a.state.loading|=4,a.instance=v,nt(v),v;h=Kx(u),(g=Qn.get(g))&&Fp(h,g),v=(o.ownerDocument||o).createElement("link"),nt(v);var M=v;return M._p=new Promise(function(O,P){M.onload=O,M.onerror=P}),Jt(v,"link",h),a.state.loading|=4,$u(v,u.precedence,o),a.instance=v;case"script":return v=ra(u.src),(g=o.querySelector(Dl(v)))?(a.instance=g,nt(g),g):(h=u,(g=Qn.get(v))&&(h=p({},u),Vp(h,g)),o=o.ownerDocument||o,g=o.createElement("script"),nt(g),Jt(g,"link",h),o.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,$u(h,u.precedence,o));return a.instance}function $u(o,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,M=0;M<h.length;M++){var O=h[M];if(O.dataset.precedence===a)v=O;else if(v!==g)break}v?v.parentNode.insertBefore(o,v.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(o,a.firstChild))}function Fp(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function Vp(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var Hu=null;function Wx(o,a,u){if(Hu===null){var h=new Map,g=Hu=new Map;g.set(u,h)}else g=Hu,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(o))return h;for(h.set(o,null),u=u.getElementsByTagName(o),g=0;g<u.length;g++){var v=u[g];if(!(v[_e]||v[se]||o==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var M=v.getAttribute(a)||"";M=o+M;var O=h.get(M);O?O.push(v):h.set(M,[v])}}return h}function Xx(o,a,u){o=o.ownerDocument||o,o.head.insertBefore(u,a==="title"?o.querySelector("head > title"):null)}function uk(o,a,u){if(u===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Jx(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Pl=null;function fk(){}function dk(o,a,u){if(Pl===null)throw Error(r(475));var h=Pl;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=na(u.href),v=o.querySelector(kl(g));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(h.count++,h=Uu.bind(h),o.then(h,h)),a.state.loading|=4,a.instance=v,nt(v);return}v=o.ownerDocument||o,u=Kx(u),(g=Qn.get(g))&&Fp(u,g),v=v.createElement("link"),nt(v);var M=v;M._p=new Promise(function(O,P){M.onload=O,M.onerror=P}),Jt(v,"link",u),a.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Uu.bind(h),o.addEventListener("load",a),o.addEventListener("error",a))}}function hk(){if(Pl===null)throw Error(r(475));var o=Pl;return o.stylesheets&&o.count===0&&qp(o,o.stylesheets),0<o.count?function(a){var u=setTimeout(function(){if(o.stylesheets&&qp(o,o.stylesheets),o.unsuspend){var h=o.unsuspend;o.unsuspend=null,h()}},6e4);return o.unsuspend=a,function(){o.unsuspend=null,clearTimeout(u)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)qp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Fu=null;function qp(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Fu=new Map,a.forEach(pk,o),Fu=null,Uu.call(o))}function pk(o,a){if(!(a.state.loading&4)){var u=Fu.get(o);if(u)var h=u.get(null);else{u=new Map,Fu.set(o,u);for(var g=o.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var M=g[v];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(u.set(M.dataset.precedence,M),h=M)}h&&u.set(null,h)}g=a.instance,M=g.getAttribute("data-precedence"),v=u.get(M)||h,v===h&&u.set(null,g),u.set(M,g),this.count++,h=Uu.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(g,o.firstChild)),a.state.loading|=4}}var Ll={$$typeof:A,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function mk(o,a,u,h,g,v,M,O){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.hiddenUpdates=Cs(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Qx(o,a,u,h,g,v,M,O,P,K,te,oe){return o=new mk(o,a,u,M,O,P,K,oe),a=1,v===!0&&(a|=24),v=Nn(3,null,null,a),o.current=v,v.stateNode=o,a=Th(),a.refCount++,o.pooledCache=a,a.refCount++,v.memoizedState={element:h,isDehydrated:u,cache:a},Ah(v),o}function Zx(o){return o?(o=Ls,o):Ls}function eS(o,a,u,h,g,v){g=Zx(g),h.context===null?h.context=g:h.pendingContext=g,h=Oi(a),h.payload={element:u},v=v===void 0?null:v,v!==null&&(h.callback=v),u=Ni(o,h,a),u!==null&&(Pn(u,o,a),ul(u,o,a))}function tS(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function Yp(o,a){tS(o,a),(o=o.alternate)&&tS(o,a)}function nS(o){if(o.tag===13){var a=Ps(o,67108864);a!==null&&Pn(a,o,67108864),Yp(o,67108864)}}var Vu=!0;function gk(o,a,u,h){var g=_.T;_.T=null;var v=Z.p;try{Z.p=2,Kp(o,a,u,h)}finally{Z.p=v,_.T=g}}function yk(o,a,u,h){var g=_.T;_.T=null;var v=Z.p;try{Z.p=8,Kp(o,a,u,h)}finally{Z.p=v,_.T=g}}function Kp(o,a,u,h){if(Vu){var g=Gp(h);if(g===null)Lp(o,a,h,qu,u),iS(o,h);else if(bk(g,o,a,u,h))h.stopPropagation();else if(iS(o,h),a&4&&-1<vk.indexOf(o)){for(;g!==null;){var v=tt(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var M=qr(v.pendingLanes);if(M!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;M;){var P=1<<31-Gt(M);O.entanglements[1]|=P,M&=~P}Nr(v),(at&6)===0&&(Nu=St()+500,Ol(0))}}break;case 13:O=Ps(v,2),O!==null&&Pn(O,v,2),Au(),Yp(v,2)}if(v=Gp(h),v===null&&Lp(o,a,h,qu,u),v===g)break;g=v}g!==null&&h.stopPropagation()}else Lp(o,a,h,null,u)}}function Gp(o){return o=Zd(o),Wp(o)}var qu=null;function Wp(o){if(qu=null,o=Ie(o),o!==null){var a=s(o);if(a===null)o=null;else{var u=a.tag;if(u===13){if(o=l(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return qu=o,null}function rS(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fr()){case _t:return 2;case jc:return 8;case ws:case Vr:return 32;case bi:return 268435456;default:return 32}default:return 32}}var Xp=!1,Hi=null,Ui=null,Fi=null,zl=new Map,_l=new Map,Vi=[],vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iS(o,a){switch(o){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":zl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(a.pointerId)}}function jl(o,a,u,h,g,v){return o===null||o.nativeEvent!==v?(o={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},a!==null&&(a=tt(a),a!==null&&nS(a)),o):(o.eventSystemFlags|=h,a=o.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),o)}function bk(o,a,u,h,g){switch(a){case"focusin":return Hi=jl(Hi,o,a,u,h,g),!0;case"dragenter":return Ui=jl(Ui,o,a,u,h,g),!0;case"mouseover":return Fi=jl(Fi,o,a,u,h,g),!0;case"pointerover":var v=g.pointerId;return zl.set(v,jl(zl.get(v)||null,o,a,u,h,g)),!0;case"gotpointercapture":return v=g.pointerId,_l.set(v,jl(_l.get(v)||null,o,a,u,h,g)),!0}return!1}function oS(o){var a=Ie(o.target);if(a!==null){var u=s(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){o.blockedOn=a,F(o.priority,function(){if(u.tag===13){var h=Dn();h=Fa(h);var g=Ps(u,h);g!==null&&Pn(g,u,h),Yp(u,h)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Yu(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=Gp(o.nativeEvent);if(u===null){u=o.nativeEvent;var h=new u.constructor(u.type,u);Qd=h,u.target.dispatchEvent(h),Qd=null}else return a=tt(u),a!==null&&nS(a),o.blockedOn=u,!1;a.shift()}return!0}function sS(o,a,u){Yu(o)&&u.delete(a)}function xk(){Xp=!1,Hi!==null&&Yu(Hi)&&(Hi=null),Ui!==null&&Yu(Ui)&&(Ui=null),Fi!==null&&Yu(Fi)&&(Fi=null),zl.forEach(sS),_l.forEach(sS)}function Ku(o,a){o.blockedOn===a&&(o.blockedOn=null,Xp||(Xp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xk)))}var Gu=null;function aS(o){Gu!==o&&(Gu=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gu===o&&(Gu=null);for(var a=0;a<o.length;a+=3){var u=o[a],h=o[a+1],g=o[a+2];if(typeof h!="function"){if(Wp(h||u)===null)continue;break}var v=tt(u);v!==null&&(o.splice(a,3),a-=3,Wh(v,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function Il(o){function a(P){return Ku(P,o)}Hi!==null&&Ku(Hi,o),Ui!==null&&Ku(Ui,o),Fi!==null&&Ku(Fi,o),zl.forEach(a),_l.forEach(a);for(var u=0;u<Vi.length;u++){var h=Vi[u];h.blockedOn===o&&(h.blockedOn=null)}for(;0<Vi.length&&(u=Vi[0],u.blockedOn===null);)oS(u),u.blockedOn===null&&Vi.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],v=u[h+1],M=g[he]||null;if(typeof v=="function")M||aS(u);else if(M){var O=null;if(v&&v.hasAttribute("formAction")){if(g=v,M=v[he]||null)O=M.formAction;else if(Wp(g)!==null)continue}else O=M.action;typeof O=="function"?u[h+1]=O:(u.splice(h,3),h-=3),aS(u)}}}function Jp(o){this._internalRoot=o}Wu.prototype.render=Jp.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=Dn();eS(u,h,o,a,null,null)},Wu.prototype.unmount=Jp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;eS(o.current,2,null,o,null,null),Au(),a[Te]=null}};function Wu(o){this._internalRoot=o}Wu.prototype.unstable_scheduleHydration=function(o){if(o){var a=I();o={blockedOn:null,target:o,priority:a};for(var u=0;u<Vi.length&&a!==0&&a<Vi[u].priority;u++);Vi.splice(u,0,o),u===0&&oS(o)}};var lS=e.version;if(lS!=="19.1.0")throw Error(r(527,lS,"19.1.0"));Z.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(a),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var Sk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{yn=Xu.inject(Sk),wt=Xu}catch{}}return $l.createRoot=function(o,a){if(!i(o))throw Error(r(299));var u=!1,h="",g=Cb,v=Mb,M=Tb,O=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks)),a=Qx(o,1,!1,null,null,u,h,g,v,M,O,null),o[Te]=a.current,Pp(o),new Jp(a)},$l.hydrateRoot=function(o,a,u){if(!i(o))throw Error(r(299));var h=!1,g="",v=Cb,M=Mb,O=Tb,P=null,K=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(P=u.unstable_transitionCallbacks),u.formState!==void 0&&(K=u.formState)),a=Qx(o,1,!0,a,u??null,h,g,v,M,O,P,K),a.context=Zx(null),u=a.current,h=Dn(),h=Fa(h),g=Oi(h),g.callback=null,Ni(u,g,h),u=h,a.current.lanes=u,No(a,u),Nr(a),o[Te]=a.current,Pp(o),new Wu(a)},$l.version="19.1.0",$l}var vS;function kk(){if(vS)return em.exports;vS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),em.exports=Ak(),em.exports}var Dk=kk();const Pk=Xg(Dk);var Hl={},bS;function Lk(){if(bS)return Hl;bS=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=l,Hl.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,b){const x=new s,w=y.length;if(w<2)return x;const E=(b==null?void 0:b.decode)||p;let T=0;do{const N=y.indexOf("=",T);if(N===-1)break;const A=y.indexOf(";",T),L=A===-1?w:A;if(N>L){T=y.lastIndexOf(";",N-1)+1;continue}const z=c(y,T,N),R=f(y,N,z),D=y.slice(z,R);if(x[D]===void 0){let j=c(y,N+1,L),q=f(y,L,j);const ie=E(y.slice(j,q));x[D]=ie}T=L+1}while(T<w);return x}function c(y,b,x){do{const w=y.charCodeAt(b);if(w!==32&&w!==9)return b}while(++b<x);return x}function f(y,b,x){for(;b>x;){const w=y.charCodeAt(--b);if(w!==32&&w!==9)return b+1}return x}function d(y,b,x){const w=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const E=w(b);if(!e.test(E))throw new TypeError(`argument val is invalid: ${b}`);let T=y+"="+E;if(!x)return T;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);T+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);T+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);T+="; Path="+x.path}if(x.expires){if(!m(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);T+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(T+="; HttpOnly"),x.secure&&(T+="; Secure"),x.partitioned&&(T+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return T}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return i.call(y)==="[object Date]"}return Hl}Lk();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pE=n=>{throw TypeError(n)},zk=(n,e,t)=>e.has(n)||pE("Cannot "+t),im=(n,e,t)=>(zk(n,e,"read from private field"),t?t.call(n):e.get(n)),_k=(n,e,t)=>e.has(n)?pE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),xS="popstate";function jk(n={}){function e(r,i){let{pathname:s,search:l,hash:c}=r.location;return sc("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:uo(i)}return Bk(e,t,null,n)}function Je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function At(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ik(){return Math.random().toString(36).substring(2,10)}function SS(n,e){return{usr:n.state,key:n.key,idx:e}}function sc(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:t,key:e&&e.key||r||Ik()}}function uo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Bk(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",f=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let E=p(),T=E==null?null:E-d;d=E,f&&f({action:c,location:w.location,delta:T})}function y(E,T){c="PUSH";let N=sc(w.location,E,T);d=p()+1;let A=SS(N,d),L=w.createHref(N);try{l.pushState(A,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(L)}s&&f&&f({action:c,location:w.location,delta:1})}function b(E,T){c="REPLACE";let N=sc(w.location,E,T);d=p();let A=SS(N,d),L=w.createHref(N);l.replaceState(A,"",L),s&&f&&f({action:c,location:w.location,delta:0})}function x(E){let T=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof E=="string"?E:uo(E);return N=N.replace(/ $/,"%20"),Je(T,`No window.location.(origin|href) available to create URL for href: ${N}`),new URL(N,T)}let w={get action(){return c},get location(){return n(i,l)},listen(E){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(xS,m),f=E,()=>{i.removeEventListener(xS,m),f=null}},createHref(E){return e(i,E)},createURL:x,encodeLocation(E){let T=x(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:b,go(E){return l.go(E)}};return w}var Wl,wS=class{constructor(n){if(_k(this,Wl,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(im(this,Wl).has(n))return im(this,Wl).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){im(this,Wl).set(n,e)}};Wl=new WeakMap;var $k=new Set(["lazy","caseSensitive","path","id","index","children"]);function Hk(n){return $k.has(n)}var Uk=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Fk(n){return Uk.has(n)}function Vk(n){return n.index===!0}function Tf(n,e,t=[],r={}){return n.map((i,s)=>{let l=[...t,String(s)],c=typeof i.id=="string"?i.id:l.join("-");if(Je(i.index!==!0||!i.children,"Cannot specify children on an index route"),Je(!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),Vk(i)){let f={...i,...e(i),id:c};return r[c]=f,f}else{let f={...i,...e(i),id:c,children:void 0};return r[c]=f,i.children&&(f.children=Tf(i.children,e,l,r)),f}})}function eo(n,e,t="/"){return mf(n,e,t,!1)}function mf(n,e,t,r){let i=typeof e=="string"?yo(e):e,s=or(i.pathname||"/",t);if(s==null)return null;let l=mE(n);Yk(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let d=rD(s);c=tD(l[f],d,r)}return c}function qk(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function mE(n,e=[],t=[],r=""){let i=(s,l,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};f.relativePath.startsWith("/")&&(Je(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=Dr([r,f.relativePath]),p=t.concat(f);s.children&&s.children.length>0&&(Je(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),mE(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:Zk(d,s.index),routesMeta:p})};return n.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let f of gE(s.path))i(s,l,f)}),e}function gE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=gE(r.join("/")),c=[];return c.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function Yk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:eD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Kk=/^:[\w-]+$/,Gk=3,Wk=2,Xk=1,Jk=10,Qk=-2,ES=n=>n==="*";function Zk(n,e){let t=n.split("/"),r=t.length;return t.some(ES)&&(r+=Qk),e&&(r+=Wk),t.filter(i=>!ES(i)).reduce((i,s)=>i+(Kk.test(s)?Gk:s===""?Xk:Jk),r)}function eD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function tD(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=Of({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),y=f.route;if(!m&&d&&t&&!r[r.length-1].route.index&&(m=Of({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Dr([s,m.pathname]),pathnameBase:sD(Dr([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=Dr([s,m.pathnameBase]))}return l}function Of(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=nD(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:m},y)=>{if(p==="*"){let x=c[y]||"";l=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=c[y];return m&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:l,pattern:n}}function nD(n,e=!1,t=!0){At(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return At(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function or(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function iD(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?yo(n):n;return{pathname:t?t.startsWith("/")?t:oD(t,e):e,search:aD(r),hash:lD(i)}}function oD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function om(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qg(n){let e=yE(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Zg(n,e,t,r=!1){let i;typeof n=="string"?i=yo(n):(i={...n},Je(!i.pathname||!i.pathname.includes("?"),om("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),om("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),om("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}c=m>=0?e[m]:"/"}let f=iD(i,c),d=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var Dr=n=>n.join("/").replace(/\/\/+/g,"/"),sD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Nf=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function ac(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var vE=["POST","PUT","PATCH","DELETE"],cD=new Set(vE),uD=["GET",...vE],fD=new Set(uD),dD=new Set([301,302,303,307,308]),hD=new Set([307,308]),sm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ey=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mD=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),bE="remix-router-transitions",xE=Symbol("ResetLoaderData");function gD(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],i=n.mapRouteProperties||mD,s={},l=Tf(n.routes,i,void 0,s),c,f=n.basename||"/",d=n.dataStrategy||SD,p={unstable_middleware:!1,...n.future},m=null,y=new Set,b=null,x=null,w=null,E=n.hydrationData!=null,T=eo(l,n.history.location,f),N=!1,A=null;if(T==null&&!n.patchRoutesOnNavigation){let I=Zn(404,{pathname:n.history.location.pathname}),{matches:F,route:Q}=zS(l);T=F,A={[Q.id]:I}}T&&!n.hydrationData&&Ro(T,l,n.history.location.pathname).active&&(T=null);let L;if(T)if(T.some(I=>I.route.lazy))L=!1;else if(!T.some(I=>I.route.loader))L=!0;else{let I=n.hydrationData?n.hydrationData.loaderData:null,F=n.hydrationData?n.hydrationData.errors:null;if(F){let Q=T.findIndex(se=>F[se.route.id]!==void 0);L=T.slice(0,Q+1).every(se=>!Jm(se.route,I,F))}else L=T.every(Q=>!Jm(Q.route,I,F))}else{L=!1,T=[];let I=Ro(null,l,n.history.location.pathname);I.active&&I.matches&&(N=!0,T=I.matches)}let z,R={historyAction:n.history.action,location:n.history.location,matches:T,initialized:L,navigation:sm,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||A,fetchers:new Map,blockers:new Map},D="POP",j=!1,q,ie=!1,ce=new Map,me=null,pe=!1,fe=!1,de=new Set,_=new Map,Z=0,H=-1,J=new Map,k=new Set,Y=new Map,$=new Map,G=new Set,ee=new Map,ae,le=null;function re(){if(m=n.history.listen(({action:I,location:F,delta:Q})=>{if(ae){ae(),ae=void 0;return}At(ee.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=$c({currentLocation:R.location,nextLocation:F,historyAction:I});if(se&&Q!=null){let he=new Promise(Te=>{ae=Te});n.history.go(Q*-1),Er(se,{state:"blocked",location:F,proceed(){Er(se,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),he.then(()=>n.history.go(Q))},reset(){let Te=new Map(R.blockers);Te.set(se,Ul),be({blockers:Te})}});return}return ct(I,F)}),t){DD(e,ce);let I=()=>PD(e,ce);e.addEventListener("pagehide",I),me=()=>e.removeEventListener("pagehide",I)}return R.initialized||ct("POP",R.location,{initialHydration:!0}),z}function ge(){m&&m(),me&&me(),y.clear(),q&&q.abort(),R.fetchers.forEach((I,F)=>Gt(F)),R.blockers.forEach((I,F)=>Oo(F))}function Se(I){return y.add(I),()=>y.delete(I)}function be(I,F={}){R={...R,...I};let Q=[],se=[];R.fetchers.forEach((he,Te)=>{he.state==="idle"&&(G.has(Te)?Q.push(Te):se.push(Te))}),G.forEach(he=>{!R.fetchers.has(he)&&!_.has(he)&&Q.push(he)}),[...y].forEach(he=>he(R,{deletedFetchers:Q,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),Q.forEach(he=>Gt(he)),se.forEach(he=>R.fetchers.delete(he))}function Le(I,F,{flushSync:Q}={}){var Ae,_e;let se=R.actionData!=null&&R.navigation.formMethod!=null&&zn(R.navigation.formMethod)&&R.navigation.state==="loading"&&((Ae=I.state)==null?void 0:Ae._isRedirect)!==!0,he;F.actionData?Object.keys(F.actionData).length>0?he=F.actionData:he=null:se?he=R.actionData:he=null;let Te=F.loaderData?PS(R.loaderData,F.loaderData,F.matches||[],F.errors):R.loaderData,ke=R.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((Oe,Ie)=>ke.set(Ie,Ul)));let xe=j===!0||R.navigation.formMethod!=null&&zn(R.navigation.formMethod)&&((_e=I.state)==null?void 0:_e._isRedirect)!==!0;c&&(l=c,c=void 0),pe||D==="POP"||(D==="PUSH"?n.history.push(I,I.state):D==="REPLACE"&&n.history.replace(I,I.state));let Re;if(D==="POP"){let Oe=ce.get(R.location.pathname);Oe&&Oe.has(I.pathname)?Re={currentLocation:R.location,nextLocation:I}:ce.has(I.pathname)&&(Re={currentLocation:I,nextLocation:R.location})}else if(ie){let Oe=ce.get(R.location.pathname);Oe?Oe.add(I.pathname):(Oe=new Set([I.pathname]),ce.set(R.location.pathname,Oe)),Re={currentLocation:R.location,nextLocation:I}}be({...F,actionData:he,loaderData:Te,historyAction:D,location:I,initialized:!0,navigation:sm,revalidation:"idle",restoreScrollPosition:Uc(I,F.matches||R.matches),preventScrollReset:xe,blockers:ke},{viewTransitionOpts:Re,flushSync:Q===!0}),D="POP",j=!1,ie=!1,pe=!1,fe=!1,le==null||le.resolve(),le=null}async function Be(I,F){if(typeof I=="number"){n.history.go(I);return}let Q=Xm(R.location,R.matches,f,I,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:se,submission:he,error:Te}=CS(!1,Q,F),ke=R.location,xe=sc(R.location,se,F&&F.state);xe={...xe,...n.history.encodeLocation(xe)};let Re=F&&F.replace!=null?F.replace:void 0,Ae="PUSH";Re===!0?Ae="REPLACE":Re===!1||he!=null&&zn(he.formMethod)&&he.formAction===R.location.pathname+R.location.search&&(Ae="REPLACE");let _e=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Oe=(F&&F.flushSync)===!0,Ie=$c({currentLocation:ke,nextLocation:xe,historyAction:Ae});if(Ie){Er(Ie,{state:"blocked",location:xe,proceed(){Er(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),Be(I,F)},reset(){let tt=new Map(R.blockers);tt.set(Ie,Ul),be({blockers:tt})}});return}await ct(Ae,xe,{submission:he,pendingError:Te,preventScrollReset:_e,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:Oe})}function it(){le||(le=LD()),Ua(),be({revalidation:"loading"});let I=le.promise;return R.navigation.state==="submitting"?I:R.navigation.state==="idle"?(ct(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),I):(ct(D||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:ie===!0}),I)}async function ct(I,F,Q){q&&q.abort(),q=null,D=I,pe=(Q&&Q.startUninterruptedRevalidation)===!0,No(R.location,R.matches),j=(Q&&Q.preventScrollReset)===!0,ie=(Q&&Q.enableViewTransition)===!0;let se=c||l,he=Q&&Q.overrideNavigation,Te=Q!=null&&Q.initialHydration&&R.matches&&R.matches.length>0&&!N?R.matches:eo(se,F,f),ke=(Q&&Q.flushSync)===!0;if(Te&&R.initialized&&!fe&&OD(R.location,F)&&!(Q&&Q.submission&&zn(Q.submission.formMethod))){Le(F,{matches:Te},{flushSync:ke});return}let xe=Ro(Te,se,F.pathname);if(xe.active&&xe.matches&&(Te=xe.matches),!Te){let{error:Et,notFoundMatches:nt,route:Ze}=Es(F.pathname);Le(F,{matches:nt,loaderData:{},errors:{[Ze.id]:Et}},{flushSync:ke});return}q=new AbortController;let Re=ha(n.history,F,q.signal,Q&&Q.submission),Ae=new wS(n.unstable_getContext?await n.unstable_getContext():void 0),_e;if(Q&&Q.pendingError)_e=[Wo(Te).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&zn(Q.submission.formMethod)){let Et=await Mn(Re,F,Q.submission,Te,Ae,xe.active,Q&&Q.initialHydration===!0,{replace:Q.replace,flushSync:ke});if(Et.shortCircuited)return;if(Et.pendingActionResult){let[nt,Ze]=Et.pendingActionResult;if(Ln(Ze)&&ac(Ze.error)&&Ze.error.status===404){q=null,Le(F,{matches:Et.matches,loaderData:{},errors:{[nt]:Ze.error}});return}}Te=Et.matches||Te,_e=Et.pendingActionResult,he=am(F,Q.submission),ke=!1,xe.active=!1,Re=ha(n.history,Re.url,Re.signal)}let{shortCircuited:Oe,matches:Ie,loaderData:tt,errors:vt}=await Tn(Re,F,Te,Ae,xe.active,he,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,ke,_e);Oe||(q=null,Le(F,{matches:Ie||Te,...LS(_e),loaderData:tt,errors:vt}))}async function Mn(I,F,Q,se,he,Te,ke,xe={}){Ua();let Re=AD(F,Q);if(be({navigation:Re},{flushSync:xe.flushSync===!0}),Te){let Oe=await Ao(se,F.pathname,I.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){let Ie=Wo(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[Ie,{type:"error",error:Oe.error}]}}else if(Oe.matches)se=Oe.matches;else{let{notFoundMatches:Ie,error:tt,route:vt}=Es(F.pathname);return{matches:Ie,pendingActionResult:[vt.id,{type:"error",error:tt}]}}}let Ae,_e=Xl(se,F);if(!_e.route.action&&!_e.route.lazy)Ae={type:"error",error:Zn(405,{method:I.method,pathname:F.pathname,routeId:_e.route.id})};else{let Oe=Sa(i,s,I,se,_e,ke?[]:r,he),Ie=await bi(I,Oe,he,null);if(Ae=Ie[_e.route.id],!Ae){for(let tt of se)if(Ie[tt.route.id]){Ae=Ie[tt.route.id];break}}if(I.signal.aborted)return{shortCircuited:!0}}if(Zo(Ae)){let Oe;return xe&&xe.replace!=null?Oe=xe.replace:Oe=AS(Ae.response.headers.get("Location"),new URL(I.url),f)===R.location.pathname+R.location.search,await Vr(I,Ae,!0,{submission:Q,replace:Oe}),{shortCircuited:!0}}if(Ln(Ae)){let Oe=Wo(se,_e.route.id);return(xe&&xe.replace)!==!0&&(D="PUSH"),{matches:se,pendingActionResult:[Oe.route.id,Ae]}}return{matches:se,pendingActionResult:[_e.route.id,Ae]}}async function Tn(I,F,Q,se,he,Te,ke,xe,Re,Ae,_e,Oe){let Ie=Te||am(F,ke),tt=ke||xe||jS(Ie),vt=!pe&&!Ae;if(he){if(vt){let rn=St(Oe);be({navigation:Ie,...rn!==void 0?{actionData:rn}:{}},{flushSync:_e})}let Ye=await Ao(Q,F.pathname,I.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let rn=Wo(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[rn]:Ye.error}}}else if(Ye.matches)Q=Ye.matches;else{let{error:rn,notFoundMatches:cr,route:ur}=Es(F.pathname);return{matches:cr,loaderData:{},errors:{[ur.id]:rn}}}}let Et=c||l,{dsMatches:nt,revalidatingFetchers:Ze}=MS(I,se,i,s,n.history,R,Q,tt,F,Ae?[]:r,Ae===!0,fe,de,G,Y,k,Et,f,Oe);if(H=++Z,!n.dataStrategy&&!nt.some(Ye=>Ye.shouldLoad)&&Ze.length===0){let Ye=Mo();return Le(F,{matches:Q,loaderData:{},errors:Oe&&Ln(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...LS(Oe),...Ye?{fetchers:new Map(R.fetchers)}:{}},{flushSync:_e}),{shortCircuited:!0}}if(vt){let Ye={};if(!he){Ye.navigation=Ie;let rn=St(Oe);rn!==void 0&&(Ye.actionData=rn)}Ze.length>0&&(Ye.fetchers=Fr(Ze)),be(Ye,{flushSync:_e})}Ze.forEach(Ye=>{wr(Ye.key),Ye.controller&&_.set(Ye.key,Ye.controller)});let xi=()=>Ze.forEach(Ye=>wr(Ye.key));q&&q.signal.addEventListener("abort",xi);let{loaderResults:fn,fetcherResults:Fn}=await Ic(nt,Ze,I,se);if(I.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",xi),Ze.forEach(Ye=>_.delete(Ye.key));let vn=Ju(fn);if(vn)return await Vr(I,vn.result,!0,{replace:Re}),{shortCircuited:!0};if(vn=Ju(Fn),vn)return k.add(vn.key),await Vr(I,vn.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:Si,errors:wi}=DS(R,Q,fn,Oe,Ze,Fn);Ae&&R.errors&&(wi={...R.errors,...wi});let qa=Mo(),Vn=To(H),Yr=qa||Vn||Ze.length>0;return{matches:Q,loaderData:Si,errors:wi,...Yr?{fetchers:new Map(R.fetchers)}:{}}}function St(I){if(I&&!Ln(I[1]))return{[I[0]]:I[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Fr(I){return I.forEach(F=>{let Q=R.fetchers.get(F.key),se=Fl(void 0,Q?Q.data:void 0);R.fetchers.set(F.key,se)}),new Map(R.fetchers)}async function _t(I,F,Q,se){wr(I);let he=(se&&se.flushSync)===!0,Te=c||l,ke=Xm(R.location,R.matches,f,Q,F,se==null?void 0:se.relative),xe=eo(Te,ke,f),Re=Ro(xe,Te,ke);if(Re.active&&Re.matches&&(xe=Re.matches),!xe){wt(I,F,Zn(404,{pathname:ke}),{flushSync:he});return}let{path:Ae,submission:_e,error:Oe}=CS(!0,ke,se);if(Oe){wt(I,F,Oe,{flushSync:he});return}let Ie=Xl(xe,Ae),tt=new wS(n.unstable_getContext?await n.unstable_getContext():void 0),vt=(se&&se.preventScrollReset)===!0;if(_e&&zn(_e.formMethod)){await jc(I,F,Ae,Ie,xe,tt,Re.active,he,vt,_e);return}Y.set(I,{routeId:F,path:Ae}),await ws(I,F,Ae,Ie,xe,tt,Re.active,he,vt,_e)}async function jc(I,F,Q,se,he,Te,ke,xe,Re,Ae){Ua(),Y.delete(I);function _e(bt){if(!bt.route.action&&!bt.route.lazy){let Ei=Zn(405,{method:Ae.formMethod,pathname:Q,routeId:F});return wt(I,F,Ei,{flushSync:xe}),!0}return!1}if(!ke&&_e(se))return;let Oe=R.fetchers.get(I);yn(I,kD(Ae,Oe),{flushSync:xe});let Ie=new AbortController,tt=ha(n.history,Q,Ie.signal,Ae);if(ke){let bt=await Ao(he,Q,tt.signal,I);if(bt.type==="aborted")return;if(bt.type==="error"){wt(I,F,bt.error,{flushSync:xe});return}else if(bt.matches){if(he=bt.matches,se=Xl(he,Q),_e(se))return}else{wt(I,F,Zn(404,{pathname:Q}),{flushSync:xe});return}}_.set(I,Ie);let vt=Z,Et=Sa(i,s,tt,he,se,r,Te),Ze=(await bi(tt,Et,Te,I))[se.route.id];if(tt.signal.aborted){_.get(I)===Ie&&_.delete(I);return}if(G.has(I)){if(Zo(Ze)||Ln(Ze)){yn(I,Wi(void 0));return}}else{if(Zo(Ze))if(_.delete(I),H>vt){yn(I,Wi(void 0));return}else return k.add(I),yn(I,Fl(Ae)),Vr(tt,Ze,!1,{fetcherSubmission:Ae,preventScrollReset:Re});if(Ln(Ze)){wt(I,F,Ze.error);return}}let xi=R.navigation.location||R.location,fn=ha(n.history,xi,Ie.signal),Fn=c||l,vn=R.navigation.state!=="idle"?eo(Fn,R.navigation.location,f):R.matches;Je(vn,"Didn't find any matches after fetcher action");let Si=++Z;J.set(I,Si);let wi=Fl(Ae,Ze.data);R.fetchers.set(I,wi);let{dsMatches:qa,revalidatingFetchers:Vn}=MS(fn,Te,i,s,n.history,R,vn,Ae,xi,r,!1,fe,de,G,Y,k,Fn,f,[se.route.id,Ze]);Vn.filter(bt=>bt.key!==I).forEach(bt=>{let Ei=bt.key,Ya=R.fetchers.get(Ei),bn=Fl(void 0,Ya?Ya.data:void 0);R.fetchers.set(Ei,bn),wr(Ei),bt.controller&&_.set(Ei,bt.controller)}),be({fetchers:new Map(R.fetchers)});let Yr=()=>Vn.forEach(bt=>wr(bt.key));Ie.signal.addEventListener("abort",Yr);let{loaderResults:Ye,fetcherResults:rn}=await Ic(qa,Vn,fn,Te);if(Ie.signal.aborted)return;Ie.signal.removeEventListener("abort",Yr),J.delete(I),_.delete(I),Vn.forEach(bt=>_.delete(bt.key));let cr=Ju(Ye);if(cr)return Vr(fn,cr.result,!1,{preventScrollReset:Re});if(cr=Ju(rn),cr)return k.add(cr.key),Vr(fn,cr.result,!1,{preventScrollReset:Re});let{loaderData:ur,errors:ko}=DS(R,vn,Ye,void 0,Vn,rn);if(R.fetchers.has(I)){let bt=Wi(Ze.data);R.fetchers.set(I,bt)}To(Si),R.navigation.state==="loading"&&Si>H?(Je(D,"Expected pending action"),q&&q.abort(),Le(R.navigation.location,{matches:vn,loaderData:ur,errors:ko,fetchers:new Map(R.fetchers)})):(be({errors:ko,loaderData:PS(R.loaderData,ur,vn,ko),fetchers:new Map(R.fetchers)}),fe=!1)}async function ws(I,F,Q,se,he,Te,ke,xe,Re,Ae){let _e=R.fetchers.get(I);yn(I,Fl(Ae,_e?_e.data:void 0),{flushSync:xe});let Oe=new AbortController,Ie=ha(n.history,Q,Oe.signal);if(ke){let Ze=await Ao(he,Q,Ie.signal,I);if(Ze.type==="aborted")return;if(Ze.type==="error"){wt(I,F,Ze.error,{flushSync:xe});return}else if(Ze.matches)he=Ze.matches,se=Xl(he,Q);else{wt(I,F,Zn(404,{pathname:Q}),{flushSync:xe});return}}_.set(I,Oe);let tt=Z,vt=Sa(i,s,Ie,he,se,r,Te),nt=(await bi(Ie,vt,Te,I))[se.route.id];if(_.get(I)===Oe&&_.delete(I),!Ie.signal.aborted){if(G.has(I)){yn(I,Wi(void 0));return}if(Zo(nt))if(H>tt){yn(I,Wi(void 0));return}else{k.add(I),await Vr(Ie,nt,!1,{preventScrollReset:Re});return}if(Ln(nt)){wt(I,F,nt.error);return}yn(I,Wi(nt.data))}}async function Vr(I,F,Q,{submission:se,fetcherSubmission:he,preventScrollReset:Te,replace:ke}={}){F.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let xe=F.response.headers.get("Location");Je(xe,"Expected a Location header on the redirect Response"),xe=AS(xe,new URL(I.url),f);let Re=sc(R.location,xe,{_isRedirect:!0});if(t){let vt=!1;if(F.response.headers.has("X-Remix-Reload-Document"))vt=!0;else if(ey.test(xe)){const Et=n.history.createURL(xe);vt=Et.origin!==e.location.origin||or(Et.pathname,f)==null}if(vt){ke?e.location.replace(xe):e.location.assign(xe);return}}q=null;let Ae=ke===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:_e,formAction:Oe,formEncType:Ie}=R.navigation;!se&&!he&&_e&&Oe&&Ie&&(se=jS(R.navigation));let tt=se||he;if(hD.has(F.response.status)&&tt&&zn(tt.formMethod))await ct(Ae,Re,{submission:{...tt,formAction:xe},preventScrollReset:Te||j,enableViewTransition:Q?ie:void 0});else{let vt=am(Re,se);await ct(Ae,Re,{overrideNavigation:vt,fetcherSubmission:he,preventScrollReset:Te||j,enableViewTransition:Q?ie:void 0})}}async function bi(I,F,Q,se){let he,Te={};try{he=await wD(d,I,F,se,Q,!1)}catch(ke){return F.filter(xe=>xe.shouldLoad).forEach(xe=>{Te[xe.route.id]={type:"error",error:ke}}),Te}for(let[ke,xe]of Object.entries(he))if(ND(xe)){let Re=xe.result;Te[ke]={type:"redirect",response:MD(Re,I,ke,F,f)}}else Te[ke]=await CD(xe);return Te}async function Ic(I,F,Q,se){let he=bi(Q,I,se,null),Te=Promise.all(F.map(async Re=>{if(Re.matches&&Re.match&&Re.request&&Re.controller){let _e=(await bi(Re.request,Re.matches,se,Re.key))[Re.match.route.id];return{[Re.key]:_e}}else return Promise.resolve({[Re.key]:{type:"error",error:Zn(404,{pathname:Re.path})}})})),ke=await he,xe=(await Te).reduce((Re,Ae)=>Object.assign(Re,Ae),{});return{loaderResults:ke,fetcherResults:xe}}function Ua(){fe=!0,Y.forEach((I,F)=>{_.has(F)&&de.add(F),wr(F)})}function yn(I,F,Q={}){R.fetchers.set(I,F),be({fetchers:new Map(R.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function wt(I,F,Q,se={}){let he=Wo(R.matches,F);Gt(I),be({errors:{[he.route.id]:Q},fetchers:new Map(R.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function lr(I){return $.set(I,($.get(I)||0)+1),G.has(I)&&G.delete(I),R.fetchers.get(I)||pD}function Gt(I){let F=R.fetchers.get(I);_.has(I)&&!(F&&F.state==="loading"&&J.has(I))&&wr(I),Y.delete(I),J.delete(I),k.delete(I),G.delete(I),de.delete(I),R.fetchers.delete(I)}function Gd(I){let F=($.get(I)||0)-1;F<=0?($.delete(I),G.add(I)):$.set(I,F),be({fetchers:new Map(R.fetchers)})}function wr(I){let F=_.get(I);F&&(F.abort(),_.delete(I))}function Bc(I){for(let F of I){let Q=lr(F),se=Wi(Q.data);R.fetchers.set(F,se)}}function Mo(){let I=[],F=!1;for(let Q of k){let se=R.fetchers.get(Q);Je(se,`Expected fetcher: ${Q}`),se.state==="loading"&&(k.delete(Q),I.push(Q),F=!0)}return Bc(I),F}function To(I){let F=[];for(let[Q,se]of J)if(se<I){let he=R.fetchers.get(Q);Je(he,`Expected fetcher: ${Q}`),he.state==="loading"&&(wr(Q),J.delete(Q),F.push(Q))}return Bc(F),F.length>0}function qr(I,F){let Q=R.blockers.get(I)||Ul;return ee.get(I)!==F&&ee.set(I,F),Q}function Oo(I){R.blockers.delete(I),ee.delete(I)}function Er(I,F){let Q=R.blockers.get(I)||Ul;Je(Q.state==="unblocked"&&F.state==="blocked"||Q.state==="blocked"&&F.state==="blocked"||Q.state==="blocked"&&F.state==="proceeding"||Q.state==="blocked"&&F.state==="unblocked"||Q.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${F.state}`);let se=new Map(R.blockers);se.set(I,F),be({blockers:se})}function $c({currentLocation:I,nextLocation:F,historyAction:Q}){if(ee.size===0)return;ee.size>1&&At(!1,"A router only supports one blocker at a time");let se=Array.from(ee.entries()),[he,Te]=se[se.length-1],ke=R.blockers.get(he);if(!(ke&&ke.state==="proceeding")&&Te({currentLocation:I,nextLocation:F,historyAction:Q}))return he}function Es(I){let F=Zn(404,{pathname:I}),Q=c||l,{matches:se,route:he}=zS(Q);return{notFoundMatches:se,route:he,error:F}}function Hc(I,F,Q){if(b=I,w=F,x=Q||null,!E&&R.navigation===sm){E=!0;let se=Uc(R.location,R.matches);se!=null&&be({restoreScrollPosition:se})}return()=>{b=null,w=null,x=null}}function Cs(I,F){return x&&x(I,F.map(se=>qk(se,R.loaderData)))||I.key}function No(I,F){if(b&&w){let Q=Cs(I,F);b[Q]=w()}}function Uc(I,F){if(b){let Q=Cs(I,F),se=b[Q];if(typeof se=="number")return se}return null}function Ro(I,F,Q){if(n.patchRoutesOnNavigation)if(I){if(Object.keys(I[0].params).length>0)return{active:!0,matches:mf(F,Q,f,!0)}}else return{active:!0,matches:mf(F,Q,f,!0)||[]};return{active:!1,matches:null}}async function Ao(I,F,Q,se){if(!n.patchRoutesOnNavigation)return{type:"success",matches:I};let he=I;for(;;){let Te=c==null,ke=c||l,xe=s;try{await n.patchRoutesOnNavigation({signal:Q,path:F,matches:he,fetcherKey:se,patch:(_e,Oe)=>{Q.aborted||TS(_e,Oe,ke,xe,i)}})}catch(_e){return{type:"error",error:_e,partialMatches:he}}finally{Te&&!Q.aborted&&(l=[...l])}if(Q.aborted)return{type:"aborted"};let Re=eo(ke,F,f);if(Re)return{type:"success",matches:Re};let Ae=mf(ke,F,f,!0);if(!Ae||he.length===Ae.length&&he.every((_e,Oe)=>_e.route.id===Ae[Oe].route.id))return{type:"success",matches:null};he=Ae}}function Fa(I){s={},c=Tf(I,i,void 0,s)}function Va(I,F){let Q=c==null;TS(I,F,c||l,s,i),Q&&(l=[...l],be({}))}return z={get basename(){return f},get future(){return p},get state(){return R},get routes(){return l},get window(){return e},initialize:re,subscribe:Se,enableScrollRestoration:Hc,navigate:Be,fetch:_t,revalidate:it,createHref:I=>n.history.createHref(I),encodeLocation:I=>n.history.encodeLocation(I),getFetcher:lr,deleteFetcher:Gd,dispose:ge,getBlocker:qr,deleteBlocker:Oo,patchRoutes:Va,_internalFetchControllers:_,_internalSetRoutes:Fa},z}function yD(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Xm(n,e,t,r,i,s){let l,c;if(i){l=[];for(let d of e)if(l.push(d),d.route.id===i){c=d;break}}else l=e,c=e[e.length-1];let f=Zg(r||".",Qg(l),or(n.pathname,t)||n.pathname,s==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&c){let d=ty(f.search);if(c.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let p=new URLSearchParams(f.search),m=p.getAll("index");p.delete("index"),m.filter(b=>b).forEach(b=>p.append("index",b));let y=p.toString();f.search=y?`?${y}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Dr([t,f.pathname])),uo(f)}function CS(n,e,t){if(!t||!yD(t))return{path:e};if(t.formMethod&&!RD(t.formMethod))return{path:e,error:Zn(405,{method:t.formMethod})};let r=()=>({path:e,error:Zn(400,{type:"invalid-body"})}),s=(t.formMethod||"get").toUpperCase(),l=TE(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!zn(s))return r();let m=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((y,[b,x])=>`${y}${b}=${x}
`,""):String(t.body);return{path:e,submission:{formMethod:s,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:m}}}else if(t.formEncType==="application/json"){if(!zn(s))return r();try{let m=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:s,formAction:l,formEncType:t.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}Je(typeof FormData=="function","FormData is not available in this environment");let c,f;if(t.formData)c=Zm(t.formData),f=t.formData;else if(t.body instanceof FormData)c=Zm(t.body),f=t.body;else if(t.body instanceof URLSearchParams)c=t.body,f=kS(c);else if(t.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(t.body),f=kS(c)}catch{return r()}let d={formMethod:s,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(zn(d.formMethod))return{path:e,submission:d};let p=yo(e);return n&&p.search&&ty(p.search)&&c.append("index",""),p.search=`?${c}`,{path:uo(p),submission:d}}function MS(n,e,t,r,i,s,l,c,f,d,p,m,y,b,x,w,E,T,N){var me;let A=N?Ln(N[1])?N[1].error:N[1].data:void 0,L=i.createURL(s.location),z=i.createURL(f),R;if(p&&s.errors){let pe=Object.keys(s.errors)[0];R=l.findIndex(fe=>fe.route.id===pe)}else if(N&&Ln(N[1])){let pe=N[0];R=l.findIndex(fe=>fe.route.id===pe)-1}let D=N?N[1].statusCode:void 0,j=D&&D>=400,q={currentUrl:L,currentParams:((me=s.matches[0])==null?void 0:me.params)||{},nextUrl:z,nextParams:l[0].params,...c,actionResult:A,actionStatus:D},ie=l.map((pe,fe)=>{let{route:de}=pe,_=null;if(R!=null&&fe>R?_=!1:de.lazy?_=!0:de.loader==null?_=!1:p?_=Jm(de,s.loaderData,s.errors):vD(s.loaderData,s.matches[fe],pe)&&(_=!0),_!==null)return Qm(t,r,n,pe,d,e,_);let Z=j?!1:m||L.pathname+L.search===z.pathname+z.search||L.search!==z.search||bD(s.matches[fe],pe),H={...q,defaultShouldRevalidate:Z},J=Rf(pe,H);return Qm(t,r,n,pe,d,e,J,H)}),ce=[];return x.forEach((pe,fe)=>{if(p||!l.some(Y=>Y.route.id===pe.routeId)||b.has(fe))return;let de=eo(E,pe.path,T);if(!de){ce.push({key:fe,routeId:pe.routeId,path:pe.path,matches:null,match:null,request:null,controller:null});return}if(w.has(fe))return;let _=s.fetchers.get(fe),Z=Xl(de,pe.path),H=new AbortController,J=ha(i,pe.path,H.signal),k=null;if(y.has(fe))y.delete(fe),k=Sa(t,r,J,de,Z,d,e);else if(_&&_.state!=="idle"&&_.data===void 0)m&&(k=Sa(t,r,J,de,Z,d,e));else{let Y={...q,defaultShouldRevalidate:j?!1:m};Rf(Z,Y)&&(k=Sa(t,r,J,de,Z,d,e,Y))}k&&ce.push({key:fe,routeId:pe.routeId,path:pe.path,matches:k,match:Z,request:J,controller:H})}),{dsMatches:ie,revalidatingFetchers:ce}}function Jm(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function vD(n,e,t){let r=!e||t.route.id!==e.route.id,i=!n.hasOwnProperty(t.route.id);return r||i}function bD(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Rf(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function TS(n,e,t,r,i){let s;if(n){let f=r[n];Je(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),s=f.children}else s=t;let l=e.filter(f=>!s.some(d=>SE(f,d))),c=Tf(l,i,[n||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...c)}function SE(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>SE(t,s))}):!1}var OS=new WeakMap,wE=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let i=t[e.id];if(Je(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[n];if(!s)return;let l=OS.get(i);l||(l={},OS.set(i,l));let c=l[n];if(c)return c;let f=(async()=>{let d=Hk(n),m=i[n]!==void 0&&n!=="hasErrorBoundary";if(d)At(!d,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),l[n]=Promise.resolve();else if(m)At(!1,`Route "${i.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let y=await s();y!=null&&(Object.assign(i,{[n]:y}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[n]=void 0,Object.values(i.lazy).every(y=>y===void 0)&&(i.lazy=void 0))})();return l[n]=f,f},NS=new WeakMap;function xD(n,e,t,r,i){let s=t[n.id];if(Je(s,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let p=NS.get(s);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{Je(typeof n.lazy=="function","No lazy route function found");let y=await n.lazy(),b={};for(let x in y){let w=y[x];if(w===void 0)continue;let E=Fk(x),N=s[x]!==void 0&&x!=="hasErrorBoundary";E?At(!E,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):N?At(!N,`Route "${s.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):b[x]=w}Object.assign(s,b),Object.assign(s,{...r(s),lazy:void 0})})();return NS.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let l=Object.keys(n.lazy),c=[],f;for(let p of l){if(i&&i.includes(p))continue;let m=wE({key:p,route:n,manifest:t,mapRouteProperties:r});m&&(c.push(m),p===e&&(f=m))}let d=c.length>0?Promise.all(c).then(()=>{}):void 0;return d==null||d.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:f}}async function RS(n){let e=n.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{t[e[s].route.id]=i}),t}async function SD(n){return n.matches.some(e=>e.route.unstable_middleware)?EE(n,!1,()=>RS(n),(e,t)=>({[t]:{type:"error",result:e}})):RS(n)}async function EE(n,e,t,r){let{matches:i,request:s,params:l,context:c}=n,f={handlerResult:void 0};try{let d=i.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(y=>[m.route.id,y]):[]),p=await CE({request:s,params:l,context:c},d,e,f,t);return e?p:f.handlerResult}catch(d){if(!f.middlewareError)throw d;let p=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}}async function CE(n,e,t,r,i,s=0){let{request:l}=n;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let c=e[s];if(!c)return r.handlerResult=await i(),r.handlerResult;let[f,d]=c,p=!1,m,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await CE(n,e,t,r,i,s+1)};try{let b=await d({request:n.request,params:n.params,context:n.context},y);return p?b===void 0?m:b:y()}catch(b){throw r.middlewareError?r.middlewareError.error!==b&&(r.middlewareError={routeId:f,error:b}):r.middlewareError={routeId:f,error:b},b}}function ME(n,e,t,r,i){let s=wE({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),l=xD(r.route,zn(t.method)?"action":"loader",e,n,i);return{middleware:s,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Qm(n,e,t,r,i,s,l,c=null){let f=!1,d=ME(n,e,t,r,i);return{...r,_lazyPromises:d,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(p){return f=!0,c?typeof p=="boolean"?Rf(r,{...c,defaultShouldRevalidate:p}):Rf(r,c):l},resolve(p){return f||l||p&&t.method==="GET"&&(r.route.lazy||r.route.loader)?ED({request:t,match:r,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:p,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Sa(n,e,t,r,i,s,l,c=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:ME(n,e,t,f,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Qm(n,e,t,f,s,l,!0,c))}async function wD(n,e,t,r,i,s){t.some(d=>{var p;return(p=d._lazyPromises)==null?void 0:p.middleware})&&await Promise.all(t.map(d=>{var p;return(p=d._lazyPromises)==null?void 0:p.middleware}));let l={request:e,params:t[0].params,context:i,matches:t},f=await n({...l,fetcherKey:r,unstable_runClientMiddleware:d=>{let p=l;return EE(p,!1,()=>d({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,y)=>({[y]:{type:"error",result:m}}))}});try{await Promise.all(t.flatMap(d=>{var p,m;return[(p=d._lazyPromises)==null?void 0:p.handler,(m=d._lazyPromises)==null?void 0:m.route]}))}catch{}return f}async function ED({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let l,c,f=zn(n.method),d=f?"action":"loader",p=m=>{let y,b=new Promise((E,T)=>y=T);c=()=>y(),n.signal.addEventListener("abort",c);let x=E=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${e.route.id}]`)):m({request:n,params:e.params,context:s},...E!==void 0?[E]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(T=>x(T)):x())}}catch(E){return{type:"error",result:E}}})();return Promise.race([w,b])};try{let m=f?e.route.action:e.route.loader;if(t||r)if(m){let y,[b]=await Promise.all([p(m).catch(x=>{y=x}),t,r]);if(y!==void 0)throw y;l=b}else{await t;let y=f?e.route.action:e.route.loader;if(y)[l]=await Promise.all([p(y),r]);else if(d==="action"){let b=new URL(n.url),x=b.pathname+b.search;throw Zn(405,{method:n.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)l=await p(m);else{let y=new URL(n.url),b=y.pathname+y.search;throw Zn(404,{pathname:b})}}catch(m){return{type:"error",result:m}}finally{c&&n.signal.removeEventListener("abort",c)}return l}async function CD(n){var r,i,s,l,c,f;let{result:e,type:t}=n;if(OE(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new Nf(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}return t==="error"?_S(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Nf(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:ac(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ac(e)?e.status:void 0}:_S(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function MD(n,e,t,r,i){let s=n.headers.get("Location");if(Je(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!ey.test(s)){let l=r.slice(0,r.findIndex(c=>c.route.id===t)+1);s=Xm(new URL(e.url),l,i,s),n.headers.set("Location",s)}return n}function AS(n,e,t){if(ey.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=or(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function ha(n,e,t,r){let i=n.createURL(TE(e)).toString(),s={signal:t};if(r&&zn(r.formMethod)){let{formMethod:l,formEncType:c}=r;s.method=l.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(r.json)):c==="text/plain"?s.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?s.body=Zm(r.formData):s.body=r.formData}return new Request(i,s)}function Zm(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function kS(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function TD(n,e,t,r=!1,i=!1){let s={},l=null,c,f=!1,d={},p=t&&Ln(t[1])?t[1].error:void 0;return n.forEach(m=>{if(!(m.route.id in e))return;let y=m.route.id,b=e[y];if(Je(!Zo(b),"Cannot handle redirect results in processLoaderData"),Ln(b)){let x=b.error;if(p!==void 0&&(x=p,p=void 0),l=l||{},i)l[y]=x;else{let w=Wo(n,y);l[w.route.id]==null&&(l[w.route.id]=x)}r||(s[y]=xE),f||(f=!0,c=ac(b.error)?b.error.status:500),b.headers&&(d[y]=b.headers)}else s[y]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(c=b.statusCode),b.headers&&(d[y]=b.headers)}),p!==void 0&&t&&(l={[t[0]]:p},s[t[0]]=void 0),{loaderData:s,errors:l,statusCode:c||200,loaderHeaders:d}}function DS(n,e,t,r,i,s){let{loaderData:l,errors:c}=TD(e,t,r);return i.filter(f=>!f.matches||f.matches.some(d=>d.shouldLoad)).forEach(f=>{let{key:d,match:p,controller:m}=f,y=s[d];if(Je(y,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Ln(y)){let b=Wo(n.matches,p==null?void 0:p.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:y.error}),n.fetchers.delete(d)}else if(Zo(y))Je(!1,"Unhandled fetcher revalidation redirect");else{let b=Wi(y.data);n.fetchers.set(d,b)}}),{loaderData:l,errors:c}}function PS(n,e,t,r){let i=Object.entries(e).filter(([,s])=>s!==xE).reduce((s,[l,c])=>(s[l]=c,s),{});for(let s of t){let l=s.route.id;if(!e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&s.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function LS(n){return n?Ln(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Wo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function zS(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zn(n,{pathname:e,routeId:t,method:r,type:i,message:s}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(l="Bad Request",r&&e&&t?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):n===403?(l="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(l="Not Found",c=`No route matches URL "${e}"`):n===405&&(l="Method Not Allowed",r&&e&&t?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Nf(n||500,l,new Error(c),!0)}function Ju(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(Zo(i))return{key:r,result:i}}}function TE(n){let e=typeof n=="string"?yo(n):n;return uo({...e,hash:""})}function OD(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function ND(n){return OE(n.result)&&dD.has(n.result.status)}function Ln(n){return n.type==="error"}function Zo(n){return(n&&n.type)==="redirect"}function _S(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function OE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function RD(n){return fD.has(n.toUpperCase())}function zn(n){return cD.has(n.toUpperCase())}function ty(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Xl(n,e){let t=typeof e=="string"?yo(e).search:e.search;if(n[n.length-1].route.index&&ty(t||""))return n[n.length-1];let r=yE(n);return r[r.length-1]}function jS(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function am(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AD(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kD(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Wi(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function DD(n,e){try{let t=n.sessionStorage.getItem(bE);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function PD(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(bE,JSON.stringify(t))}catch(r){At(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function LD(){let n,e,t=new Promise((r,i)=>{n=async s=>{r(s);try{await t}catch{}},e=async s=>{i(s);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var vs=S.createContext(null);vs.displayName="DataRouter";var Cc=S.createContext(null);Cc.displayName="DataRouterState";var ny=S.createContext({isTransitioning:!1});ny.displayName="ViewTransition";var NE=S.createContext(new Map);NE.displayName="Fetchers";var zD=S.createContext(null);zD.displayName="Await";var jr=S.createContext(null);jr.displayName="Navigation";var ld=S.createContext(null);ld.displayName="Location";var yi=S.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var ry=S.createContext(null);ry.displayName="RouteError";function _D(n,{relative:e}={}){Je(Mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=S.useContext(jr),{hash:i,pathname:s,search:l}=Tc(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Dr([t,s])),r.createHref({pathname:c,search:l,hash:i})}function Mc(){return S.useContext(ld)!=null}function vo(){return Je(Mc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(ld).location}var RE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(n){S.useContext(jr).static||S.useLayoutEffect(n)}function cd(){let{isDataRoute:n}=S.useContext(yi);return n?WD():jD()}function jD(){Je(Mc(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(vs),{basename:e,navigator:t}=S.useContext(jr),{matches:r}=S.useContext(yi),{pathname:i}=vo(),s=JSON.stringify(Qg(r)),l=S.useRef(!1);return AE(()=>{l.current=!0}),S.useCallback((f,d={})=>{if(At(l.current,RE),!l.current)return;if(typeof f=="number"){t.go(f);return}let p=Zg(f,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Dr([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,s,i,n])}S.createContext(null);function Tc(n,{relative:e}={}){let{matches:t}=S.useContext(yi),{pathname:r}=vo(),i=JSON.stringify(Qg(t));return S.useMemo(()=>Zg(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function ID(n,e,t,r){Je(Mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=S.useContext(jr),{matches:l}=S.useContext(yi),c=l[l.length-1],f=c?c.params:{},d=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let N=m&&m.path||"";kE(d,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=vo(),b;b=y;let x=b.pathname||"/",w=x;if(p!=="/"){let N=p.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=!s&&t&&t.matches&&t.matches.length>0?t.matches:eo(n,{pathname:w});return At(m||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),At(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),FD(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Dr([p,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Dr([p,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,r)}function BD(){let n=GD(),e=ac(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:i},t):null,l)}var $D=S.createElement(BD,null),HD=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?S.createElement(yi.Provider,{value:this.props.routeContext},S.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UD({routeContext:n,match:e,children:t}){let r=S.useContext(vs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(yi.Provider,{value:n},t)}function FD(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let f=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Je(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:p,errors:m}=t,y=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,d,p)=>{let m,y=!1,b=null,x=null;t&&(m=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||$D,l&&(c<0&&p===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):c===p&&(y=!0,x=d.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,p+1)),E=()=>{let T;return m?T=b:y?T=x:d.route.Component?T=S.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=f,S.createElement(UD,{match:d,routeContext:{outlet:f,matches:w,isDataRoute:t!=null},children:T})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?S.createElement(HD,{location:t.location,revalidation:t.revalidation,component:b,error:m,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}function iy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VD(n){let e=S.useContext(vs);return Je(e,iy(n)),e}function qD(n){let e=S.useContext(Cc);return Je(e,iy(n)),e}function YD(n){let e=S.useContext(yi);return Je(e,iy(n)),e}function oy(n){let e=YD(n),t=e.matches[e.matches.length-1];return Je(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function KD(){return oy("useRouteId")}function GD(){var r;let n=S.useContext(ry),e=qD("useRouteError"),t=oy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function WD(){let{router:n}=VD("useNavigate"),e=oy("useNavigate"),t=S.useRef(!1);return AE(()=>{t.current=!0}),S.useCallback(async(i,s={})=>{At(t.current,RE),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var IS={};function kE(n,e,t){!e&&!IS[n]&&(IS[n]=!0,At(!1,t))}var BS={};function $S(n,e){!n&&!BS[e]&&(BS[e]=!0,console.warn(e))}function XD(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&At(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:S.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&At(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:S.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&At(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:S.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var JD=["HydrateFallback","hydrateFallbackElement"],QD=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function ZD({router:n,flushSync:e}){let[t,r]=S.useState(n.state),[i,s]=S.useState(),[l,c]=S.useState({isTransitioning:!1}),[f,d]=S.useState(),[p,m]=S.useState(),[y,b]=S.useState(),x=S.useRef(new Map),w=S.useCallback((A,{deletedFetchers:L,flushSync:z,viewTransitionOpts:R})=>{A.fetchers.forEach((j,q)=>{j.data!==void 0&&x.current.set(q,j.data)}),L.forEach(j=>x.current.delete(j)),$S(z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if($S(R==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!D){e&&z?e(()=>r(A)):S.startTransition(()=>r(A));return}if(e&&z){e(()=>{p&&(f&&f.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let j=n.window.document.startViewTransition(()=>{e(()=>r(A))});j.finished.finally(()=>{e(()=>{d(void 0),m(void 0),s(void 0),c({isTransitioning:!1})})}),e(()=>m(j));return}p?(f&&f.resolve(),p.skipTransition(),b({state:A,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(s(A),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,e,p,f]);S.useLayoutEffect(()=>n.subscribe(w),[n,w]),S.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new QD)},[l]),S.useEffect(()=>{if(f&&i&&n.window){let A=i,L=f.promise,z=n.window.document.startViewTransition(async()=>{S.startTransition(()=>r(A)),await L});z.finished.finally(()=>{d(void 0),m(void 0),s(void 0),c({isTransitioning:!1})}),m(z)}},[i,f,n.window]),S.useEffect(()=>{f&&i&&t.location.key===i.location.key&&f.resolve()},[f,p,t.location,i]),S.useEffect(()=>{!l.isTransitioning&&y&&(s(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[l.isTransitioning,y]);let E=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,L,z)=>n.navigate(A,{state:L,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(A,L,z)=>n.navigate(A,{replace:!0,state:L,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[n]),T=n.basename||"/",N=S.useMemo(()=>({router:n,navigator:E,static:!1,basename:T}),[n,E,T]);return S.createElement(S.Fragment,null,S.createElement(vs.Provider,{value:N},S.createElement(Cc.Provider,{value:t},S.createElement(NE.Provider,{value:x.current},S.createElement(ny.Provider,{value:l},S.createElement(n2,{basename:T,location:t.location,navigationType:t.historyAction,navigator:E},S.createElement(e2,{routes:n.routes,future:n.future,state:t})))))),null)}var e2=S.memo(t2);function t2({routes:n,future:e,state:t}){return ID(n,void 0,t,e)}function n2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Je(!Mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=yo(t));let{pathname:f="/",search:d="",hash:p="",state:m=null,key:y="default"}=t,b=S.useMemo(()=>{let x=or(f,l);return x==null?null:{location:{pathname:x,search:d,hash:p,state:m,key:y},navigationType:r}},[l,f,d,p,m,y,r]);return At(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(jr.Provider,{value:c},S.createElement(ld.Provider,{children:e,value:b}))}var gf="get",yf="application/x-www-form-urlencoded";function ud(n){return n!=null&&typeof n.tagName=="string"}function r2(n){return ud(n)&&n.tagName.toLowerCase()==="button"}function i2(n){return ud(n)&&n.tagName.toLowerCase()==="form"}function o2(n){return ud(n)&&n.tagName.toLowerCase()==="input"}function s2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function a2(n,e){return n.button===0&&(!e||e==="_self")&&!s2(n)}function eg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function l2(n,e){let t=eg(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var Qu=null;function c2(){if(Qu===null)try{new FormData(document.createElement("form"),0),Qu=!1}catch{Qu=!0}return Qu}var u2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(n){return n!=null&&!u2.has(n)?(At(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):n}function f2(n,e){let t,r,i,s,l;if(i2(n)){let c=n.getAttribute("action");r=c?or(c,e):null,t=n.getAttribute("method")||gf,i=lm(n.getAttribute("enctype"))||yf,s=new FormData(n)}else if(r2(n)||o2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?or(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||gf,i=lm(n.getAttribute("formenctype"))||lm(c.getAttribute("enctype"))||yf,s=new FormData(c,n),!c2()){let{name:d,type:p,value:m}=n;if(p==="image"){let y=d?`${d}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else d&&s.append(d,m)}}else{if(ud(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gf,r=null,i=yf,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function sy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function d2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function p2(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await d2(s,t);return l.links?l.links():[]}return[]}));return v2(r.flat(1).filter(h2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function HS(n,e,t,r,i,s){let l=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>{var p;return t[d].pathname!==f.pathname||((p=t[d].route.path)==null?void 0:p.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,d)=>l(f,d)||c(f,d)):s==="data"?e.filter((f,d)=>{var m;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function m2(n,e,{includeHydrateFallback:t}={}){return g2(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function g2(n){return[...new Set(n)]}function y2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function v2(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(y2(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}var b2=new Set([100,101,204,205]);function x2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&or(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function DE(){let n=S.useContext(vs);return sy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function S2(){let n=S.useContext(Cc);return sy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ay=S.createContext(void 0);ay.displayName="FrameworkContext";function PE(){let n=S.useContext(ay);return sy(n,"You must render this element inside a <HydratedRouter> element"),n}function w2(n,e){let t=S.useContext(ay),[r,i]=S.useState(!1),[s,l]=S.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:m}=e,y=S.useRef(null);S.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let w=T=>{T.forEach(N=>{l(N.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[n]),S.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,y,{}]:[s,y,{onFocus:Vl(c,b),onBlur:Vl(f,x),onMouseEnter:Vl(d,b),onMouseLeave:Vl(p,x),onTouchStart:Vl(m,b)}]:[!1,y,{}]}function Vl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function E2({page:n,...e}){let{router:t}=DE(),r=S.useMemo(()=>eo(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?S.createElement(M2,{page:n,matches:r,...e}):null}function C2(n){let{manifest:e,routeModules:t}=PE(),[r,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return p2(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function M2({page:n,matches:e,...t}){let r=vo(),{manifest:i,routeModules:s}=PE(),{basename:l}=DE(),{loaderData:c,matches:f}=S2(),d=S.useMemo(()=>HS(n,e,f,i,r,"data"),[n,e,f,i,r]),p=S.useMemo(()=>HS(n,e,f,i,r,"assets"),[n,e,f,i,r]),m=S.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,w=!1;if(e.forEach(T=>{var A;let N=i.routes[T.route.id];!N||!N.hasLoader||(!d.some(L=>L.route.id===T.route.id)&&T.route.id in c&&((A=s[T.route.id])!=null&&A.shouldRevalidate)||N.hasClientLoader?w=!0:x.add(T.route.id))}),x.size===0)return[];let E=x2(n,l);return w&&x.size>0&&E.searchParams.set("_routes",e.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[l,c,r,i,d,e,n,s]),y=S.useMemo(()=>m2(p,i),[p,i]),b=C2(p);return S.createElement(S.Fragment,null,m.map(x=>S.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),y.map(x=>S.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),b.map(({key:x,link:w})=>S.createElement("link",{key:x,...w})))}function T2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LE&&(window.__reactRouterVersion="7.5.1")}catch{}function O2(n,e){return gD({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:jk({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||N2(),routes:n,mapRouteProperties:XD,hydrationRouteProperties:JD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function N2(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:R2(n.errors)}),n}function R2(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new Nf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let l=new s(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fd=S.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:f,to:d,preventScrollReset:p,viewTransition:m,...y},b){let{basename:x}=S.useContext(jr),w=typeof d=="string"&&zE.test(d),E,T=!1;if(typeof d=="string"&&w&&(E=d,LE))try{let q=new URL(window.location.href),ie=d.startsWith("//")?new URL(q.protocol+d):new URL(d),ce=or(ie.pathname,x);ie.origin===q.origin&&ce!=null?d=ce+ie.search+ie.hash:T=!0}catch{At(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=_D(d,{relative:i}),[A,L,z]=w2(r,y),R=P2(d,{replace:l,state:c,target:f,preventScrollReset:p,relative:i,viewTransition:m});function D(q){e&&e(q),q.defaultPrevented||R(q)}let j=S.createElement("a",{...y,...z,href:E||N,onClick:T||s?e:D,ref:T2(b,L),target:f,"data-discover":!w&&t==="render"?"true":void 0});return A&&!w?S.createElement(S.Fragment,null,j,S.createElement(E2,{page:N})):j});fd.displayName="Link";var A2=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:f,...d},p){let m=Tc(l,{relative:d.relative}),y=vo(),b=S.useContext(Cc),{navigator:x,basename:w}=S.useContext(jr),E=b!=null&&I2(m)&&c===!0,T=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,N=y.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(N=N.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&w&&(A=or(A,w)||A);const L=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let z=N===T||!i&&N.startsWith(T)&&N.charAt(L)==="/",R=A!=null&&(A===T||!i&&A.startsWith(T)&&A.charAt(T.length)==="/"),D={isActive:z,isPending:R,isTransitioning:E},j=z?e:void 0,q;typeof r=="function"?q=r(D):q=[r,z?"active":null,R?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ie=typeof s=="function"?s(D):s;return S.createElement(fd,{...d,"aria-current":j,className:q,ref:p,style:ie,to:l,viewTransition:c},typeof f=="function"?f(D):f)});A2.displayName="NavLink";var k2=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=gf,action:c,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:m,...y},b)=>{let x=_2(),w=j2(c,{relative:d}),E=l.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&zE.test(c),N=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let L=A.nativeEvent.submitter,z=(L==null?void 0:L.getAttribute("formmethod"))||l;x(L||A.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:i,state:s,relative:d,preventScrollReset:p,viewTransition:m})};return S.createElement("form",{ref:b,method:E,action:w,onSubmit:r?f:N,...y,"data-discover":!T&&n==="render"?"true":void 0})});k2.displayName="Form";function D2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _E(n){let e=S.useContext(vs);return Je(e,D2(n)),e}function P2(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let c=cd(),f=vo(),d=Tc(n,{relative:s});return S.useCallback(p=>{if(a2(p,e)){p.preventDefault();let m=t!==void 0?t:uo(f)===uo(d);c(n,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[f,c,d,t,r,e,n,i,s,l])}function jE(n){At(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(eg(n)),t=S.useRef(!1),r=vo(),i=S.useMemo(()=>l2(r.search,t.current?null:e.current),[r.search]),s=cd(),l=S.useCallback((c,f)=>{const d=eg(typeof c=="function"?c(i):c);t.current=!0,s("?"+d,f)},[s,i]);return[i,l]}var L2=0,z2=()=>`__${String(++L2)}__`;function _2(){let{router:n}=_E("useSubmit"),{basename:e}=S.useContext(jr),t=KD();return S.useCallback(async(r,i={})=>{let{action:s,method:l,encType:c,formData:f,body:d}=f2(r,e);if(i.navigate===!1){let p=i.fetcherKey||z2();await n.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function j2(n,{relative:e}={}){let{basename:t}=S.useContext(jr),r=S.useContext(yi);Je(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Tc(n||".",{relative:e})},l=vo();if(n==null){s.search=l.search;let c=new URLSearchParams(s.search),f=c.getAll("index");if(f.some(p=>p==="")){c.delete("index"),f.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Dr([t,s.pathname])),uo(s)}function I2(n,e={}){let t=S.useContext(ny);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_E("useViewTransitionState"),i=Tc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=or(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=or(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Of(i.pathname,l)!=null||Of(i.pathname,s)!=null}new TextEncoder;[...b2];var Ir=hE();const Oc=Xg(Ir);/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B2(n){return S.createElement(ZD,{flushSync:Ir.flushSync,...n})}function Qt(n){this.content=n}Qt.prototype={constructor:Qt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new Qt(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Qt(t)},addToStart:function(n,e){return new Qt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Qt(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new Qt(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Qt.from(n),n.size?new Qt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Qt.from(n),n.size?new Qt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Qt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Qt.from=function(n){if(n instanceof Qt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Qt(e)};function IE(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let l=0;i.text[l]==s.text[l];l++)t++;return t}if(i.content.size||s.content.size){let l=IE(i.content,s.content,t+1);if(l!=null)return l}t+=i.nodeSize}}function BE(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let l=n.child(--i),c=e.child(--s),f=l.nodeSize;if(l==c){t-=f,r-=f;continue}if(!l.sameMarkup(c))return{a:t,b:r};if(l.isText&&l.text!=c.text){let d=0,p=Math.min(l.text.length,c.text.length);for(;d<p&&l.text[l.text.length-d-1]==c.text[c.text.length-d-1];)d++,t--,r--;return{a:t,b:r}}if(l.content.size||c.content.size){let d=BE(l.content,c.content,t-1,r-1);if(d)return d}t-=f,r-=f}}class ue{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let l=0,c=0;c<t;l++){let f=this.content[l],d=c+f.nodeSize;if(d>e&&r(f,i+c,s||null,l)!==!1&&f.content.size){let p=c+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,t-p),r,i+p)}c=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",l=!0;return this.nodesBetween(e,t,(c,f)=>{let d=c.isText?c.text.slice(Math.max(e,f)-f,t-f):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&d||c.isTextblock)&&r&&(l?l=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ue(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,l=0;l<t;s++){let c=this.content[s],f=l+c.nodeSize;f>e&&((l<e||f>t)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,t-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,t-l-1))),r.push(c),i+=c.nodeSize),l=f}return new ue(r,i)}cutByIndex(e,t){return e==t?ue.empty:e==0&&t==this.content.length?this:new ue(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new ue(i,s)}addToStart(e){return new ue([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ue(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return IE(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return BE(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Zu(0,e);if(e==this.size)return Zu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),l=i+s.nodeSize;if(l>=e)return l==e||t>0?Zu(r+1,l):Zu(r,i);i=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ue.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ue(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ue.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new ue(t||e,r)}static from(e){if(!e)return ue.empty;if(e instanceof ue)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ue([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ue.empty=new ue([],0);const cm={index:0,offset:0};function Zu(n,e){return cm.index=n,cm.offset=e,cm}function Af(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Af(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Af(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let pt=class tg{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Af(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return tg.none;if(e instanceof tg)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};pt.none=[];class kf extends Error{}class ve{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=HE(this.content,e+this.openStart,t);return r&&new ve(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ve($E(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ve.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ve(ue.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new ve(e,r,i)}}ve.empty=new ve(ue.empty,0,0);function $E(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:l,offset:c}=n.findIndex(t);if(i==e||s.isText){if(c!=t&&!n.child(l).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=l)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy($E(s.content,e-i-1,t-i-1)))}function HE(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),l=n.maybeChild(i);if(s==e||l.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=HE(l.content,e-s-1,t);return c&&n.replaceChild(i,l.copy(c))}function $2(n,e,t){if(t.openStart>n.depth)throw new kf("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new kf("Inconsistent open depths");return UE(n,e,t,0)}function UE(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let l=UE(n,e,t,r+1);return s.copy(s.content.replaceChild(i,l))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let l=n.parent,c=l.content;return is(l,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=H2(t,n);return is(s,VE(n,l,c,e,r))}else return is(s,Df(n,e,r))}function FE(n,e){if(!e.type.compatibleContent(n.type))throw new kf("Cannot join "+e.type.name+" onto "+n.type.name)}function ng(n,e,t){let r=n.node(t);return FE(r,e.node(t)),r}function rs(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function nc(n,e,t,r){let i=(e||n).node(t),s=0,l=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(rs(n.nodeAfter,r),s++));for(let c=s;c<l;c++)rs(i.child(c),r);e&&e.depth==t&&e.textOffset&&rs(e.nodeBefore,r)}function is(n,e){return n.type.checkContent(e),n.copy(e)}function VE(n,e,t,r,i){let s=n.depth>i&&ng(n,e,i+1),l=r.depth>i&&ng(t,r,i+1),c=[];return nc(null,n,i,c),s&&l&&e.index(i)==t.index(i)?(FE(s,l),rs(is(s,VE(n,e,t,r,i+1)),c)):(s&&rs(is(s,Df(n,e,i+1)),c),nc(e,t,i,c),l&&rs(is(l,Df(t,r,i+1)),c)),nc(r,null,i,c),new ue(c)}function Df(n,e,t){let r=[];if(nc(null,n,t,r),n.depth>t){let i=ng(n,e,t+1);rs(is(i,Df(n,e,t+1)),r)}return nc(e,null,t,r),new ue(r)}function H2(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(ue.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class lc{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return pt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let c=r;r=i,i=c}let s=r.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!i||!s[l].isInSet(i.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Pf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let l=e;;){let{index:c,offset:f}=l.content.findIndex(s),d=s-f;if(r.push(l,c,i+f),!d||(l=l.child(c),l.isText))break;s=d-1,i+=f+1}return new lc(t,r,s)}static resolveCached(e,t){let r=US.get(e);if(r)for(let s=0;s<r.elts.length;s++){let l=r.elts[s];if(l.pos==t)return l}else US.set(e,r=new U2);let i=r.elts[r.i]=lc.resolve(e,t);return r.i=(r.i+1)%F2,i}}class U2{constructor(){this.elts=[],this.i=0}}const F2=12,US=new WeakMap;class Pf{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const V2=Object.create(null);let oo=class rg{constructor(e,t,r,i=pt.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||ue.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Af(this.attrs,t||e.defaultAttrs||V2)&&pt.sameSet(this.marks,r||pt.none)}copy(e=null){return e==this.content?this:new rg(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new rg(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ve.empty;let i=this.resolve(e),s=this.resolve(t),l=r?0:i.sharedDepth(t),c=i.start(l),d=i.node(l).content.cut(i.pos-c,s.pos-c);return new ve(d,i.depth-l,s.depth-l)}replace(e,t,r){return $2(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return lc.resolveCached(this,e)}resolveNoCache(e){return lc.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),qE(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ue.empty,i=0,s=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,s),c=l&&l.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let f=i;f<s;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),l=s&&s.matchFragment(this.content,t);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=pt.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!pt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=ue.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};oo.prototype.text=void 0;class Lf extends oo{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):qE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Lf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Lf(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function qE(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class us{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new q2(e,t);if(r.next==null)return us.empty;let i=YE(r);r.next&&r.err("Unexpected trailing text");let s=Q2(J2(i));return Z2(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(l,c){let f=l.matchFragment(e,r);if(f&&(!t||f.validEnd))return ue.from(c.map(d=>d.createAndFill()));for(let d=0;d<l.next.length;d++){let{type:p,next:m}=l.next[d];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let y=s(m,c.concat(p));if(y)return y}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let l=[];for(let c=i;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:c,next:f}=s.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!i.type||f.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)s+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return s}).join(`
`)}}us.empty=new us(!0);class q2{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function YE(n){let e=[];do e.push(Y2(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Y2(n){let e=[];do e.push(K2(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function K2(n){let e=X2(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=G2(n,e);else break;return e}function FS(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function G2(n,e){let t=FS(n),r=t;return n.eat(",")&&(n.next!="}"?r=FS(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function W2(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let l=t[s];l.isInGroup(e)&&i.push(l)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function X2(n){if(n.eat("(")){let e=YE(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=W2(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function J2(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(l,c,f){let d={term:f,to:c};return e[l].push(d),d}function i(l,c){l.forEach(f=>f.to=c)}function s(l,c){if(l.type=="choice")return l.exprs.reduce((f,d)=>f.concat(s(d,c)),[]);if(l.type=="seq")for(let f=0;;f++){let d=s(l.exprs[f],c);if(f==l.exprs.length-1)return d;i(d,c=t())}else if(l.type=="star"){let f=t();return r(c,f),i(s(l.expr,f),f),[r(f)]}else if(l.type=="plus"){let f=t();return i(s(l.expr,c),f),i(s(l.expr,f),f),[r(f)]}else{if(l.type=="opt")return[r(c)].concat(s(l.expr,c));if(l.type=="range"){let f=c;for(let d=0;d<l.min;d++){let p=t();i(s(l.expr,f),p),f=p}if(l.max==-1)i(s(l.expr,f),f);else for(let d=l.min;d<l.max;d++){let p=t();r(f,p),i(s(l.expr,f),p),f=p}return[r(f)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function KE(n,e){return e-n}function VS(n,e){let t=[];return r(e),t.sort(KE);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let l=0;l<s.length;l++){let{term:c,to:f}=s[l];!c&&t.indexOf(f)==-1&&r(f)}}}function Q2(n){let e=Object.create(null);return t(VS(n,0));function t(r){let i=[];r.forEach(l=>{n[l].forEach(({term:c,to:f})=>{if(!c)return;let d;for(let p=0;p<i.length;p++)i[p][0]==c&&(d=i[p][1]);VS(n,f).forEach(p=>{d||i.push([c,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let s=e[r.join(",")]=new us(r.indexOf(n.length-1)>-1);for(let l=0;l<i.length;l++){let c=i[l][1].sort(KE);s.next.push({type:i[l][0],next:e[c.join(",")]||t(c)})}return s}}function Z2(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,l=[];for(let c=0;c<i.next.length;c++){let{type:f,next:d}=i.next[c];l.push(f.name),s&&!(f.isText||f.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function GE(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function WE(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function XE(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function JE(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new tP(n,r,e[r]);return t}let qS=class QE{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=JE(e,r.attrs),this.defaultAttrs=GE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==us.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:WE(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new oo(this,this.computeAttrs(e),ue.from(t),pt.setFrom(r))}createChecked(e=null,t,r){return t=ue.from(t),this.checkContent(t),new oo(this,this.computeAttrs(e),t,pt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ue.from(t),t.size){let l=this.contentMatch.fillBefore(t);if(!l)return null;t=l.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(ue.empty,!0);return s?new oo(this,e,t.append(s),pt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){XE(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:pt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,l)=>r[s]=new QE(s,t,l));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function eP(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class tP{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?eP(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class dd{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=JE(e,i.attrs),this.excluded=null;let s=GE(this.attrs);this.instance=s?new pt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new pt(this,WE(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,l)=>r[s]=new dd(s,i++,t,l)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){XE(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class ZE{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Qt.from(e.nodes),t.marks=Qt.from(e.marks||{}),this.nodes=qS.compile(this.spec.nodes,this),this.marks=dd.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],l=s.spec.content||"",c=s.spec.marks;if(s.contentMatch=r[l]||(r[l]=us.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=c=="_"?null:c?YS(this,c.split(" ")):c==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],l=s.spec.excludes;s.excluded=l==null?[s]:l==""?[]:YS(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof qS){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Lf(r,r.defaultAttrs,e,pt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return oo.fromJSON(this,e)}markFromJSON(e){return pt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function YS(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],l=s;if(s)t.push(s);else for(let c in n.marks){let f=n.marks[c];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&t.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function nP(n){return n.tag!=null}function rP(n){return n.style!=null}class so{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(nP(i))this.tags.push(i);else if(rP(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new GS(this,t,!1);return r.addAll(e,pt.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new GS(this,t,!0);return r.addAll(e,pt.none,t.from,t.to),ve.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(sP(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let l=this.styles[s],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(l.getAttrs){let f=l.getAttrs(t);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,l=0;for(;l<t.length;l++){let c=t[l];if((c.priority==null?50:c.priority)<s)break}t.splice(l,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(l=>{r(l=WS(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(l=>{r(l=WS(l)),l.node||l.ignore||l.mark||(l.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new so(e,so.schemaRules(e)))}}const eC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},iP={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tC={ol:!0,ul:!0},cc=1,ig=2,vf=4;function KS(n,e,t){return e!=null?(e?cc:0)|(e==="full"?ig:0):n&&n.whitespace=="pre"?cc|ig:t&-5}class ef{constructor(e,t,r,i,s,l){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=pt.none,this.match=s||(l&vf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ue.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&cc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=ue.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ue.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!eC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class GS{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,l=KS(null,t.preserveWhitespace,0)|(r?vf:0);i?s=new ef(i.type,i.attrs,pt.none,!0,t.topMatch||i.type.contentMatch,l):r?s=new ef(null,null,pt.none,!0,null,l):s=new ef(e.schema.topNodeType,null,pt.none,!0,null,l),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&ig?"full":this.localPreserveWS||(i.options&cc)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;tC.hasOwnProperty(l)&&this.parser.normalizeLists&&oP(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(f?f.ignore:iP.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let d,p=this.needsBlock;if(eC.hasOwnProperty(l))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let m=f&&f.skip?t:this.readStyles(e,t);m&&this.addAll(e,m),d&&this.sync(s),this.needsBlock=p}else{let d=this.readStyles(e,t);d&&this.addElementByRule(e,f,d,f.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],l=r.getPropertyValue(s);if(l)for(let c=void 0;;){let f=this.parser.matchStyle(s,l,this,c);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(d=>!f.clearMark(d)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)c=f;else break}}return t}addElementByRule(e,t,r,i){let s,l;if(t.node)if(l=this.parser.schema.nodes[t.node],l.isLeaf)this.insertNode(l.create(t.attrs),r)||this.leafFallback(e,r);else{let f=this.enter(l,t.attrs||null,r,t.preserveWhitespace);f&&(s=!0,r=f)}else{let f=this.parser.schema.marks[t.mark];r=r.concat(f.create(t.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}s&&this.sync(c)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];l!=c;l=l.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(l,t);this.findAtPoint(e,s)}findPlace(e,t){let r,i;for(let s=this.open;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(e);if(c&&(!r||r.length>c.length)&&(r=c,i=l,!c.length)||l.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)t=this.enterInner(r[s],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(t=this.enterInner(i,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=pt.none;for(let l of r.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):XS(l.type,e.type))&&(s=l.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=KS(e,s,l.options);l.options&vf&&l.content.length==0&&(c|=vf);let f=pt.none;return r=r.filter(d=>(l.type?l.type.allowsMarkType(d.type):XS(d.type,e))?(f=d.addToSet(f),!1):!0),this.nodes.push(new ef(e,t,f,i,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=cc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),l=(c,f)=>{for(;c>=0;c--){let d=t[c];if(d==""){if(c==t.length-1||c==0)continue;for(;f>=s;f--)if(l(c-1,f))return!0;return!1}else{let p=f>0||f==0&&i?this.nodes[f].type:r&&f>=s?r.node(f-s).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;f--}}return!0};return l(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function oP(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&tC.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function sP(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function WS(n){let e={};for(let t in n)e[t]=n[t];return e}function XS(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],l=c=>{s.push(c);for(let f=0;f<c.edgeCount;f++){let{type:d,next:p}=c.edge(f);if(d==e||s.indexOf(p)<0&&l(p))return!0}};if(l(i.contentMatch))return!0}}class bs{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=um(t).createDocumentFragment());let i=r,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let c=0,f=0;for(;c<s.length&&f<l.marks.length;){let d=l.marks[f];if(!this.marks[d.type.name]){f++;continue}if(!d.eq(s[c][0])||d.type.spec.spanning===!1)break;c++,f++}for(;c<s.length;)i=s.pop()[1];for(;f<l.marks.length;){let d=l.marks[f++],p=this.serializeMark(d,l.isInline,t);p&&(s.push([d,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(l,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=bf(um(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&bf(um(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return bf(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new bs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=JS(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return JS(e.marks)}}function JS(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function um(n){return n.document||window.document}const QS=new WeakMap;function aP(n){let e=QS.get(n);return e===void 0&&QS.set(n,e=lP(n)),e}function lP(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function bf(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=aP(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(t=i.slice(0,l),i=i.slice(l+1));let c,f=t?n.createElementNS(t,i):n.createElement(i),d=e[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let m in d)if(d[m]!=null){let y=m.indexOf(" ");y>0?f.setAttributeNS(m.slice(0,y),m.slice(y+1),d[m]):f.setAttribute(m,d[m])}}for(let m=p;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:b,contentDOM:x}=bf(n,y,t,r);if(f.appendChild(b),x){if(c)throw new RangeError("Multiple content holes");c=x}}}return{dom:f,contentDOM:c}}const nC=65535,rC=Math.pow(2,16);function cP(n,e){return n+e*rC}function ZS(n){return n&nC}function uP(n){return(n-(n&nC))/rC}const iC=1,oC=2,xf=4,sC=8;class og{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&sC)>0}get deletedBefore(){return(this.delInfo&(iC|xf))>0}get deletedAfter(){return(this.delInfo&(oC|xf))>0}get deletedAcross(){return(this.delInfo&xf)>0}}class jn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&jn.empty)return jn.empty}recover(e){let t=0,r=ZS(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+uP(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?i:0);if(f>e)break;let d=this.ranges[c+s],p=this.ranges[c+l],m=f+d;if(e<=m){let y=d?e==f?-1:e==m?1:t:t,b=f+i+(y<0?0:p);if(r)return b;let x=e==(t<0?f:m)?null:cP(c/3,e-f),w=e==f?oC:e==m?iC:xf;return(t<0?e!=f:e!=m)&&(w|=sC),new og(b,w,x)}i+=p-d}return r?e+i:new og(e+i,0,null)}touches(e,t){let r=0,i=ZS(t),s=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?r:0);if(f>e)break;let d=this.ranges[c+s],p=f+d;if(e<=p&&c==i*3)return!0;r+=this.ranges[c+l]-d}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let l=this.ranges[i],c=l-(this.inverted?s:0),f=l+(this.inverted?0:s),d=this.ranges[i+t],p=this.ranges[i+r];e(c,c+d,f,f+p),s+=p-d}}invert(){return new jn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?jn.empty:new jn(e<0?[0,-e,0]:[0,0,e])}}jn.empty=new jn([]);class uc{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new uc(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new uc;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let l=this._maps[s],c=l.mapResult(e,t);if(c.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,e=this._maps[f].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new og(e,i,null)}}const fm=Object.create(null);class un{getMap(){return jn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=fm[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in fm)throw new RangeError("Duplicate use of step JSON ID "+e);return fm[e]=t,t.prototype.jsonID=e,t}}class Pt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Pt(e,null)}static fail(e){return new Pt(null,e)}static fromReplace(e,t,r,i){try{return Pt.ok(e.replace(t,r,i))}catch(s){if(s instanceof kf)return Pt.fail(s.message);throw s}}}function ly(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(ly(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return ue.fromArray(r)}class no extends un{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ve(ly(t.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),t.openStart,t.openEnd);return Pt.fromReplace(e,this.from,this.to,s)}invert(){return new Ar(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new no(t.pos,r.pos,this.mark)}merge(e){return e instanceof no&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new no(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new no(t.from,t.to,e.markFromJSON(t.mark))}}un.jsonID("addMark",no);class Ar extends un{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ve(ly(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Pt.fromReplace(e,this.from,this.to,r)}invert(){return new no(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ar(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ar&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ar(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ar(t.from,t.to,e.markFromJSON(t.mark))}}un.jsonID("removeMark",Ar);class ro extends un{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Pt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Pt.fromReplace(e,this.pos,this.pos+1,new ve(ue.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new ro(this.pos,t.marks[i]);return new ro(this.pos,this.mark)}}return new Ta(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ro(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ro(t.pos,e.markFromJSON(t.mark))}}un.jsonID("addNodeMark",ro);class Ta extends un{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Pt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Pt.fromReplace(e,this.pos,this.pos+1,new ve(ue.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ro(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ta(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ta(t.pos,e.markFromJSON(t.mark))}}un.jsonID("removeNodeMark",Ta);class Vt extends un{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&sg(e,this.from,this.to)?Pt.fail("Structure replace would overwrite content"):Pt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new jn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Vt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Vt(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Vt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ve.empty:new ve(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Vt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ve.empty:new ve(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Vt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Vt(t.from,t.to,ve.fromJSON(e,t.slice),!!t.structure)}}un.jsonID("replace",Vt);class qt extends un{constructor(e,t,r,i,s,l,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=l,this.structure=c}apply(e){if(this.structure&&(sg(e,this.from,this.gapFrom)||sg(e,this.gapTo,this.to)))return Pt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Pt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Pt.fromReplace(e,this.from,this.to,r):Pt.fail("Content does not fit in gap")}getMap(){return new jn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new qt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new qt(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new qt(t.from,t.to,t.gapFrom,t.gapTo,ve.fromJSON(e,t.slice),t.insert,!!t.structure)}}un.jsonID("replaceAround",qt);function sg(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let l=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function fP(n,e,t,r){let i=[],s=[],l,c;n.doc.nodesBetween(e,t,(f,d,p)=>{if(!f.isInline)return;let m=f.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(d,e),b=Math.min(d+f.nodeSize,t),x=r.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(x)||(l&&l.to==y&&l.mark.eq(m[w])?l.to=b:i.push(l=new Ar(y,b,m[w])));c&&c.to==y?c.to=b:s.push(c=new no(y,b,r))}}),i.forEach(f=>n.step(f)),s.forEach(f=>n.step(f))}function dP(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(l,c)=>{if(!l.isInline)return;s++;let f=null;if(r instanceof dd){let d=l.marks,p;for(;p=r.isInSet(d);)(f||(f=[])).push(p),d=p.removeFromSet(d)}else r?r.isInSet(l.marks)&&(f=[r]):f=l.marks;if(f&&f.length){let d=Math.min(c+l.nodeSize,t);for(let p=0;p<f.length;p++){let m=f[p],y;for(let b=0;b<i.length;b++){let x=i[b];x.step==s-1&&m.eq(i[b].style)&&(y=x)}y?(y.to=d,y.step=s):i.push({style:m,from:Math.max(c,e),to:d,step:s})}}}),i.forEach(l=>n.step(new Ar(l.from,l.to,l.style)))}function cy(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),l=[],c=e+1;for(let f=0;f<s.childCount;f++){let d=s.child(f),p=c+d.nodeSize,m=r.matchType(d.type);if(!m)l.push(new Vt(c,p,ve.empty));else{r=m;for(let y=0;y<d.marks.length;y++)t.allowsMarkType(d.marks[y].type)||n.step(new Ar(c,p,d.marks[y]));if(i&&d.isText&&t.whitespace!="pre"){let y,b=/\r?\n|\r/g,x;for(;y=b.exec(d.text);)x||(x=new ve(ue.from(t.schema.text(" ",t.allowedMarks(d.marks))),0,0)),l.push(new Vt(c+y.index,c+y.index+y[0].length,x))}}c=p}if(!r.validEnd){let f=r.fillBefore(ue.empty,!0);n.replace(c,c,new ve(f,0,0))}for(let f=l.length-1;f>=0;f--)n.step(l[f])}function hP(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function za(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),l=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,l,t))return r;if(r==0||i.type.spec.isolating||!hP(i,s,l))break}return null}function pP(n,e,t){let{$from:r,$to:i,depth:s}=e,l=r.before(s+1),c=i.after(s+1),f=l,d=c,p=ue.empty,m=0;for(let x=s,w=!1;x>t;x--)w||r.index(x)>0?(w=!0,p=ue.from(r.node(x).copy(p)),m++):f--;let y=ue.empty,b=0;for(let x=s,w=!1;x>t;x--)w||i.after(x+1)<i.end(x)?(w=!0,y=ue.from(i.node(x).copy(y)),b++):d++;n.step(new qt(f,d,l,c,new ve(p.append(y),m,b),p.size-m,!0))}function uy(n,e,t=null,r=n){let i=mP(n,e),s=i&&gP(r,e);return s?i.map(ew).concat({type:e,attrs:t}).concat(s.map(ew)):null}function ew(n){return{type:n,attrs:null}}function mP(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return t.canReplaceWith(r,i,l)?s:null}function gP(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let d=r;f&&d<i;d++)f=f.matchType(t.child(d).type);return!f||!f.validEnd?null:l}function yP(n,e,t){let r=ue.empty;for(let l=t.length-1;l>=0;l--){if(r.size){let c=t[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ue.from(t[l].type.create(t[l].attrs,r))}let i=e.start,s=e.end;n.step(new qt(i,s,i,s,new ve(r,0,0),t.length,!0))}function vP(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(l,c)=>{let f=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,f)&&bP(n.doc,n.mapping.slice(s).map(c),r)){let d=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!x?d=!1:!b&&x&&(d=!0)}d===!1&&lC(n,l,c,s),cy(n,n.mapping.slice(s).map(c,1),r,void 0,d===null);let p=n.mapping.slice(s),m=p.map(c,1),y=p.map(c+l.nodeSize,1);return n.step(new qt(m,y,m+1,y-1,new ve(ue.from(r.create(f,null,l.marks)),0,0),1,!0)),d===!0&&aC(n,l,c,s),!1}})}function aC(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(i.text);){let f=n.mapping.slice(r).map(t+1+s+l.index);n.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function lC(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let l=n.mapping.slice(r).map(t+1+s);n.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function bP(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function xP(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let l=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,l);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new qt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ve(ue.from(l),0,0),1,!0))}function di(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,l=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,p=t-2;d>s;d--,p--){let m=i.node(d),y=i.index(d);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(y,m.childCount),x=r&&r[p+1];x&&(b=b.replaceChild(0,x.type.create(x.attrs)));let w=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!w.type.validContent(b))return!1}let c=i.indexAfter(s),f=r&&r[0];return i.node(s).canReplaceWith(c,c,f?f.type:i.node(s+1).type)}function SP(n,e,t=1,r){let i=n.doc.resolve(e),s=ue.empty,l=ue.empty;for(let c=i.depth,f=i.depth-t,d=t-1;c>f;c--,d--){s=ue.from(i.node(c).copy(s));let p=r&&r[d];l=ue.from(p?p.type.create(p.attrs,l):i.node(c).copy(l))}n.step(new Vt(e,e,new ve(s.append(l),t,t),!0))}function bo(n,e){let t=n.resolve(e),r=t.index();return cC(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function wP(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),l=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(l),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function cC(n,e){return!!(n&&e&&!n.isLeaf&&wP(n,e))}function hd(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,l,c=r.index(i);if(i==r.depth?(s=r.nodeBefore,l=r.nodeAfter):t>0?(s=r.node(i+1),c++,l=r.node(i).maybeChild(c)):(s=r.node(i).maybeChild(c-1),l=r.node(i+1)),s&&!s.isTextblock&&cC(s,l)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function EP(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),l=s.node().type;if(i&&l.inlineContent){let p=l.whitespace=="pre",m=!!l.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let c=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);lC(n,p.node(),p.before(),c)}l.inlineContent&&cy(n,e+t-1,l,s.node().contentMatchAt(s.index()),r==null);let f=n.mapping.slice(c),d=f.map(e-t);if(n.step(new Vt(d,f.map(e+t,-1),ve.empty,!0)),r===!0){let p=n.doc.resolve(d);aC(n,p.node(),p.before(),n.steps.length)}return n}function CP(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function MP(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,f=r.index(l)+(c>0?1:0),d=r.node(l),p=!1;if(s==1)p=d.canReplace(f,f,i);else{let m=d.contentMatchAt(f).findWrapping(i.firstChild.type);p=m&&d.canReplaceWith(f,f,m[0])}if(p)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function pd(n,e,t=e,r=ve.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return uC(i,s,r)?new Vt(e,t,r):new TP(i,s,r).fit()}function uC(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class TP{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ue.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ue.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,l=r.depth,c=i.depth;for(;l&&c&&s.childCount==1;)s=s.firstChild.content,l--,c--;let f=new ve(s,l,c);return e>-1?new qt(r.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||r.pos!=this.$to.pos?new Vt(r.pos,i.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=dm(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let l=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:f,match:d}=this.frontier[c],p,m=null;if(t==1&&(l?d.matchType(l.type)||(m=d.fillBefore(ue.from(l),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:c,parent:s,inject:m};if(t==2&&l&&(p=d.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:s,wrap:p};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=dm(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ve(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=dm(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new ve(Jl(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new ve(Jl(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let w=0;w<s.length;w++)this.openFrontierNode(s[w]);let l=this.unplaced,c=r?r.content:l.content,f=l.openStart-e,d=0,p=[],{match:m,type:y}=this.frontier[t];if(i){for(let w=0;w<i.childCount;w++)p.push(i.child(w));m=m.matchFragment(i)}let b=c.size+e-(l.content.size-l.openEnd);for(;d<c.childCount;){let w=c.child(d),E=m.matchType(w.type);if(!E)break;d++,(d>1||f==0||w.content.size)&&(m=E,p.push(fC(w.mark(y.allowedMarks(w.marks)),d==1?f:0,d==c.childCount?b:-1)))}let x=d==c.childCount;x||(b=-1),this.placed=Ql(this.placed,t,ue.from(p)),this.frontier[t].match=m,x&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,E=c;w<b;w++){let T=E.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),E=T.content}this.unplaced=x?e==0?ve.empty:new ve(Jl(l.content,e-1,1),e-1,b<0?l.openEnd:e-1):new ve(Jl(l.content,e,d),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!hm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),l=hm(e,t,i,r,s);if(l){for(let c=t-1;c>=0;c--){let{match:f,type:d}=this.frontier[c],p=hm(e,c,d,f,!0);if(!p||p.childCount)continue e}return{depth:t,fit:l,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ql(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ql(this.placed,this.depth,ue.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ue.empty,!0);t.childCount&&(this.placed=Ql(this.placed,this.frontier.length,t))}}function Jl(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Jl(n.firstChild.content,e-1,t)))}function Ql(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Ql(n.lastChild.content,e-1,t)))}function dm(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function fC(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,fC(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ue.empty,!0)))),n.copy(r)}function hm(n,e,t,r,i){let s=n.node(e),l=i?n.indexAfter(e):n.index(e);if(l==s.childCount&&!t.compatibleContent(s.type))return null;let c=r.fillBefore(s.content,!0,l);return c&&!OP(t,s.content,l)?c:null}function OP(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function NP(n){return n.spec.defining||n.spec.definingForContent}function RP(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(uC(i,s,r))return n.step(new Vt(e,t,r));let l=hC(i,n.doc.resolve(t));l[l.length-1]==0&&l.pop();let c=-(i.depth+1);l.unshift(c);for(let y=i.depth,b=i.pos-1;y>0;y--,b--){let x=i.node(y).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;l.indexOf(y)>-1?c=y:i.before(y)==b&&l.splice(1,0,-y)}let f=l.indexOf(c),d=[],p=r.openStart;for(let y=r.content,b=0;;b++){let x=y.firstChild;if(d.push(x),b==r.openStart)break;y=x.content}for(let y=p-1;y>=0;y--){let b=d[y],x=NP(b.type);if(x&&!b.sameMarkup(i.node(Math.abs(c)-1)))p=y;else if(x||!b.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let b=(y+p+1)%(r.openStart+1),x=d[b];if(x)for(let w=0;w<l.length;w++){let E=l[(w+f)%l.length],T=!0;E<0&&(T=!1,E=-E);let N=i.node(E-1),A=i.index(E-1);if(N.canReplaceWith(A,A,x.type,x.marks))return n.replace(i.before(E),T?s.after(E):t,new ve(dC(r.content,0,r.openStart,b),b,r.openEnd))}}let m=n.steps.length;for(let y=l.length-1;y>=0&&(n.replace(e,t,r),!(n.steps.length>m));y--){let b=l[y];b<0||(e=i.before(b),t=s.after(b))}}function dC(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(dC(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),l=s.fillBefore(n).append(n);n=l.append(s.matchFragment(l).fillBefore(ue.empty,!0))}return n}function AP(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=CP(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new ve(ue.from(r),0,0))}function kP(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=hC(r,i);for(let l=0;l<s.length;l++){let c=s[l],f=l==s.length-1;if(f&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),i.end(c));if(c>0&&(f||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return n.delete(r.before(c),i.after(c))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&t>r.end(l)&&i.end(l)-t!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return n.delete(r.before(l),t);n.delete(e,t)}function hC(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class wa extends un{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Pt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Pt.fromReplace(e,this.pos,this.pos+1,new ve(ue.from(i),0,t.isLeaf?0:1))}getMap(){return jn.empty}invert(e){return new wa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new wa(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wa(t.pos,t.attr,t.value)}}un.jsonID("attr",wa);class fc extends un{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Pt.ok(r)}getMap(){return jn.empty}invert(e){return new fc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new fc(t.attr,t.value)}}un.jsonID("docAttr",fc);let Oa=class extends Error{};Oa=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Oa.prototype=Object.create(Error.prototype);Oa.prototype.constructor=Oa;Oa.prototype.name="TransformError";class DP{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new uc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Oa(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ve.empty){let i=pd(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new ve(ue.from(r),0,0))}delete(e,t){return this.replace(e,t,ve.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return RP(this,e,t,r),this}replaceRangeWith(e,t,r){return AP(this,e,t,r),this}deleteRange(e,t){return kP(this,e,t),this}lift(e,t){return pP(this,e,t),this}join(e,t=1){return EP(this,e,t),this}wrap(e,t){return yP(this,e,t),this}setBlockType(e,t=e,r,i=null){return vP(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return xP(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new wa(e,t,r)),this}setDocAttribute(e,t){return this.step(new fc(e,t)),this}addNodeMark(e,t){return this.step(new ro(e,t)),this}removeNodeMark(e,t){if(!(t instanceof pt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new Ta(e,t)),this}split(e,t=1,r){return SP(this,e,t,r),this}addMark(e,t,r){return fP(this,e,t,r),this}removeMark(e,t,r){return dP(this,e,t,r),this}clearIncompatible(e,t,r){return cy(this,e,t,r),this}}const pm=Object.create(null);class Qe{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new PP(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ve.empty){let r=t.content.lastChild,i=null;for(let c=0;c<t.openEnd;c++)i=r,r=r.lastChild;let s=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:f,$to:d}=l[c],p=e.mapping.slice(s);e.replaceRange(p.map(f.pos),p.map(d.pos),c?ve.empty:t),c==0&&rw(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:c}=i[s],f=e.mapping.slice(r),d=f.map(l.pos),p=f.map(c.pos);s?e.deleteRange(d,p):(e.replaceRangeWith(d,p,t),rw(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new He(e):pa(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let l=t<0?pa(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):pa(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(l)return l}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new In(e.node(0))}static atStart(e){return pa(e,e,0,0,1)||new In(e)}static atEnd(e){return pa(e,e,e.content.size,e.childCount,-1)||new In(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=pm[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in pm)throw new RangeError("Duplicate use of selection JSON ID "+e);return pm[e]=t,t.prototype.jsonID=e,t}getBookmark(){return He.between(this.$anchor,this.$head).getBookmark()}}Qe.prototype.visible=!0;class PP{constructor(e,t){this.$from=e,this.$to=t}}let tw=!1;function nw(n){!tw&&!n.parent.inlineContent&&(tw=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class He extends Qe{constructor(e,t=e){nw(e),nw(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Qe.near(r);let i=e.resolve(t.map(this.anchor));return new He(i.parent.inlineContent?i:r,r)}replace(e,t=ve.empty){if(super.replace(e,t),t==ve.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof He&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new md(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new He(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=Qe.findFrom(t,r,!0)||Qe.findFrom(t,-r,!0);if(s)t=s.$head;else return Qe.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(Qe.findFrom(e,-r,!0)||Qe.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new He(e,t)}}Qe.jsonID("text",He);class md{constructor(e,t){this.anchor=e,this.head=t}map(e){return new md(e.map(this.anchor),e.map(this.head))}resolve(e){return He.between(e.resolve(this.anchor),e.resolve(this.head))}}class Pe extends Qe{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?Qe.near(s):new Pe(s)}content(){return new ve(ue.from(this.node),0,0)}eq(e){return e instanceof Pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new fy(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Pe(e.resolve(t.anchor))}static create(e,t){return new Pe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Pe.prototype.visible=!1;Qe.jsonID("node",Pe);class fy{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new md(r,r):new fy(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Pe.isSelectable(r)?new Pe(t):Qe.near(t)}}class In extends Qe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ve.empty){if(t==ve.empty){e.delete(0,e.doc.content.size);let r=Qe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new In(e)}map(e){return new In(e)}eq(e){return e instanceof In}getBookmark(){return LP}}Qe.jsonID("all",In);const LP={map(){return this},resolve(n){return new In(n)}};function pa(n,e,t,r,i,s=!1){if(e.inlineContent)return He.create(n,t);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let c=e.child(l);if(c.isAtom){if(!s&&Pe.isSelectable(c))return Pe.create(n,t-(i<0?c.nodeSize:0))}else{let f=pa(n,c,t+i,i<0?c.childCount:0,i,s);if(f)return f}t+=c.nodeSize*i}return null}function rw(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Vt||i instanceof qt))return;let s=n.mapping.maps[r],l;s.forEach((c,f,d,p)=>{l==null&&(l=p)}),n.setSelection(Qe.near(n.doc.resolve(l),t))}const iw=1,ow=2,sw=4;class zP extends DP{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|iw)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&iw)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ow,this}ensureMarks(e){return pt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ow)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||pt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let l=this.doc.resolve(t);s=r==t?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(Qe.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=sw,this}get scrolledIntoView(){return(this.updated&sw)>0}}function aw(n,e){return!e||!n?n:n.bind(e)}class Zl{constructor(e,t,r){this.name=e,this.init=aw(t.init,r),this.apply=aw(t.apply,r)}}const _P=[new Zl("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Zl("selection",{init(n,e){return n.selection||Qe.atStart(e.doc)},apply(n){return n.selection}}),new Zl("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Zl("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class mm{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_P.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Zl(r.key,r.spec.state,r))})}}class va{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let f=i?i[l].n:0,d=i?i[l].state:this,p=f<t.length&&c.spec.appendTransaction.call(c,f?t.slice(f):t,d,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<l?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),s=!0}i&&(i[l]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new va(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new zP(this)}static create(e){let t=new mm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new va(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new mm(this.schema,e.plugins),r=t.fields,i=new va(t);for(let s=0;s<r.length;s++){let l=r[s].name;i[l]=this.hasOwnProperty(l)?this[l]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new mm(e.schema,e.plugins),s=new va(i);return i.fields.forEach(l=>{if(l.name=="doc")s.doc=oo.fromJSON(e.schema,t.doc);else if(l.name=="selection")s.selection=Qe.fromJSON(s.doc,t.selection);else if(l.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let f=r[c],d=f.spec.state;if(f.key==l.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){s[l.name]=d.fromJSON.call(f,e,t[c],s);return}}s[l.name]=l.init(e,s)}}),s}}function pC(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=pC(i,e,{})),t[r]=i}return t}class sr{constructor(e){this.spec=e,this.props={},e.props&&pC(e.props,this,this.props),this.key=e.key?e.key.key:mC("plugin")}getState(e){return e[this.key]}}const gm=Object.create(null);function mC(n){return n in gm?n+"$"+ ++gm[n]:(gm[n]=0,n+"$")}class Br{constructor(e="key"){this.key=mC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Zt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Na=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let ag=null;const ci=function(n,e,t){let r=ag||(ag=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},jP=function(){ag=null},fs=function(n,e,t,r){return t&&(lw(n,e,t,r,-1)||lw(n,e,t,r,1))},IP=/^(img|br|input|textarea|hr)$/i;function lw(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:tr(n))){let s=n.parentNode;if(!s||s.nodeType!=1||Nc(n)||IP.test(n.nodeName)||n.contentEditable=="false")return!1;e=Zt(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?tr(n):0}else return!1}}function tr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function BP(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=tr(n)}else if(n.parentNode&&!Nc(n))e=Zt(n),n=n.parentNode;else return null}}function $P(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Nc(n))e=Zt(n)+1,n=n.parentNode;else return null}}function HP(n,e,t){for(let r=e==0,i=e==tr(n);r||i;){if(n==t)return!0;let s=Zt(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==tr(n)}}function Nc(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const gd=function(n){return n.focusNode&&fs(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Xo(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function UP(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function FP(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(tr(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(tr(r.startContainer),r.startOffset)}}}const Lr=typeof navigator<"u"?navigator:null,cw=typeof document<"u"?document:null,xo=Lr&&Lr.userAgent||"",lg=/Edge\/(\d+)/.exec(xo),gC=/MSIE \d/.exec(xo),cg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xo),Cn=!!(gC||cg||lg),ao=gC?document.documentMode:cg?+cg[1]:lg?+lg[1]:0,gr=!Cn&&/gecko\/(\d+)/i.test(xo);gr&&+(/Firefox\/(\d+)/.exec(xo)||[0,0])[1];const ug=!Cn&&/Chrome\/(\d+)/.exec(xo),ln=!!ug,yC=ug?+ug[1]:0,hn=!Cn&&!!Lr&&/Apple Computer/.test(Lr.vendor),Ra=hn&&(/Mobile\/\w+/.test(xo)||!!Lr&&Lr.maxTouchPoints>2),er=Ra||(Lr?/Mac/.test(Lr.platform):!1),VP=Lr?/Win/.test(Lr.platform):!1,ui=/Android \d/.test(xo),Rc=!!cw&&"webkitFontSmoothing"in cw.documentElement.style,qP=Rc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function YP(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function ai(n,e){return typeof n=="number"?n:n[e]}function KP(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function uw(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let l=t||n.dom;l;){if(l.nodeType!=1){l=Na(l);continue}let c=l,f=c==s.body,d=f?YP(s):KP(c),p=0,m=0;if(e.top<d.top+ai(r,"top")?m=-(d.top-e.top+ai(i,"top")):e.bottom>d.bottom-ai(r,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+ai(i,"top")-d.top:e.bottom-d.bottom+ai(i,"bottom")),e.left<d.left+ai(r,"left")?p=-(d.left-e.left+ai(i,"left")):e.right>d.right-ai(r,"right")&&(p=e.right-d.right+ai(i,"right")),p||m)if(f)s.defaultView.scrollBy(p,m);else{let b=c.scrollLeft,x=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let w=c.scrollLeft-b,E=c.scrollTop-x;e={left:e.left-w,top:e.top-E,right:e.right-w,bottom:e.bottom-E}}let y=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(y))break;l=y=="absolute"?l.offsetParent:Na(l)}}function GP(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,l=t+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=n.root.elementFromPoint(s,l);if(!c||c==n.dom||!n.dom.contains(c))continue;let f=c.getBoundingClientRect();if(f.top>=t-20){r=c,i=f.top;break}}return{refDOM:r,refTop:i,stack:vC(n.dom)}}function vC(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Na(r));return e}function WP({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;bC(t,r==0?0:r-e)}function bC(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let ia=null;function XP(n){if(n.setActive)return n.setActive();if(ia)return n.focus(ia);let e=vC(n);n.focus(ia==null?{get preventScroll(){return ia={preventScroll:!0},!0}}:void 0),ia||(ia=!1,bC(e,0))}function xC(n,e){let t,r=2e8,i,s=0,l=e.top,c=e.top,f,d;for(let p=n.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=ci(p).getClientRects();else continue;for(let b=0;b<y.length;b++){let x=y[b];if(x.top<=l&&x.bottom>=c){l=Math.max(x.bottom,l),c=Math.min(x.top,c);let w=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(w<r){t=p,r=w,i=w&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,p.nodeType==1&&w&&(s=m+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!f&&x.left<=e.left&&x.right>=e.left&&(f=p,d={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(s=m+1)}}return!t&&f&&(t=f,i=d,r=0),t&&t.nodeType==3?JP(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:xC(t,i)}function JP(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=Xi(r,1);if(s.top!=s.bottom&&dy(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function dy(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function QP(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function ZP(n,e,t){let{node:r,offset:i}=xC(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();s=l.left!=l.right&&t.left>(l.left+l.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function eL(n,e,t,r){let i=-1;for(let s=e,l=!1;s!=n.dom;){let c=n.docView.nearestDesc(s,!0),f;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((f=c.dom.getBoundingClientRect()).width||f.height)&&(c.node.isBlock&&c.parent&&(!l&&f.left>r.left||f.top>r.top?i=c.posBefore:(!l&&f.right<r.left||f.bottom<r.top)&&(i=c.posAfter),l=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?c.posBefore:c.posAfter;s=c.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function SC(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let l=n.childNodes[s];if(l.nodeType==1){let c=l.getClientRects();for(let f=0;f<c.length;f++){let d=c[f];if(dy(e,d))return SC(l,e,d)}}if((s=(s+1)%r)==i)break}return n}function tL(n,e){let t=n.dom.ownerDocument,r,i=0,s=FP(t,e.left,e.top);s&&({node:r,offset:i}=s);let l=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!l||!n.dom.contains(l.nodeType!=1?l.parentNode:l)){let d=n.dom.getBoundingClientRect();if(!dy(e,d)||(l=SC(n.dom,e,d),!l))return null}if(hn)for(let d=l;r&&d;d=Na(d))d.draggable&&(r=void 0);if(l=QP(l,e),r){if(gr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let d;Rc&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=eL(n,r,i,e))}c==null&&(c=ZP(n,l,e));let f=n.docView.nearestDesc(l,!0);return{pos:c,inside:f?f.posAtStart-f.border:-1}}function fw(n){return n.top<n.bottom||n.left<n.right}function Xi(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(fw(r))return r}return Array.prototype.find.call(t,fw)||n.getBoundingClientRect()}const nL=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function wC(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),l=Rc||gr;if(r.nodeType==3)if(l&&(nL.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let f=Xi(ci(r,i,i),t);if(gr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=Xi(ci(r,i-1,i-1),-1);if(d.top==f.top){let p=Xi(ci(r,i,i+1),-1);if(p.top!=f.top)return ql(p,p.left<d.left)}}return f}else{let f=i,d=i,p=t<0?1:-1;return t<0&&!i?(d++,p=-1):t>=0&&i==r.nodeValue.length?(f--,p=1):t<0?f--:d++,ql(Xi(ci(r,f,d),p),p<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==tr(r))){let f=r.childNodes[i-1];if(f.nodeType==1)return ym(f.getBoundingClientRect(),!1)}if(s==null&&i<tr(r)){let f=r.childNodes[i];if(f.nodeType==1)return ym(f.getBoundingClientRect(),!0)}return ym(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==tr(r))){let f=r.childNodes[i-1],d=f.nodeType==3?ci(f,tr(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(d)return ql(Xi(d,1),!1)}if(s==null&&i<tr(r)){let f=r.childNodes[i];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let d=f?f.nodeType==3?ci(f,0,l?0:1):f.nodeType==1?f:null:null;if(d)return ql(Xi(d,-1),!0)}return ql(Xi(r.nodeType==3?ci(r):r,-t),t>=0)}function ql(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function ym(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function EC(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function rL(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return EC(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(s,!0);if(!c)break;if(c.node.isBlock){s=c.contentDOM||c.dom;break}s=c.dom.parentNode}let l=wC(n,i.pos,1);for(let c=s.firstChild;c;c=c.nextSibling){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=ci(c,0,c.nodeValue.length).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.bottom>p.top+1&&(t=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const iL=/[\u0590-\u08ac]/;function oL(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,l=i==r.parent.content.size,c=n.domSelection();return c?!iL.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?s:l:EC(n,e,()=>{let{focusNode:f,focusOffset:d,anchorNode:p,anchorOffset:m}=n.domSelectionRange(),y=c.caretBidiLevel;c.modify("move",t,"character");let b=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:w}=n.domSelectionRange(),E=x&&!b.contains(x.nodeType==1?x:x.parentNode)||f==x&&d==w;try{c.collapse(p,m),f&&(f!=p||d!=m)&&c.extend&&c.extend(f,d)}catch{}return y!=null&&(c.caretBidiLevel=y),E}):r.pos==r.start()||r.pos==r.end()}let dw=null,hw=null,pw=!1;function sL(n,e,t){return dw==e&&hw==t?pw:(dw=e,hw=t,pw=t=="up"||t=="down"?rL(n,e,t):oL(n,e,t))}const rr=0,mw=1,es=2,zr=3;class Ac{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=rr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,l;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Zt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),l;if(s&&(!t||s.node))if(r&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let c=i.children[l];if(c.size){i=c;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let l=this.children[r],c=s+l.size;if(c>e||l instanceof MC){i=e-s;break}s=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof CC&&s.side>=0;r--);if(t<=0){let s,l=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,l=!1);return s&&t&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Zt(s.dom)+1:0}}else{let s,l=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Zt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let l=r,c=0;;c++){let f=this.children[c],d=l+f.size;if(i==-1&&e<=d){let p=l+f.border;if(e>=p&&t<=d-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,p);e=l;for(let m=c;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=Zt(y.dom)+1;break}e-=y.size}i==-1&&(i=0)}if(i>-1&&(d>t||c==this.children.length-1)){t=d;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=Zt(m.dom);break}t+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=d}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),l=Math.max(e,t);for(let b=0,x=0;b<this.children.length;b++){let w=this.children[b],E=x+w.size;if(s>x&&l<E)return w.setSelection(e-x-w.border,t-x-w.border,r,i);x=E}let c=this.domFromPos(e,e?-1:1),f=t==e?c:this.domFromPos(t,t?-1:1),d=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((gr||hn)&&e==t){let{node:b,offset:x}=c;if(b.nodeType==3){if(m=!!(x&&b.nodeValue[x-1]==`
`),m&&x==b.nodeValue.length)for(let w=b,E;w;w=w.parentNode){if(E=w.nextSibling){E.nodeName=="BR"&&(c=f={node:E.parentNode,offset:Zt(E)+1});break}let T=w.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let w=b.childNodes[x-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(gr&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let b=p.focusNode.childNodes[p.focusOffset];b&&b.contentEditable=="false"&&(i=!0)}if(!(i||m&&hn)&&fs(c.node,c.offset,p.anchorNode,p.anchorOffset)&&fs(f.node,f.offset,p.focusNode,p.focusOffset))return;let y=!1;if((d.extend||e==t)&&!m){d.collapse(c.node,c.offset);try{e!=t&&d.extend(f.node,f.offset),y=!0}catch{}}if(!y){if(e>t){let x=c;c=f,f=x}let b=document.createRange();b.setEnd(f.node,f.offset),b.setStart(c.node,c.offset),d.removeAllRanges(),d.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],l=r+s.size;if(r==l?e<=l&&t>=r:e<l&&t>r){let c=r+s.border,f=l-s.border;if(e>=c&&t<=f){this.dirty=e==r||t==l?es:mw,e==c&&t==f&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=zr:s.markDirty(e-c,t-c);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?es:zr}r=l}this.dirty=es}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?es:mw;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class CC extends Ac{constructor(e,t,r,i){let s,l=t.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==rr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class aL extends Ac{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ds extends Ac{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],l=s&&s(t,i,r);return(!l||!l.dom)&&(l=bs.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new ds(e,t,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&zr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=zr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=rr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=rr}}slice(e,t,r){let i=ds.create(this.parent,this.mark,!0,r),s=this.children,l=this.size;t<l&&(s=dg(s,t,l,r)),e>0&&(s=dg(s,0,e,r));for(let c=0;c<s.length;c++)s[c].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class lo extends Ac{constructor(e,t,r,i,s,l,c,f,d){super(e,[],s,l),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,t,r,i,s,l){let c=s.nodeViews[t.type.name],f,d=c&&c(t,s,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},r,i),p=d&&d.dom,m=d&&d.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=bs.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let y=p;return p=NC(p,r,t),d?f=new lL(e,t,r,i,p,m||null,y,d,s,l+1):t.isText?new yd(e,t,r,i,p,y,s):new lo(e,t,r,i,p,m||null,y,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ue.empty)}return e}matchesNode(e,t,r){return this.dirty==rr&&e.eq(this.node)&&zf(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,l=s&&s.pos>-1?s:null,c=s&&s.pos<0,f=new uL(this,l&&l.node,e);hL(this.node,this.innerDeco,(d,p,m)=>{d.spec.marks?f.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!m&&f.syncToMarks(p==this.node.childCount?pt.none:this.node.child(p).marks,r,e),f.placeWidget(d,e,i)},(d,p,m,y)=>{f.syncToMarks(d.marks,r,e);let b;f.findNodeMatch(d,p,m,y)||c&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(b=f.findIndexWithChild(s.node))>-1&&f.updateNodeAt(d,p,m,b,e)||f.updateNextNode(d,p,m,e,y,i)||f.addNode(d,p,m,e,i),i+=d.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==es)&&(l&&this.protectLocalComposition(e,l),TC(this.contentDOM,this.children,e),Ra&&pL(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof He)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,c=mL(this.node.content,l,r-t,i-t);return c<0?null:{node:s,pos:c,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new aL(this,s,t,i);e.input.compositionNodes.push(l),this.children=dg(this.children,r,r+i.length,e,l)}update(e,t,r,i){return this.dirty==zr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=rr}updateOuterDeco(e){if(zf(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=OC(this.dom,this.nodeDOM,fg(this.outerDeco,this.node,t),fg(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function gw(n,e,t,r,i){NC(r,e,n);let s=new lo(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class yd extends lo{constructor(e,t,r,i,s,l,c){super(e,t,r,i,s,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==zr||this.dirty!=rr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=rr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=rr,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new yd(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=zr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class MC extends Ac{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==rr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class lL extends lo{constructor(e,t,r,i,s,l,c,f,d,p){super(e,t,r,i,s,l,c,d,p),this.spec=f}update(e,t,r,i){if(this.dirty==zr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function TC(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let l=e[s],c=l.dom;if(c.parentNode==n){for(;c!=r;)r=yw(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(c,r);if(l instanceof ds){let f=r?r.previousSibling:n.lastChild;TC(l.contentDOM,l.children,t),r=f?f.nextSibling:n.firstChild}}for(;r;)r=yw(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const rc=function(n){n&&(this.nodeName=n)};rc.prototype=Object.create(null);const ts=[new rc];function fg(n,e,t){if(n.length==0)return ts;let r=t?ts[0]:new rc,i=[r];for(let s=0;s<n.length;s++){let l=n[s].type.attrs;if(l){l.nodeName&&i.push(r=new rc(l.nodeName));for(let c in l){let f=l[c];f!=null&&(t&&i.length==1&&i.push(r=new rc(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+f:c=="style"?r.style=(r.style?r.style+";":"")+f:c!="nodeName"&&(r[c]=f))}}}return i}function OC(n,e,t,r){if(t==ts&&r==ts)return e;let i=e;for(let s=0;s<r.length;s++){let l=r[s],c=t[s];if(s){let f;c&&c.nodeName==l.nodeName&&i!=n&&(f=i.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(i),c=ts[0]),i=f}cL(i,c||ts[0],l)}return i}function cL(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function NC(n,e,t){return OC(n,n,ts,fg(e,t,n.nodeType!=1))}function zf(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function yw(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class uL{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=fL(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;i<l&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=rr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let d=this.top.children[f];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){c=f;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let f=ds.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,t,r))s=this.top.children.indexOf(l,this.index);else for(let c=this.index,f=Math.min(this.top.children.length,c+5);c<f;c++){let d=this.top.children[c];if(d.matchesNode(e,t,r)&&!this.preMatch.matched.has(d)){s=c;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let l=this.top.children[i];return l.dirty==zr&&l.dom==l.contentDOM&&(l.dirty=es),l.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,l){for(let c=this.index;c<this.top.children.length;c++){let f=this.top.children[c];if(f instanceof lo){let d=this.preMatch.matched.get(f);if(d!=null&&d!=s)return!1;let p=f.dom,m,y=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=zr&&zf(t,f.outerDeco));if(!y&&f.update(e,t,r,i))return this.destroyBetween(this.index,c),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(f,e,t,r,i,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=es,m.updateChildren(i,l+1),m.dirty=rr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,l){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!zf(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=lo.create(this.top,t,r,i,s,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let f of c.children)f.parent=c}return e.destroy(),c}addNode(e,t,r,i,s){let l=lo.create(this.top,e,t,r,i,s);l.contentDOM&&l.updateChildren(i,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new CC(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ds;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof yd)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((hn||ln)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new MC(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function fL(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,l=[];e:for(;i>0;){let c;for(;;)if(r){let d=t.children[r-1];if(d instanceof ds)t=d,r=d.children.length;else{c=d,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let f=c.node;if(f){if(f!=n.child(i-1))break;--i,s.set(c,i),l.push(c)}}return{index:i,matched:s,matches:l.reverse()}}function dL(n,e){return n.type.side-e.type.side}function hL(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let d=0;d<n.childCount;d++){let p=n.child(d);r(p,i,e.forChild(s,p),d),s+=p.nodeSize}return}let l=0,c=[],f=null;for(let d=0;;){let p,m;for(;l<i.length&&i[l].to==s;){let E=i[l++];E.widget&&(p?(m||(m=[p])).push(E):p=E)}if(p)if(m){m.sort(dL);for(let E=0;E<m.length;E++)t(m[E],d,!!f)}else t(p,d,!!f);let y,b;if(f)b=-1,y=f,f=null;else if(d<n.childCount)b=d,y=n.child(d++);else break;for(let E=0;E<c.length;E++)c[E].to<=s&&c.splice(E--,1);for(;l<i.length&&i[l].from<=s&&i[l].to>s;)c.push(i[l++]);let x=s+y.nodeSize;if(y.isText){let E=x;l<i.length&&i[l].from<E&&(E=i[l].from);for(let T=0;T<c.length;T++)c[T].to<E&&(E=c[T].to);E<x&&(f=y.cut(E-s),y=y.cut(0,E-s),x=E,b=-1)}else for(;l<i.length&&i[l].to<x;)l++;let w=y.isInline&&!y.isLeaf?c.filter(E=>!E.inline):c.slice();r(y,w,e.forChild(s,y),b),s=x}}function pL(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function mL(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let l=n.child(i++),c=s;if(s+=l.nodeSize,!l.isText)continue;let f=l.text;for(;i<n.childCount;){let d=n.child(i++);if(s+=d.nodeSize,!d.isText)break;f+=d.text}if(s>=t){if(s>=r&&f.slice(r-e.length-c,r-c)==e)return r-e.length;let d=c<r?f.lastIndexOf(e,r-c-1):-1;if(d>=0&&d+e.length+c>=t)return c+d;if(t==r&&f.length>=r+e.length-c&&f.slice(r-c,r-c+e.length)==e)return r}}return-1}function dg(n,e,t,r,i){let s=[];for(let l=0,c=0;l<n.length;l++){let f=n[l],d=c,p=c+=f.size;d>=t||p<=e?s.push(f):(d<e&&s.push(f.slice(0,e-d,r)),i&&(s.push(i),i=void 0),p>t&&s.push(f.slice(t-d,f.size,r)))}return s}function hy(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,l=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(l<0)return null;let c=r.resolve(l),f,d;if(gd(t)){for(f=l;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&Pe.isSelectable(m)&&i.parent&&!(m.isInline&&HP(t.focusNode,t.focusOffset,i.dom))){let y=i.posBefore;d=new Pe(l==y?c:r.resolve(y))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=l,y=l;for(let b=0;b<t.rangeCount;b++){let x=t.getRangeAt(b);m=Math.min(m,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),y=Math.max(y,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(m<0)return null;[f,l]=y==n.state.selection.anchor?[y,m]:[m,y],c=r.resolve(l)}else f=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let p=r.resolve(f);if(!d){let m=e=="pointer"||n.state.selection.head<c.pos&&!s?1:-1;d=py(n,p,c,m)}return d}function RC(n){return n.editable?n.hasFocus():kC(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function hi(n,e=!1){let t=n.state.selection;if(AC(n,t),!!RC(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&ln){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&fs(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)yL(n);else{let{anchor:r,head:i}=t,s,l;vw&&!(t instanceof He)&&(t.$from.parent.inlineContent||(s=bw(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(l=bw(n,t.to))),n.docView.setSelection(r,i,n,e),vw&&(s&&xw(s),l&&xw(l)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&gL(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const vw=hn||ln&&yC<63;function bw(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(hn&&i&&i.contentEditable=="false")return vm(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return vm(i);if(s)return vm(s)}}function vm(n){return n.contentEditable="true",hn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function xw(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function gL(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!RC(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function yL(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,Zt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Cn&&ao<=11&&(r.disabled=!0,r.disabled=!1)}function AC(n,e){if(e instanceof Pe){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Sw(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Sw(n)}function Sw(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function py(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||He.between(e,t,r)}function ww(n){return n.editable&&!n.hasFocus()?!1:kC(n)}function kC(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function vL(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return fs(e.node,e.offset,t.anchorNode,t.anchorOffset)}function hg(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Qe.findFrom(s,e)}function Qi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Ew(n,e,t){let r=n.state.selection;if(r instanceof He)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Qi(n,new He(r.$anchor,l))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=hg(n.state,e);return i&&i instanceof Pe?Qi(n,i):!1}else if(!(er&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!s||s.isText)return!1;let c=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(l=n.docView.descAt(c))&&!l.contentDOM?Pe.isSelectable(s)?Qi(n,new Pe(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):Rc?Qi(n,new He(n.state.doc.resolve(e<0?c:c+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Pe&&r.node.isInline)return Qi(n,new He(e>0?r.$to:r.$from));{let i=hg(n.state,e);return i?Qi(n,i):!1}}}function _f(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ic(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function oa(n,e){return e<0?bL(n):xL(n)}function bL(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,l=!1;for(gr&&t.nodeType==1&&r<_f(t)&&ic(t.childNodes[r],-1)&&(l=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(ic(c,-1))i=t,s=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(DC(t))break;{let c=t.previousSibling;for(;c&&ic(c,-1);)i=t.parentNode,s=Zt(c),c=c.previousSibling;if(c)t=c,r=_f(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}l?pg(n,t,r):i&&pg(n,i,s)}function xL(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=_f(t),s,l;for(;;)if(r<i){if(t.nodeType!=1)break;let c=t.childNodes[r];if(ic(c,1))s=t,l=++r;else break}else{if(DC(t))break;{let c=t.nextSibling;for(;c&&ic(c,1);)s=c.parentNode,l=Zt(c)+1,c=c.nextSibling;if(c)t=c,r=0,i=_f(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&pg(n,s,l)}function DC(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function SL(n,e){for(;n&&e==n.childNodes.length&&!Nc(n);)e=Zt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function wL(n,e){for(;n&&!e&&!Nc(n);)e=Zt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function pg(n,e,t){if(e.nodeType!=3){let s,l;(l=SL(e,t))?(e=l,t=0):(s=wL(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(gd(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&hi(n)},50)}function Cw(n,e){let t=n.state.doc.resolve(e);if(!(ln||VP)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Mw(n,e,t){let r=n.state.selection;if(r instanceof He&&!r.empty||t.indexOf("s")>-1||er&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let l=hg(n.state,e);if(l&&l instanceof Pe)return Qi(n,l)}if(!i.parent.inlineContent){let l=e<0?i:s,c=r instanceof In?Qe.near(l,e):Qe.findFrom(l,e);return c?Qi(n,c):!1}return!1}function Tw(n,e){if(!(n.state.selection instanceof He))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let l=n.state.tr;return e<0?l.delete(t.pos-s.nodeSize,t.pos):l.delete(t.pos,t.pos+s.nodeSize),n.dispatch(l),!0}return!1}function Ow(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function EL(n){if(!hn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Ow(n,r,"true"),setTimeout(()=>Ow(n,r,"false"),20)}return!1}function CL(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function ML(n,e){let t=e.keyCode,r=CL(e);if(t==8||er&&t==72&&r=="c")return Tw(n,-1)||oa(n,-1);if(t==46&&!e.shiftKey||er&&t==68&&r=="c")return Tw(n,1)||oa(n,1);if(t==13||t==27)return!0;if(t==37||er&&t==66&&r=="c"){let i=t==37?Cw(n,n.state.selection.from)=="ltr"?-1:1:-1;return Ew(n,i,r)||oa(n,i)}else if(t==39||er&&t==70&&r=="c"){let i=t==39?Cw(n,n.state.selection.from)=="ltr"?1:-1:1;return Ew(n,i,r)||oa(n,i)}else{if(t==38||er&&t==80&&r=="c")return Mw(n,-1,r)||oa(n,-1);if(t==40||er&&t==78&&r=="c")return EL(n)||Mw(n,1,r)||oa(n,1);if(r==(er?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function my(n,e){n.someProp("transformCopied",b=>{e=b(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let b=r.firstChild;t.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let l=n.someProp("clipboardSerializer")||bs.fromSchema(n.state.schema),c=IC(),f=c.createElement("div");f.appendChild(l.serializeFragment(r,{document:c}));let d=f.firstChild,p,m=0;for(;d&&d.nodeType==1&&(p=jC[d.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let x=c.createElement(p[b]);for(;f.firstChild;)x.appendChild(f.firstChild);f.appendChild(x),m++}d=f.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(t)}`);let y=n.someProp("clipboardTextSerializer",b=>b(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:y,slice:e}}function PC(n,e,t,r,i){let s=i.parent.type.spec.code,l,c;if(!t&&!e)return null;let f=e&&(r||s||!t);if(f){if(n.someProp("transformPastedText",y=>{e=y(e,s||r,n)}),s)return e?new ve(ue.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ve.empty;let m=n.someProp("clipboardTextParser",y=>y(e,i,r,n));if(m)c=m;else{let y=i.marks(),{schema:b}=n.state,x=bs.fromSchema(b);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let E=l.appendChild(document.createElement("p"));w&&E.appendChild(x.serializeNode(b.text(w,y)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),l=RL(t),Rc&&AL(l);let d=l&&l.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=l.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;l=y}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||so.fromSchema(n.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||p),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!TL.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)c=kL(Nw(c,+p[1],+p[2]),p[4]);else if(c=ve.maxOpen(OL(c.content,i),!0),c.openStart||c.openEnd){let m=0,y=0;for(let b=c.content.firstChild;m<c.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=c.content.lastChild;y<c.openEnd&&!b.type.spec.isolating;y++,b=b.lastChild);c=Nw(c,m,y)}return n.someProp("transformPasted",m=>{c=m(c,n)}),c}const TL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function OL(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,l=[];if(n.forEach(c=>{if(!l)return;let f=i.findWrapping(c.type),d;if(!f)return l=null;if(d=l.length&&s.length&&zC(f,s,c,l[l.length-1],0))l[l.length-1]=d;else{l.length&&(l[l.length-1]=_C(l[l.length-1],s.length));let p=LC(c,f);l.push(p),i=i.matchType(p.type),s=f}}),l)return ue.from(l)}return n}function LC(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ue.from(n));return n}function zC(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=zC(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(ue.from(LC(t,n,i+1))))}}function _C(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,_C(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ue.empty,!0);return n.copy(t.append(r))}function mg(n,e,t,r,i,s){let l=e<0?n.firstChild:n.lastChild,c=l.content;return n.childCount>1&&(s=0),i<r-1&&(c=mg(c,e,t,r,i+1,s)),i>=t&&(c=e<0?l.contentMatchAt(0).fillBefore(c,s<=i).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(ue.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,l.copy(c))}function Nw(n,e,t){return e<n.openStart&&(n=new ve(mg(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ve(mg(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const jC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Rw=null;function IC(){return Rw||(Rw=document.implementation.createHTMLDocument("title"))}let bm=null;function NL(n){let e=window.trustedTypes;return e?(bm||(bm=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),bm.createHTML(n)):n}function RL(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=IC().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&jC[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=NL(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function AL(n){let e=n.querySelectorAll(ln?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function kL(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:l}=n;for(let c=r.length-2;c>=0;c-=2){let f=t.nodes[r[c]];if(!f||f.hasRequiredAttrs())break;i=ue.from(f.create(r[c+1],i)),s++,l++}return new ve(i,s,l)}const pn={},mn={},DL={touchstart:!0,touchmove:!0};class PL{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function LL(n){for(let e in pn){let t=pn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{_L(n,r)&&!gy(n,r)&&(n.editable||!(r.type in mn))&&t(n,r)},DL[e]?{passive:!0}:void 0)}hn&&n.dom.addEventListener("input",()=>null),gg(n)}function io(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function zL(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function gg(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>gy(n,r))})}function gy(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function _L(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function jL(n,e){!gy(n,e)&&pn[e.type]&&(n.editable||!(e.type in mn))&&pn[e.type](n,e)}mn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!$C(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(ui&&ln&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Ra&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Xo(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||ML(n,t)?t.preventDefault():io(n,"key")};mn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};mn.keypress=(n,e)=>{let t=e;if($C(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||er&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof He)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function vd(n){return{left:n.clientX,top:n.clientY}}function IL(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function yy(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let l=s.depth+1;l>0;l--)if(n.someProp(e,c=>l>s.depth?c(n,t,s.nodeAfter,s.before(l),i,!0):c(n,t,s.node(l),s.before(l),i,!1)))return!0;return!1}function Ea(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function BL(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Pe.isSelectable(r)?(Ea(n,new Pe(t)),!0):!1}function $L(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Pe&&(r=t.node);let s=n.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let c=l>s.depth?s.nodeAfter:s.node(l);if(Pe.isSelectable(c)){r&&t.$from.depth>0&&l>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(l);break}}return i!=null?(Ea(n,Pe.create(n.state.doc,i)),!0):!1}function HL(n,e,t,r,i){return yy(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?$L(n,t):BL(n,t))}function UL(n,e,t,r){return yy(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function FL(n,e,t,r){return yy(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||VL(n,t,r)}function VL(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ea(n,He.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s),c=i.before(s);if(l.inlineContent)Ea(n,He.create(r,c+1,c+1+l.content.size));else if(Pe.isSelectable(l))Ea(n,Pe.create(r,c));else continue;return!0}}function vy(n){return jf(n)}const BC=er?"metaKey":"ctrlKey";pn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=vy(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&IL(t,n.input.lastClick)&&!t[BC]&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s};let l=n.posAtCoords(vd(t));l&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new qL(n,l,t,!!r)):(s=="doubleClick"?UL:FL)(n,l.pos,l.inside,t)?t.preventDefault():io(n,"pointer"))};class qL{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[BC],this.allowDefault=r.shiftKey;let s,l;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),l=t.inside;else{let p=e.state.doc.resolve(t.pos);s=p.parent,l=p.depth?p.before():0}const c=i?null:r.target,f=c?e.docView.nearestDesc(c,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof Pe&&d.from<=l&&d.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),io(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>hi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(vd(e))),this.updateAllowDefault(e),this.allowDefault||!t?io(this.view,"pointer"):HL(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||hn&&this.mightDrag&&!this.mightDrag.node.isAtom||ln&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ea(this.view,Qe.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):io(this.view,"pointer")}move(e){this.updateAllowDefault(e),io(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}pn.touchstart=n=>{n.input.lastTouch=Date.now(),vy(n),io(n,"pointer")};pn.touchmove=n=>{n.input.lastTouch=Date.now(),io(n,"pointer")};pn.contextmenu=n=>vy(n);function $C(n,e){return n.composing?!0:hn&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const YL=ui?5e3:-1;mn.compositionstart=mn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof He&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),jf(n,!0),n.markCursor=null;else if(jf(n,!e.selection.empty),gr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let l=s<0?i.lastChild:i.childNodes[s-1];if(!l)break;if(l.nodeType==3){let c=n.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else i=l,s=-1}}n.input.composing=!0}HC(n,YL)};mn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,HC(n,20))};function HC(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>jf(n),e))}function UC(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=GL());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function KL(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=BP(e.focusNode,e.focusOffset),r=$P(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let l=t.pmViewDesc;if(!(!l||!l.isText(t.nodeValue)))return r}}return t||r}function GL(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function jf(n,e=!1){if(!(ui&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),UC(n),e||n.docView&&n.docView.dirty){let t=hy(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function WL(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const dc=Cn&&ao<15||Ra&&qP<604;pn.copy=mn.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=dc?null:t.clipboardData,l=r.content(),{dom:c,text:f}=my(n,l);s?(t.preventDefault(),s.clearData(),s.setData("text/html",c.innerHTML),s.setData("text/plain",f)):WL(n,c),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function XL(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function JL(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?hc(n,r.value,null,i,e):hc(n,r.textContent,r.innerHTML,i,e)},50)}function hc(n,e,t,r,i){let s=PC(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,i,s||ve.empty)))return!0;if(!s)return!1;let l=XL(s),c=l?n.state.tr.replaceSelectionWith(l,r):n.state.tr.replaceSelection(s);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function FC(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}mn.paste=(n,e)=>{let t=e;if(n.composing&&!ui)return;let r=dc?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&hc(n,FC(r),r.getData("text/html"),i,t)?t.preventDefault():JL(n,t)};class VC{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const QL=er?"altKey":"ctrlKey";function qC(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[QL]}pn.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(vd(t)),l;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Pe?i.to-1:i.to))){if(r&&r.mightDrag)l=Pe.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=n.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=n.docView&&(l=Pe.create(n.state.doc,m.posBefore))}}let c=(l||n.state.selection).content(),{dom:f,text:d,slice:p}=my(n,c);(!t.dataTransfer.files.length||!ln||yC>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(dc?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",dc||t.dataTransfer.setData("text/plain",d),n.dragging=new VC(p,qC(n,t),l)};pn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};mn.dragover=mn.dragenter=(n,e)=>e.preventDefault();mn.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(vd(t));if(!i)return;let s=n.state.doc.resolve(i.pos),l=r&&r.slice;l?n.someProp("transformPasted",x=>{l=x(l,n)}):l=PC(n,FC(t.dataTransfer),dc?null:t.dataTransfer.getData("text/html"),!1,s);let c=!!(r&&qC(n,t));if(n.someProp("handleDrop",x=>x(n,t,l||ve.empty,c))){t.preventDefault();return}if(!l)return;t.preventDefault();let f=l?MP(n.state.doc,s.pos,l):s.pos;f==null&&(f=s.pos);let d=n.state.tr;if(c){let{node:x}=r;x?x.replace(d):d.deleteSelection()}let p=d.mapping.map(f),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,y=d.doc;if(m?d.replaceRangeWith(p,p,l.content.firstChild):d.replaceRange(p,p,l),d.doc.eq(y))return;let b=d.doc.resolve(p);if(m&&Pe.isSelectable(l.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new Pe(b));else{let x=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach((w,E,T,N)=>x=N),d.setSelection(py(n,b,d.doc.resolve(x)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))};pn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&hi(n)},20))};pn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};pn.beforeinput=(n,e)=>{if(ln&&ui&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,Xo(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in mn)pn[n]=mn[n];function pc(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class If{constructor(e,t){this.toDOM=e,this.spec=t||ss,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:l}=e.mapResult(t.from+i,this.side<0?-1:1);return l?null:new nr(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof If&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&pc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class co{constructor(e,t){this.attrs=e,this.spec=t||ss}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=l?null:new nr(s,l,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof co&&pc(this.attrs,e.attrs)&&pc(this.spec,e.spec)}static is(e){return e.type instanceof co}destroy(){}}class by{constructor(e,t){this.attrs=e,this.spec=t||ss}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let l=e.mapResult(t.to+i,-1);return l.deleted||l.pos<=s.pos?null:new nr(s.pos-r,l.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof by&&pc(this.attrs,e.attrs)&&pc(this.spec,e.spec)}destroy(){}}class nr{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new nr(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new nr(e,e,new If(t,r))}static inline(e,t,r,i){return new nr(e,t,new co(r,i))}static node(e,t,r,i){return new nr(e,t,new by(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof co}get widget(){return this.type instanceof If}}const ma=[],ss={};class Ot{constructor(e,t){this.local=e.length?e:ma,this.children=t.length?t:ma}static create(e,t){return t.length?Bf(t,e,0,ss):an}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=t&&c.to>=e&&(!s||s(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,t-c,r,i+c,s)}}map(e,t,r){return this==an||e.maps.length==0?this:this.mapInner(e,t,0,0,r||ss)}mapInner(e,t,r,i,s){let l;for(let c=0;c<this.local.length;c++){let f=this.local[c].map(e,r,i);f&&f.type.valid(t,f)?(l||(l=[])).push(f):s.onRemove&&s.onRemove(this.local[c].spec)}return this.children.length?ZL(this.children,l||[],e,t,r,i,s):l?new Ot(l.sort(as),ma):an}add(e,t){return t.length?this==an?Ot.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((c,f)=>{let d=f+r,p;if(p=KC(t,c,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<f;)s+=3;i[s]==f?i[s+2]=i[s+2].addInner(c,p,d+1):i.splice(s,0,f,f+c.nodeSize,Bf(p,c,d+1,ss)),s+=3}});let l=YC(s?GC(t):t,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new Ot(l.length?this.local.concat(l).sort(as):this.local,i||this.children)}remove(e){return e.length==0||this==an?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let l,c=r[s]+t,f=r[s+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<f&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(l,c+1);d!=an?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let c=0;c<i.length;c++)i[c].eq(l,t)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ot(i,r):an}forChild(e,t){if(this==an)return this;if(t.isLeaf)return Ot.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let s=e+1,l=s+t.content.size;for(let c=0;c<this.local.length;c++){let f=this.local[c];if(f.from<l&&f.to>s&&f.type instanceof co){let d=Math.max(s,f.from)-s,p=Math.min(l,f.to)-s;d<p&&(i||(i=[])).push(f.copy(d,p))}}if(i){let c=new Ot(i.sort(as),ma);return r?new to([c,r]):c}return r||an}eq(e){if(this==e)return!0;if(!(e instanceof Ot)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return xy(this.localsInner(e))}localsInner(e){if(this==an)return ma;if(e.inlineContent||!this.local.some(co.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof co||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Ot.empty=new Ot([],[]);Ot.removeOverlap=xy;const an=Ot.empty;class to{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,ss));return to.from(r)}forChild(e,t){if(t.isLeaf)return Ot.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=an&&(s instanceof to?r=r.concat(s.members):r.push(s))}return to.from(r)}eq(e){if(!(e instanceof to)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let l=0;l<s.length;l++)t.push(s[l])}}return t?xy(r?t:t.sort(as)):ma}static from(e){switch(e.length){case 0:return an;case 1:return e[0];default:return new to(e.every(t=>t instanceof Ot)?e:e.reduce((t,r)=>t.concat(r instanceof Ot?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function ZL(n,e,t,r,i,s,l){let c=n.slice();for(let d=0,p=s;d<t.maps.length;d++){let m=0;t.maps[d].forEach((y,b,x,w)=>{let E=w-x-(b-y);for(let T=0;T<c.length;T+=3){let N=c[T+1];if(N<0||y>N+p-m)continue;let A=c[T]+p-m;b>=A?c[T+1]=y<=A?-2:-1:y>=p&&E&&(c[T]+=E,c[T+1]+=E)}m+=E}),p=t.maps[d].map(p,-1)}let f=!1;for(let d=0;d<c.length;d+=3)if(c[d+1]<0){if(c[d+1]==-2){f=!0,c[d+1]=-1;continue}let p=t.map(n[d]+s),m=p-i;if(m<0||m>=r.content.size){f=!0;continue}let y=t.map(n[d+1]+s,-1),b=y-i,{index:x,offset:w}=r.content.findIndex(m),E=r.maybeChild(x);if(E&&w==m&&w+E.nodeSize==b){let T=c[d+2].mapInner(t,E,p+1,n[d]+s+1,l);T!=an?(c[d]=m,c[d+1]=b,c[d+2]=T):(c[d+1]=-2,f=!0)}else f=!0}if(f){let d=ez(c,n,e,t,i,s,l),p=Bf(d,r,0,l);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let b=p.children[m];for(;y<c.length&&c[y]<b;)y+=3;c.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new Ot(e.sort(as),c)}function YC(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new nr(i.from+e,i.to+e,i.type))}return t}function ez(n,e,t,r,i,s,l){function c(f,d){for(let p=0;p<f.local.length;p++){let m=f.local[p].map(r,i,d);m?t.push(m):l.onRemove&&l.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)c(f.children[p+2],f.children[p]+d+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&c(n[f+2],e[f]+s+1);return t}function KC(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,l;s<n.length;s++)(l=n[s])&&l.from>t&&l.to<r&&((i||(i=[])).push(l),n[s]=null);return i}function GC(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Bf(n,e,t,r){let i=[],s=!1;e.forEach((c,f)=>{let d=KC(n,c,f+t);if(d){s=!0;let p=Bf(d,c,t+f+1,r);p!=an&&i.push(f,f+c.nodeSize,p)}});let l=YC(s?GC(n):n,-t).sort(as);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||i.length?new Ot(l,i):an}function as(n,e){return n.from-e.from||n.to-e.to}function xy(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),Aw(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),Aw(e,i,r.copy(s.from,r.to)));break}}}return e}function Aw(n,e,t){for(;e<n.length&&as(t,n[e])>0;)e++;n.splice(e,0,t)}function xm(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=an&&e.push(r)}),n.cursorWrapper&&e.push(Ot.create(n.state.doc,[n.cursorWrapper.deco])),to.from(e)}const tz={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},nz=Cn&&ao<=11;class rz{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class iz{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new rz,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Cn&&ao<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),nz&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,tz)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ww(this.view)){if(this.suppressingSelectionUpdates)return hi(this.view);if(Cn&&ao<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&fs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Na(s))t.add(s);for(let s=e.anchorNode;s;s=Na(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&ww(e)&&!this.ignoreSelectionChange(r),s=-1,l=-1,c=!1,f=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],f);m&&(s=s<0?m.from:Math.min(m.from,s),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(c=!0))}if(gr&&f.length){let p=f.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,y]=p;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of p){let b=y.parentNode;b&&b.nodeName=="LI"&&(!m||az(e,m)!=b)&&y.remove()}}}let d=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&gd(r)&&(d=hy(e))&&d.eq(Qe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,hi(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,l),oz(e)),this.handleDOMChange(s,l,c,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||hi(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Cn&&ao<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y)}let l=i&&i.parentNode==e.target?Zt(i)+1:0,c=r.localPosFromDOM(e.target,l,-1),f=s&&s.parentNode==e.target?Zt(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,f,1);return{from:c,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let kw=new WeakMap,Dw=!1;function oz(n){if(!kw.has(n)&&(kw.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=gr,Dw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Dw=!0}}function Pw(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,l=n.domAtPos(n.state.selection.anchor);return fs(l.node,l.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function sz(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return Pw(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Pw(n,t):null}function az(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function lz(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:l,to:c}=n.docView.parseRange(e,t),f=n.domSelectionRange(),d,p=f.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:f.anchorOffset}],gd(f)||d.push({node:f.focusNode,offset:f.focusOffset})),ln&&n.input.lastKeyCode===8)for(let E=s;E>i;E--){let T=r.childNodes[E-1],N=T.pmViewDesc;if(T.nodeName=="BR"&&!N){s=E;break}if(!N||N.size)break}let m=n.state.doc,y=n.someProp("domParser")||so.fromSchema(n.state.schema),b=m.resolve(l),x=null,w=y.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:s,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:cz,context:b});if(d&&d[0].pos!=null){let E=d[0].pos,T=d[1]&&d[1].pos;T==null&&(T=E),x={anchor:E+l,head:T+l}}return{doc:w,sel:x,from:l,to:c}}function cz(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(hn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||hn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const uz=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function fz(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let q=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,ie=hy(n,q);if(ie&&!n.state.selection.eq(ie)){if(ln&&ui&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",me=>me(n,Xo(13,"Enter"))))return;let ce=n.state.tr.setSelection(ie);q=="pointer"?ce.setMeta("pointer",!0):q=="key"&&ce.scrollIntoView(),s&&ce.setMeta("composition",s),n.dispatch(ce)}return}let l=n.state.doc.resolve(e),c=l.sharedDepth(t);e=l.before(c+1),t=n.state.doc.resolve(t).after(c+1);let f=n.state.selection,d=lz(n,e,t),p=n.state.doc,m=p.slice(d.from,d.to),y,b;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(y=n.state.selection.to,b="end"):(y=n.state.selection.from,b="start"),n.input.lastKeyCode=null;let x=pz(m.content,d.doc.content,d.from,y,b);if(x&&n.input.domChangeCount++,(Ra&&n.input.lastIOSEnter>Date.now()-225||ui)&&i.some(q=>q.nodeType==1&&!uz.test(q.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",q=>q(n,Xo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&f instanceof He&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))x={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let q=Lw(n,n.state.doc,d.sel);if(q&&!q.eq(n.state.selection)){let ie=n.state.tr.setSelection(q);s&&ie.setMeta("composition",s),n.dispatch(ie)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof He&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=d.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=d.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),Cn&&ao<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>d.from&&d.doc.textBetween(x.start-d.from-1,x.start-d.from+1)==" "&&(x.start--,x.endA--,x.endB--);let w=d.doc.resolveNoCache(x.start-d.from),E=d.doc.resolveNoCache(x.endB-d.from),T=p.resolve(x.start),N=w.sameParent(E)&&w.parent.inlineContent&&T.end()>=x.endA,A;if((Ra&&n.input.lastIOSEnter>Date.now()-225&&(!N||i.some(q=>q.nodeName=="DIV"||q.nodeName=="P"))||!N&&w.pos<d.doc.content.size&&(!w.sameParent(E)||!w.parent.inlineContent)&&(A=Qe.findFrom(d.doc.resolve(w.pos+1),1,!0))&&A.head>w.pos)&&n.someProp("handleKeyDown",q=>q(n,Xo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&hz(p,x.start,x.endA,w,E)&&n.someProp("handleKeyDown",q=>q(n,Xo(8,"Backspace")))){ui&&ln&&n.domObserver.suppressSelectionUpdates();return}ln&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),ui&&!N&&w.start()!=E.start()&&E.parentOffset==0&&w.depth==E.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==x.endA&&(x.endB-=2,E=d.doc.resolveNoCache(x.endB-d.from),setTimeout(()=>{n.someProp("handleKeyDown",function(q){return q(n,Xo(13,"Enter"))})},20));let L=x.start,z=x.endA,R,D,j;if(N){if(w.pos==E.pos)Cn&&ao<=11&&w.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>hi(n),20)),R=n.state.tr.delete(L,z),D=p.resolve(x.start).marksAcross(p.resolve(x.endA));else if(x.endA==x.endB&&(j=dz(w.parent.content.cut(w.parentOffset,E.parentOffset),T.parent.content.cut(T.parentOffset,x.endA-T.start()))))R=n.state.tr,j.type=="add"?R.addMark(L,z,j.mark):R.removeMark(L,z,j.mark);else if(w.parent.child(w.index()).isText&&w.index()==E.index()-(E.textOffset?0:1)){let q=w.parent.textBetween(w.parentOffset,E.parentOffset);if(n.someProp("handleTextInput",ie=>ie(n,L,z,q)))return;R=n.state.tr.insertText(q,L,z)}}if(R||(R=n.state.tr.replace(L,z,d.doc.slice(x.start-d.from,x.endB-d.from))),d.sel){let q=Lw(n,R.doc,d.sel);q&&!(ln&&n.composing&&q.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(q.head==L||q.head==R.mapping.map(z)-1)||Cn&&q.empty&&q.head==L)&&R.setSelection(q)}D&&R.ensureMarks(D),s&&R.setMeta("composition",s),n.dispatch(R.scrollIntoView())}function Lw(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:py(n,e.resolve(t.anchor),e.resolve(t.head))}function dz(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,l,c,f;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<t.length;p++)s=t[p].removeFromSet(s);if(i.length==1&&s.length==0)c=i[0],l="add",f=p=>p.mark(c.addToSet(p.marks));else if(i.length==0&&s.length==1)c=s[0],l="remove",f=p=>p.mark(c.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(f(e.child(p)));if(ue.from(d).eq(n))return{mark:c,type:l}}function hz(n,e,t,r,i){if(t-e<=i.pos-r.pos||Sm(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let c=s.nodeAfter;return c!=null&&t==e+c.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=n.resolve(Sm(s,!0,!0));return!l.parent.isTextblock||l.pos>t||Sm(l,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Sm(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function pz(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:l,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let f=Math.max(0,s-Math.min(l,c));r-=l+f-s}if(l<s&&n.size<e.size){let f=r<=s&&r>=l?s-r:0;s-=f,s&&s<e.size&&zw(e.textBetween(s-1,s+1))&&(s+=f?1:-1),c=s+(c-l),l=s}else if(c<s){let f=r<=s&&r>=c?s-r:0;s-=f,s&&s<n.size&&zw(n.textBetween(s-1,s+1))&&(s+=f?1:-1),l=s+(l-c),c=s}return{start:s,endA:l,endB:c}}function zw(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class mz{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new PL,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach($w),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Iw(this),jw(this),this.nodeViews=Bw(this),this.docView=gw(this.state.doc,_w(this),xm(this),this.dom,this),this.domObserver=new iz(this,(r,i,s,l)=>fz(this,r,i,s,l)),this.domObserver.start(),LL(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&gg(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach($w),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(UC(this),l=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let b=Bw(this);yz(b,this.nodeViews)&&(this.nodeViews=b,s=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&gg(this),this.editable=Iw(this),jw(this);let f=xm(this),d=_w(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,d,f);(m||!e.selection.eq(i.selection))&&(l=!0);let y=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&GP(this);if(l){this.domObserver.stop();let b=m&&(Cn||ln)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&gz(i.selection,e.selection);if(m){let x=ln?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=KL(this)),(s||!this.docView.update(e.doc,d,f,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=gw(e.doc,d,f,this.dom,this)),x&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&vL(this))?hi(this,b):(AC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&WP(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Pe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&uw(this,t.getBoundingClientRect(),e)}else uw(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new VC(e.slice,e.move,i<0?void 0:Pe.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(i=t?t(c):c))return i}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let c=s[l].props[e];if(c!=null&&(i=t?t(c):c))return i}}hasFocus(){if(Cn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&XP(this.dom),hi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return tL(this,e)}coordsAtPos(e,t=1){return wC(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return sL(this,t||this.state,e)}pasteHTML(e,t){return hc(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return hc(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return my(this,e)}destroy(){this.docView&&(zL(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],xm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,jP())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return jL(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?hn&&this.root.nodeType===11&&UP(this.dom.ownerDocument)==this.dom&&sz(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function _w(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[nr.node(0,n.state.doc.content.size,e)]}function jw(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:nr.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Iw(n){return!n.someProp("editable",e=>e(n.state)===!1)}function gz(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Bw(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function yz(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function $w(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var fo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},$f={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},vz=typeof navigator<"u"&&/Mac/.test(navigator.platform),bz=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var en=0;en<10;en++)fo[48+en]=fo[96+en]=String(en);for(var en=1;en<=24;en++)fo[en+111]="F"+en;for(var en=65;en<=90;en++)fo[en]=String.fromCharCode(en+32),$f[en]=String.fromCharCode(en);for(var wm in fo)$f.hasOwnProperty(wm)||($f[wm]=fo[wm]);function xz(n){var e=vz&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||bz&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?$f:fo)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Sz=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function wz(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,l;for(let c=0;c<e.length-1;c++){let f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))Sz?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),l&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function Ez(n){let e=Object.create(null);for(let t in n)e[wz(t)]=n[t];return e}function Em(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Cz(n){return new sr({props:{handleKeyDown:Mz(n)}})}function Mz(n){let e=Ez(n);return function(t,r){let i=xz(r),s,l=e[Em(i,r)];if(l&&l(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[Em(i,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=fo[r.keyCode])&&s!=i){let c=e[Em(s,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const Sy=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function WC(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const XC=(n,e,t)=>{let r=WC(n,t);if(!r)return!1;let i=wy(r);if(!i){let l=r.blockRange(),c=l&&za(l);return c==null?!1:(e&&e(n.tr.lift(l,c).scrollIntoView()),!0)}let s=i.nodeBefore;if(oM(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Aa(s,"end")||Pe.isSelectable(s)))for(let l=r.depth;;l--){let c=pd(n.doc,r.before(l),r.after(l),ve.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=n.tr.step(c);f.setSelection(Aa(s,"end")?Qe.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):Pe.create(f.doc,i.pos-s.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Tz=(n,e,t)=>{let r=WC(n,t);if(!r)return!1;let i=wy(r);return i?JC(n,i,e):!1},Oz=(n,e,t)=>{let r=ZC(n,t);if(!r)return!1;let i=Ey(r);return i?JC(n,i,e):!1};function JC(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let l=e.nodeAfter,c=l,f=e.pos+1;for(;!c.isTextblock;f++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let d=pd(n.doc,s,f,ve.empty);if(!d||d.from!=s||d instanceof Vt&&d.slice.size>=f-s)return!1;if(t){let p=n.tr.step(d);p.setSelection(He.create(p.doc,s)),t(p.scrollIntoView())}return!0}function Aa(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const QC=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=wy(r)}let l=s&&s.nodeBefore;return!l||!Pe.isSelectable(l)?!1:(e&&e(n.tr.setSelection(Pe.create(n.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function wy(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function ZC(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const eM=(n,e,t)=>{let r=ZC(n,t);if(!r)return!1;let i=Ey(r);if(!i)return!1;let s=i.nodeAfter;if(oM(n,i,e,1))return!0;if(r.parent.content.size==0&&(Aa(s,"start")||Pe.isSelectable(s))){let l=pd(n.doc,r.before(),r.after(),ve.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=n.tr.step(l);c.setSelection(Aa(s,"start")?Qe.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):Pe.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},tM=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Ey(r)}let l=s&&s.nodeAfter;return!l||!Pe.isSelectable(l)?!1:(e&&e(n.tr.setSelection(Pe.create(n.doc,s.pos)).scrollIntoView()),!0)};function Ey(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const Nz=(n,e)=>{let t=n.selection,r=t instanceof Pe,i;if(r){if(t.node.isTextblock||!bo(n.doc,t.from))return!1;i=t.from}else if(i=hd(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(Pe.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Rz=(n,e)=>{let t=n.selection,r;if(t instanceof Pe){if(t.node.isTextblock||!bo(n.doc,t.to))return!1;r=t.to}else if(r=hd(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},Az=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&za(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},nM=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Cy(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const kz=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),l=Cy(i.contentMatchAt(s));if(!l||!i.canReplaceWith(s,s,l))return!1;if(e){let c=t.after(),f=n.tr.replaceWith(c,c,l.createAndFill());f.setSelection(Qe.near(f.doc.resolve(c),1)),e(f.scrollIntoView())}return!0},rM=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof In||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Cy(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=n.tr.insert(l,s.createAndFill());c.setSelection(He.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},iM=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(di(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&za(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function Dz(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Pe&&e.selection.node.isBlock)return!r.parentOffset||!di(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],l,c,f=!1,d=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){f=r.end(b)==r.pos+(r.depth-b),d=r.start(b)==r.pos-(r.depth-b),c=Cy(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),s.unshift(f&&c?{type:c}:null),l=b;break}else{if(b==1)return!1;s.unshift(null)}let p=e.tr;(e.selection instanceof He||e.selection instanceof In)&&p.deleteSelection();let m=p.mapping.map(r.pos),y=di(p.doc,m,s.length,s);if(y||(s[0]=c?{type:c}:null,y=di(p.doc,m,s.length,s)),!y)return!1;if(p.split(m,s.length,s),!f&&d&&r.node(l).type!=c){let b=p.mapping.map(r.before(l)),x=p.doc.resolve(b);c&&r.node(l-1).canReplaceWith(x.index(),x.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(l)),c)}return t&&t(p.scrollIntoView()),!0}}const Pz=Dz(),Lz=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(Pe.create(n.doc,i))),!0)};function zz(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||bo(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function oM(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,l,c,f=i.type.spec.isolating||s.type.spec.isolating;if(!f&&zz(n,e,t))return!0;let d=!f&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(l=(c=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&c.matchType(l[0]||s.type).validEnd){if(t){let b=e.pos+s.nodeSize,x=ue.empty;for(let T=l.length-1;T>=0;T--)x=ue.from(l[T].create(null,x));x=ue.from(i.copy(x));let w=n.tr.step(new qt(e.pos-1,b,e.pos,b,new ve(x,1,0),l.length,!0)),E=w.doc.resolve(b+2*l.length);E.nodeAfter&&E.nodeAfter.type==i.type&&bo(w.doc,E.pos)&&w.join(E.pos),t(w.scrollIntoView())}return!0}let p=s.type.spec.isolating||r>0&&f?null:Qe.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),y=m&&za(m);if(y!=null&&y>=e.depth)return t&&t(n.tr.lift(m,y).scrollIntoView()),!0;if(d&&Aa(s,"start",!0)&&Aa(i,"end")){let b=i,x=[];for(;x.push(b),!b.isTextblock;)b=b.lastChild;let w=s,E=1;for(;!w.isTextblock;w=w.firstChild)E++;if(b.canReplace(b.childCount,b.childCount,w.content)){if(t){let T=ue.empty;for(let A=x.length-1;A>=0;A--)T=ue.from(x[A].copy(T));let N=n.tr.step(new qt(e.pos-x.length,e.pos+s.nodeSize,e.pos+E,e.pos+s.nodeSize-E,new ve(T,x.length,0),0,!0));t(N.scrollIntoView())}return!0}}return!1}function sM(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(He.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const _z=sM(-1),jz=sM(1);function Iz(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,l=i.blockRange(s),c=l&&uy(l,n,e);return c?(r&&r(t.tr.wrap(l,c).scrollIntoView()),!0):!1}}function Hw(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:l},$to:{pos:c}}=t.selection.ranges[s];t.doc.nodesBetween(l,c,(f,d)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(n,e)))if(f.type==n)i=!0;else{let p=t.doc.resolve(d),m=p.index();i=p.parent.canReplaceWith(m,m+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let l=0;l<t.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:f}}=t.selection.ranges[l];s.setBlockType(c,f,n,e)}r(s.scrollIntoView())}return!0}}function My(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}My(Sy,XC,QC);My(Sy,eM,tM);My(nM,rM,iM,Pz);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Bz(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,l=i.blockRange(s);if(!l)return!1;let c=r?t.tr:null;return $z(c,l,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function $z(n,e,t,r=null){let i=!1,s=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);s=new Pf(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Pf(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=uy(s,t,r,e);return c?(n&&Hz(n,e,c,i,t),!0):!1}function Hz(n,e,t,r,i){let s=ue.empty;for(let p=t.length-1;p>=0;p--)s=ue.from(t[p].type.create(t[p].attrs,s));n.step(new qt(e.start-(r?2:0),e.end,e.start,e.end,new ve(s,0,0),t.length,!0));let l=0;for(let p=0;p<t.length;p++)t[p].type==i&&(l=p+1);let c=t.length-l,f=e.start+t.length-(r?2:0),d=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&di(n.doc,f,c)&&(n.split(f,c),f+=2*c),f+=d.child(p).nodeSize;return n}function Uz(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?Fz(e,t,n,s):Vz(e,t,s):!0:!1}}function Fz(n,e,t,r){let i=n.tr,s=r.end,l=r.$to.end(r.depth);s<l&&(i.step(new qt(s-1,l,s,l,new ve(ue.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Pf(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=za(r);if(c==null)return!1;i.lift(r,c);let f=i.doc.resolve(i.mapping.map(s,-1)-1);return bo(i.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&i.join(f.pos),e(i.scrollIntoView()),!0}function Vz(n,e,t){let r=n.tr,i=t.parent;for(let b=t.end,x=t.endIndex-1,w=t.startIndex;x>w;x--)b-=i.child(x).nodeSize,r.delete(b-1,b+1);let s=r.doc.resolve(t.start),l=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,f=t.endIndex==i.childCount,d=s.node(-1),p=s.index(-1);if(!d.canReplace(p+(c?0:1),p+1,l.content.append(f?ue.empty:ue.from(i))))return!1;let m=s.pos,y=m+l.nodeSize;return r.step(new qt(m-(c?1:0),y+(f?1:0),m+1,y-1,new ve((c?ue.empty:ue.from(i.copy(ue.empty))).append(f?ue.empty:ue.from(i.copy(ue.empty))),c?0:1,f?0:1),c?0:1)),e(r.scrollIntoView()),!0}function qz(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==n);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let c=s.parent,f=c.child(l-1);if(f.type!=n)return!1;if(t){let d=f.lastChild&&f.lastChild.type==c.type,p=ue.from(d?n.create():null),m=new ve(ue.from(n.create(null,ue.from(c.type.create(null,p)))),d?3:1,0),y=s.start,b=s.end;t(e.tr.step(new qt(y-(d?3:1),b,y,b,m,1,!0)).scrollIntoView())}return!0}}function bd(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class xd{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,l=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([c,f])=>[c,(...p)=>{const m=f(...p)(l);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:l}=i,c=[],f=!!e,d=e||s.tr,p=()=>(!f&&t&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(d),c.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(r).map(([y,b])=>[y,(...w)=>{const E=this.buildProps(d,t),T=b(...w)(E);return c.push(T),m}])),run:p};return m}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,l=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([f,d])=>[f,(...p)=>d(...p)({...l,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:l}=i,c={tr:e,editor:i,view:l,state:bd({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([f,d])=>[f,(...p)=>d(...p)(c)]))}};return c}}let Yz=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}};function Me(n,e,t){return n.config[e]===void 0&&n.parent?Me(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Me(n.parent,e,t):null}):n.config[e]}function Sd(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function aM(n){const e=[],{nodeExtensions:t,markExtensions:r}=Sd(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:i},f=Me(l,"addGlobalAttributes",c);if(!f)return;f().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,b])=>{e.push({type:m,name:y,attribute:{...s,...b}})})})})}),i.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},f=Me(l,"addAttributes",c);if(!f)return;const d=f();Object.entries(d).forEach(([p,m])=>{const y={...s,...m};typeof(y==null?void 0:y.default)=="function"&&(y.default=y.default()),y!=null&&y.isRequired&&(y==null?void 0:y.default)===void 0&&delete y.default,e.push({type:l.name,name:p,attribute:y})})}),e}function Kt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function yr(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const c=s?String(s).split(" "):[],f=r[i]?r[i].split(" "):[],d=c.filter(p=>!f.includes(p));r[i]=[...f,...d].join(" ")}else if(i==="style"){const c=s?s.split(";").map(p=>p.trim()).filter(Boolean):[],f=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],d=new Map;f.forEach(p=>{const[m,y]=p.split(":").map(b=>b.trim());d.set(m,y)}),c.forEach(p=>{const[m,y]=p.split(":").map(b=>b.trim());d.set(m,y)}),r[i]=Array.from(d.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=s}),r},{})}function yg(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>yr(t,r),{})}function lM(n){return typeof n=="function"}function Ge(n,e=void 0,...t){return lM(n)?e?n.bind(e)(...t):n(...t):n}function Kz(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Gz(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Uw(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(t):Gz(t.getAttribute(l.name));return c==null?s:{...s,[l.name]:c}},{});return{...r,...i}}}}function Fw(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&Kz(t)?!1:t!=null))}function Wz(n,e){var t;const r=aM(n),{nodeExtensions:i,markExtensions:s}=Sd(n),l=(t=i.find(d=>Me(d,"topNode")))===null||t===void 0?void 0:t.name,c=Object.fromEntries(i.map(d=>{const p=r.filter(T=>T.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},y=n.reduce((T,N)=>{const A=Me(N,"extendNodeSchema",m);return{...T,...A?A(d):{}}},{}),b=Fw({...y,content:Ge(Me(d,"content",m)),marks:Ge(Me(d,"marks",m)),group:Ge(Me(d,"group",m)),inline:Ge(Me(d,"inline",m)),atom:Ge(Me(d,"atom",m)),selectable:Ge(Me(d,"selectable",m)),draggable:Ge(Me(d,"draggable",m)),code:Ge(Me(d,"code",m)),whitespace:Ge(Me(d,"whitespace",m)),linebreakReplacement:Ge(Me(d,"linebreakReplacement",m)),defining:Ge(Me(d,"defining",m)),isolating:Ge(Me(d,"isolating",m)),attrs:Object.fromEntries(p.map(T=>{var N;return[T.name,{default:(N=T==null?void 0:T.attribute)===null||N===void 0?void 0:N.default}]}))}),x=Ge(Me(d,"parseHTML",m));x&&(b.parseDOM=x.map(T=>Uw(T,p)));const w=Me(d,"renderHTML",m);w&&(b.toDOM=T=>w({node:T,HTMLAttributes:yg(T,p)}));const E=Me(d,"renderText",m);return E&&(b.toText=E),[d.name,b]})),f=Object.fromEntries(s.map(d=>{const p=r.filter(E=>E.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},y=n.reduce((E,T)=>{const N=Me(T,"extendMarkSchema",m);return{...E,...N?N(d):{}}},{}),b=Fw({...y,inclusive:Ge(Me(d,"inclusive",m)),excludes:Ge(Me(d,"excludes",m)),group:Ge(Me(d,"group",m)),spanning:Ge(Me(d,"spanning",m)),code:Ge(Me(d,"code",m)),attrs:Object.fromEntries(p.map(E=>{var T;return[E.name,{default:(T=E==null?void 0:E.attribute)===null||T===void 0?void 0:T.default}]}))}),x=Ge(Me(d,"parseHTML",m));x&&(b.parseDOM=x.map(E=>Uw(E,p)));const w=Me(d,"renderHTML",m);return w&&(b.toDOM=E=>w({mark:E,HTMLAttributes:yg(E,p)})),[d.name,b]}));return new ZE({topNode:l,nodes:c,marks:f})}function Cm(n,e){return e.nodes[n]||e.marks[n]||null}function Vw(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Ty(n,e){const t=bs.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const Xz=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,l,c)=>{var f,d;const p=((d=(f=i.type.spec).toText)===null||d===void 0?void 0:d.call(f,{node:i,pos:s,parent:l,index:c}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-s))}),t};function Oy(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class wd{constructor(e){this.find=e.find,this.handler=e.handler}}const Jz=(n,e)=>{if(Oy(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function tf(n){var e;const{editor:t,from:r,to:i,text:s,rules:l,plugin:c}=n,{view:f}=t;if(f.composing)return!1;const d=f.state.doc.resolve(r);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=Xz(d)+s;return l.forEach(y=>{if(p)return;const b=Jz(m,y.find);if(!b)return;const x=f.state.tr,w=bd({state:f.state,transaction:x}),E={from:r-(b[0].length-s.length),to:i},{commands:T,chain:N,can:A}=new xd({editor:t,state:w});y.handler({state:w,range:E,match:b,commands:T,chain:N,can:A})===null||!x.steps.length||(x.setMeta(c,{transform:x,from:r,to:i,text:s}),f.dispatch(x),p=!0)}),p}function Qz(n){const{editor:e,rules:t}=n,r=new sr({state:{init(){return null},apply(i,s,l){const c=i.getMeta(r);if(c)return c;const f=i.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=Ty(ue.from(p),l.schema);const{from:m}=f,y=m+p.length;tf({editor:e,from:m,to:y,text:p,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,l,c){return tf({editor:e,from:s,to:l,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&tf({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?tf({editor:e,from:l.pos,to:l.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function Zz(n){return Object.prototype.toString.call(n).slice(8,-1)}function nf(n){return Zz(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Ed(n,e){const t={...n};return nf(n)&&nf(e)&&Object.keys(e).forEach(r=>{nf(e[r])&&nf(n[r])?t[r]=Ed(n[r],e[r]):t[r]=e[r]}),t}class ka{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ge(Me(this,"addOptions",{name:this.name}))),this.storage=Ge(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ka(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Ed(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ka(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ge(Me(t,"addOptions",{name:t.name})),t.storage=Ge(Me(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(d=>(d==null?void 0:d.type.name)===t.name))return!1;const f=l.find(d=>(d==null?void 0:d.type.name)===t.name);return f&&r.removeStoredMark(f),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function e_(n){return typeof n=="number"}class t_{constructor(e){this.find=e.find,this.handler=e.handler}}const n_=(n,e,t)=>{if(Oy(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function r_(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:l,dropEvent:c}=n,{commands:f,chain:d,can:p}=new xd({editor:e,state:t}),m=[];return t.doc.nodesBetween(r,i,(b,x)=>{if(!b.isTextblock||b.type.spec.code)return;const w=Math.max(r,x),E=Math.min(i,x+b.content.size),T=b.textBetween(w-x,E-x,void 0,"");n_(T,s.find,l).forEach(A=>{if(A.index===void 0)return;const L=w+A.index+1,z=L+A[0].length,R={from:t.tr.mapping.map(L),to:t.tr.mapping.map(z)},D=s.handler({state:t,range:R,match:A,commands:f,chain:d,can:p,pasteEvent:l,dropEvent:c});m.push(D)})}),m.every(b=>b!==null)}let rf=null;const i_=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function o_(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const f=({state:p,from:m,to:y,rule:b,pasteEvt:x})=>{const w=p.tr,E=bd({state:p,transaction:w});if(!(!r_({editor:e,state:E,from:Math.max(m-1,0),to:y.b-1,rule:b,pasteEvent:x,dropEvent:c})||!w.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return t.map(p=>new sr({view(m){const y=x=>{var w;r=!((w=m.dom.parentElement)===null||w===void 0)&&w.contains(x.target)?m.dom.parentElement:null,r&&(rf=e)},b=()=>{rf&&(rf=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(s=r===m.dom.parentElement,c=y,!s){const b=rf;b&&setTimeout(()=>{const x=b.state.selection;x&&b.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(m,y)=>{var b;const x=(b=y.clipboardData)===null||b===void 0?void 0:b.getData("text/html");return l=y,i=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(m,y,b)=>{const x=m[0],w=x.getMeta("uiEvent")==="paste"&&!i,E=x.getMeta("uiEvent")==="drop"&&!s,T=x.getMeta("applyPasteRules"),N=!!T;if(!w&&!E&&!N)return;if(N){let{text:z}=T;typeof z=="string"?z=z:z=Ty(ue.from(z),b.schema);const{from:R}=T,D=R+z.length,j=i_(z);return f({rule:p,state:b,from:R,to:{b:D},pasteEvt:j})}const A=y.doc.content.findDiffStart(b.doc.content),L=y.doc.content.findDiffEnd(b.doc.content);if(!(!e_(A)||!L||A===L.b))return f({rule:p,state:b,from:A,to:L,pasteEvt:l})}}))}function s_(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class ba{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ba.resolve(e),this.schema=Wz(this.extensions,t),this.setupExtensions()}static resolve(e){const t=ba.sort(ba.flatten(e)),r=s_(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=Me(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=Me(r,"priority")||100,l=Me(i,"priority")||100;return s>l?-1:s<l?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Cm(t.name,this.schema)},i=Me(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=ba.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(l=>{const c={name:l.name,options:l.options,storage:l.storage,editor:e,type:Cm(l.name,this.schema)},f=[],d=Me(l,"addKeyboardShortcuts",c);let p={};if(l.type==="mark"&&Me(l,"exitable",c)&&(p.ArrowRight=()=>ka.handleExit({editor:e,mark:l})),d){const w=Object.fromEntries(Object.entries(d()).map(([E,T])=>[E,()=>T({editor:e})]));p={...p,...w}}const m=Cz(p);f.push(m);const y=Me(l,"addInputRules",c);Vw(l,e.options.enableInputRules)&&y&&r.push(...y());const b=Me(l,"addPasteRules",c);Vw(l,e.options.enablePasteRules)&&b&&i.push(...b());const x=Me(l,"addProseMirrorPlugins",c);if(x){const w=x();f.push(...w)}return f}).flat();return[Qz({editor:e,rules:r}),...o_({editor:e,rules:i}),...s]}get attributes(){return aM(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Sd(this.extensions);return Object.fromEntries(t.filter(r=>!!Me(r,"addNodeView")).map(r=>{const i=this.attributes.filter(f=>f.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Kt(r.name,this.schema)},l=Me(r,"addNodeView",s);if(!l)return[];const c=(f,d,p,m,y)=>{const b=yg(f,i);return l()({node:f,view:d,getPos:p,decorations:m,innerDecorations:y,editor:e,extension:r,HTMLAttributes:b})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Cm(e.name,this.schema)};e.type==="mark"&&(!((t=Ge(Me(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=Me(e,"onBeforeCreate",r),s=Me(e,"onCreate",r),l=Me(e,"onUpdate",r),c=Me(e,"onSelectionUpdate",r),f=Me(e,"onTransaction",r),d=Me(e,"onFocus",r),p=Me(e,"onBlur",r),m=Me(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),f&&this.editor.on("transaction",f),d&&this.editor.on("focus",d),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class Hn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ge(Me(this,"addOptions",{name:this.name}))),this.storage=Ge(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Hn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Ed(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Hn({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ge(Me(t,"addOptions",{name:t.name})),t.storage=Ge(Me(t,"addStorage",{name:t.name,options:t.options})),t}}function cM(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:l={}}=t||{};let c="";return n.nodesBetween(r,i,(f,d,p,m)=>{var y;f.isBlock&&d>r&&(c+=s);const b=l==null?void 0:l[f.type.name];if(b)return p&&(c+=b({node:f,pos:d,parent:p,index:m,range:e})),!1;f.isText&&(c+=(y=f==null?void 0:f.text)===null||y===void 0?void 0:y.slice(Math.max(r,d)-d,i-d))}),c}function uM(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const a_=Hn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new sr({key:new Br("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,l=Math.min(...s.map(p=>p.$from.pos)),c=Math.max(...s.map(p=>p.$to.pos)),f=uM(t);return cM(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),l_=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),c_=(n=!1)=>({commands:e})=>e.setContent("",n),u_=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:l})=>{n.doc.nodesBetween(s.pos,l.pos,(c,f)=>{if(c.type.isText)return;const{doc:d,mapping:p}=e,m=d.resolve(p.map(f)),y=d.resolve(p.map(f+c.nodeSize)),b=m.blockRange(y);if(!b)return;const x=za(b);if(c.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(b.start,w)}(x||x===0)&&e.lift(b,x)})}),!0},f_=n=>e=>n(e),d_=()=>({state:n,dispatch:e})=>rM(n,e),h_=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const l=r.mapping.map(e);return r.insert(l,s.content),r.setSelection(new He(r.doc.resolve(l-1))),!0},p_=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const c=i.before(s),f=i.after(s);n.delete(c,f).scrollIntoView()}return!0}return!1},m_=n=>({tr:e,state:t,dispatch:r})=>{const i=Kt(n,t.schema),s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===i){if(r){const f=s.before(l),d=s.after(l);e.delete(f,d).scrollIntoView()}return!0}return!1},g_=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},y_=()=>({state:n,dispatch:e})=>Sy(n,e),v_=()=>({commands:n})=>n.keyboardShortcut("Enter"),b_=()=>({state:n,dispatch:e})=>kz(n,e);function Hf(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:Oy(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function fM(n,e,t={}){return n.find(r=>r.type===e&&Hf(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function qw(n,e,t={}){return!!fM(n,e,t)}function Ny(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!fM([...i.node.marks],e,t)))return;let l=i.index,c=n.start()+i.offset,f=l+1,d=c+i.node.nodeSize;for(;l>0&&qw([...n.parent.child(l-1).marks],e,t);)l-=1,c-=n.parent.child(l).nodeSize;for(;f<n.parent.childCount&&qw([...n.parent.child(f).marks],e,t);)d+=n.parent.child(f).nodeSize,f+=1;return{from:c,to:d}}function So(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const x_=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=So(n,r.schema),{doc:l,selection:c}=t,{$from:f,from:d,to:p}=c;if(i){const m=Ny(f,s,e);if(m&&m.from<=d&&m.to>=p){const y=He.create(l,m.from,m.to);t.setSelection(y)}}return!0},S_=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function dM(n){return n instanceof He}function ns(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function hM(n,e=null){if(!e)return null;const t=Qe.atStart(n),r=Qe.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?He.create(n,ns(0,i,s),ns(n.content.size,i,s)):He.create(n,ns(e,i,s),ns(e,i,s))}function w_(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Ry(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const E_=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const l=()=>{(Ry()||w_())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!dM(t.state.selection))return l(),!0;const c=hM(i.doc,n)||t.state.selection,f=t.state.selection.eq(c);return s&&(f||i.setSelection(c),f&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},C_=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),M_=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),pM=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&pM(r)}return n};function of(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return pM(t)}function Uf(n,e,t){if(n instanceof oo||n instanceof ue)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return ue.fromArray(n.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(n);return t.errorOnInvalidContent&&l.check(),l}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),Uf("",e,t)}if(i){if(t.errorOnInvalidContent){let l=!1,c="";const f=new ZE({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(l=!0,c=typeof d=="string"?d:d.outerHTML,null)}]}})});if(t.slice?so.fromSchema(f).parseSlice(of(n),t.parseOptions):so.fromSchema(f).parse(of(n),t.parseOptions),t.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const s=so.fromSchema(e);return t.slice?s.parseSlice(of(n),t.parseOptions).content:s.parse(of(n),t.parseOptions)}return Uf("",e,t)}function T_(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Vt||i instanceof qt))return;const s=n.mapping.maps[r];let l=0;s.forEach((c,f,d,p)=>{l===0&&(l=p)}),n.setSelection(Qe.near(n.doc.resolve(l),t))}const O_=n=>!("type"in n),N_=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var l;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;try{c=Uf(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(l=t.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck})}catch(x){return s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:f,to:d}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},p=!0,m=!0;if((O_(c)?c:[c]).forEach(x=>{x.check(),p=p?x.isText&&x.marks.length===0:!1,m=m?x.isBlock:!1}),f===d&&m){const{parent:x}=r.doc.resolve(f);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(f-=1,d+=1)}let b;if(p){if(Array.isArray(e))b=e.map(x=>x.text||"").join("");else if(e instanceof ue){let x="";e.forEach(w=>{w.text&&(x+=w.text)}),b=x}else typeof e=="object"&&e&&e.text?b=e.text:b=e;r.insertText(b,f,d)}else b=c,r.replaceWith(f,d,b);t.updateSelection&&T_(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:b}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:b})}return!0},R_=()=>({state:n,dispatch:e})=>Nz(n,e),A_=()=>({state:n,dispatch:e})=>Rz(n,e),k_=()=>({state:n,dispatch:e})=>XC(n,e),D_=()=>({state:n,dispatch:e})=>eM(n,e),P_=()=>({state:n,dispatch:e,tr:t})=>{try{const r=hd(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},L_=()=>({state:n,dispatch:e,tr:t})=>{try{const r=hd(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},z_=()=>({state:n,dispatch:e})=>Tz(n,e),__=()=>({state:n,dispatch:e})=>Oz(n,e);function mM(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function j_(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,l;for(let c=0;c<e.length-1;c+=1){const f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))Ry()||mM()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),l&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const I_=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=j_(n).split(/-(?!$)/),l=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",d=>d(t,c))});return f==null||f.steps.forEach(d=>{const p=d.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function mc(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,l=e?Kt(e,n.schema):null,c=[];n.doc.nodesBetween(r,i,(m,y)=>{if(m.isText)return;const b=Math.max(r,y),x=Math.min(i,y+m.nodeSize);c.push({node:m,from:b,to:x})});const f=i-r,d=c.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>Hf(m.node.attrs,t,{strict:!1}));return s?!!d.length:d.reduce((m,y)=>m+y.to-y.from,0)>=f}const B_=(n,e={})=>({state:t,dispatch:r})=>{const i=Kt(n,t.schema);return mc(t,i,e)?Az(t,r):!1},$_=()=>({state:n,dispatch:e})=>iM(n,e),H_=n=>({state:e,dispatch:t})=>{const r=Kt(n,e.schema);return Uz(r)(e,t)},U_=()=>({state:n,dispatch:e})=>nM(n,e);function Cd(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Yw(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const F_=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,l=null;const c=Cd(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(s=Kt(n,r.schema)),c==="mark"&&(l=So(n,r.schema)),i&&t.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(d,p)=>{s&&s===d.type&&t.setNodeMarkup(p,void 0,Yw(d.attrs,e)),l&&d.marks.length&&d.marks.forEach(m=>{l===m.type&&t.addMark(p,p+d.nodeSize,l.create(Yw(m.attrs,e)))})})}),!0):!1},V_=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),q_=()=>({tr:n,dispatch:e})=>{if(e){const t=new In(n.doc);n.setSelection(t)}return!0},Y_=()=>({state:n,dispatch:e})=>QC(n,e),K_=()=>({state:n,dispatch:e})=>tM(n,e),G_=()=>({state:n,dispatch:e})=>Lz(n,e),W_=()=>({state:n,dispatch:e})=>jz(n,e),X_=()=>({state:n,dispatch:e})=>_z(n,e);function vg(n,e,t={},r={}){return Uf(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const J_=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:l,commands:c})=>{var f,d;const{doc:p}=s;if(t.preserveWhitespace!=="full"){const m=vg(n,i.schema,t,{errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:i.options.enableContentCheck});return l&&s.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return l&&s.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:p.content.size},n,{parseOptions:t,errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:i.options.enableContentCheck})};function gM(n,e){const t=So(e,n.schema),{from:r,to:i,empty:s}=n.selection,l=[];s?(n.storedMarks&&l.push(...n.storedMarks),l.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,f=>{l.push(...f.marks)});const c=l.find(f=>f.type.name===t.name);return c?{...c.attrs}:{}}function Q_(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function Z_(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Ay(n){return e=>Z_(e.$from,n)}function ej(n,e){const t={from:0,to:n.content.size};return cM(n,t,e)}function tj(n,e){const t=Kt(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,c=>{s.push(c)});const l=s.reverse().find(c=>c.type.name===t.name);return l?{...l.attrs}:{}}function nj(n,e){const t=Cd(typeof e=="string"?e:e.name,n.schema);return t==="node"?tj(n,e):t==="mark"?gM(n,e):{}}function yM(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),l=Ny(s,i.type);l&&r.push({mark:i,...l})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(l=>({from:s,to:s+i.nodeSize,mark:l})))}),r}function Sf(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function bg(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?So(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>Hf(m.attrs,t,{strict:!1}));let l=0;const c=[];if(i.forEach(({$from:m,$to:y})=>{const b=m.pos,x=y.pos;n.doc.nodesBetween(b,x,(w,E)=>{if(!w.isText&&!w.marks.length)return;const T=Math.max(b,E),N=Math.min(x,E+w.nodeSize),A=N-T;l+=A,c.push(...w.marks.map(L=>({mark:L,from:T,to:N})))})}),l===0)return!1;const f=c.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>Hf(m.mark.attrs,t,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),d=c.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,y)=>m+y.to-y.from,0);return(f>0?f+d:f)>=l}function rj(n,e,t={}){if(!e)return mc(n,null,t)||bg(n,null,t);const r=Cd(e,n.schema);return r==="node"?mc(n,e,t):r==="mark"?bg(n,e,t):!1}function Kw(n,e){const{nodeExtensions:t}=Sd(e),r=t.find(l=>l.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Ge(Me(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function ky(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(ky(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function ij(n){return n instanceof Pe}function oj(n,e,t){var r;const{selection:i}=e;let s=null;if(dM(i)&&(s=i.$cursor),s){const c=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(c)||!c.some(f=>f.type.excludes(t))}const{ranges:l}=i;return l.some(({$from:c,$to:f})=>{let d=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,f.pos,(p,m,y)=>{if(d)return!1;if(p.isInline){const b=!y||y.type.allowsMarkType(t),x=!!t.isInSet(p.marks)||!p.marks.some(w=>w.type.excludes(t));d=b&&x}return!d}),d})}const sj=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:l,ranges:c}=s,f=So(n,r.schema);if(i)if(l){const d=gM(r,f);t.addStoredMark(f.create({...d,...e}))}else c.forEach(d=>{const p=d.$from.pos,m=d.$to.pos;r.doc.nodesBetween(p,m,(y,b)=>{const x=Math.max(b,p),w=Math.min(b+y.nodeSize,m);y.marks.find(T=>T.type===f)?y.marks.forEach(T=>{f===T.type&&t.addMark(x,w,f.create({...T.attrs,...e}))}):t.addMark(x,w,f.create(e))})});return oj(r,t,f)},aj=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),lj=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=Kt(n,t.schema);let l;return t.selection.$anchor.sameParent(t.selection.$head)&&(l=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:c})=>Hw(s,{...l,...e})(t)?!0:c.clearNodes()).command(({state:c})=>Hw(s,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},cj=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=ns(n,0,r.content.size),s=Pe.create(r,i);e.setSelection(s)}return!0},uj=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,l=He.atStart(r).from,c=He.atEnd(r).to,f=ns(i,l,c),d=ns(s,l,c),p=He.create(r,f,d);e.setSelection(p)}return!0},fj=n=>({state:e,dispatch:t})=>{const r=Kt(n,e.schema);return qz(r)(e,t)};function Gw(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const dj=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:l}=e,{$from:c,$to:f}=s,d=i.extensionManager.attributes,p=Sf(d,c.node().type.name,c.node().attrs);if(s instanceof Pe&&s.node.isBlock)return!c.parentOffset||!di(l,c.pos)?!1:(r&&(n&&Gw(t,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=f.parentOffset===f.parent.content.size,y=c.depth===0?void 0:Q_(c.node(-1).contentMatchAt(c.indexAfter(-1)));let b=m&&y?[{type:y,attrs:p}]:void 0,x=di(e.doc,e.mapping.map(c.pos),1,b);if(!b&&!x&&di(e.doc,e.mapping.map(c.pos),1,y?[{type:y}]:void 0)&&(x=!0,b=y?[{type:y,attrs:p}]:void 0),r){if(x&&(s instanceof He&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,b),y&&!m&&!c.parentOffset&&c.parent.type!==y)){const w=e.mapping.map(c.before()),E=e.doc.resolve(w);c.node(-1).canReplaceWith(E.index(),E.index()+1,y)&&e.setNodeMarkup(e.mapping.map(c.before()),y)}n&&Gw(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return x},hj=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var l;const c=Kt(n,r.schema),{$from:f,$to:d}=r.selection,p=r.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(d))return!1;const m=f.node(-1);if(m.type!==c)return!1;const y=s.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==c||f.index(-2)!==f.node(-2).childCount-1)return!1;if(i){let T=ue.empty;const N=f.index(-1)?1:f.index(-2)?2:3;for(let j=f.depth-N;j>=f.depth-3;j-=1)T=ue.from(f.node(j).copy(T));const A=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,L={...Sf(y,f.node().type.name,f.node().attrs),...e},z=((l=c.contentMatch.defaultType)===null||l===void 0?void 0:l.createAndFill(L))||void 0;T=T.append(ue.from(c.createAndFill(null,z)||void 0));const R=f.before(f.depth-(N-1));t.replace(R,f.after(-A),new ve(T,4-N,0));let D=-1;t.doc.nodesBetween(R,t.doc.content.size,(j,q)=>{if(D>-1)return!1;j.isTextblock&&j.content.size===0&&(D=q+1)}),D>-1&&t.setSelection(He.near(t.doc.resolve(D))),t.scrollIntoView()}return!0}const b=d.pos===f.end()?m.contentMatchAt(0).defaultType:null,x={...Sf(y,m.type.name,m.attrs),...e},w={...Sf(y,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,d.pos);const E=b?[{type:c,attrs:x},{type:b,attrs:w}]:[{type:c,attrs:x}];if(!di(t.doc,f.pos,2))return!1;if(i){const{selection:T,storedMarks:N}=r,{splittableMarks:A}=s.extensionManager,L=N||T.$to.parentOffset&&T.$from.marks();if(t.split(f.pos,2,E).scrollIntoView(),!L||!i)return!0;const z=L.filter(R=>A.includes(R.type.name));t.ensureMarks(z)}return!0},Mm=(n,e)=>{const t=Ay(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&bo(n.doc,t.pos)&&n.join(t.pos),!0},Tm=(n,e)=>{const t=Ay(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&bo(n.doc,r)&&n.join(r),!0},pj=(n,e,t,r={})=>({editor:i,tr:s,state:l,dispatch:c,chain:f,commands:d,can:p})=>{const{extensions:m,splittableMarks:y}=i.extensionManager,b=Kt(n,l.schema),x=Kt(e,l.schema),{selection:w,storedMarks:E}=l,{$from:T,$to:N}=w,A=T.blockRange(N),L=E||w.$to.parentOffset&&w.$from.marks();if(!A)return!1;const z=Ay(R=>Kw(R.type.name,m))(w);if(A.depth>=1&&z&&A.depth-z.depth<=1){if(z.node.type===b)return d.liftListItem(x);if(Kw(z.node.type.name,m)&&b.validContent(z.node.content)&&c)return f().command(()=>(s.setNodeMarkup(z.pos,b),!0)).command(()=>Mm(s,b)).command(()=>Tm(s,b)).run()}return!t||!L||!c?f().command(()=>p().wrapInList(b,r)?!0:d.clearNodes()).wrapInList(b,r).command(()=>Mm(s,b)).command(()=>Tm(s,b)).run():f().command(()=>{const R=p().wrapInList(b,r),D=L.filter(j=>y.includes(j.type.name));return s.ensureMarks(D),R?!0:d.clearNodes()}).wrapInList(b,r).command(()=>Mm(s,b)).command(()=>Tm(s,b)).run()},mj=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,l=So(n,r.schema);return bg(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:s}):i.setMark(l,e)},gj=(n,e,t={})=>({state:r,commands:i})=>{const s=Kt(n,r.schema),l=Kt(e,r.schema),c=mc(r,s,t);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),c?i.setNode(l,f):i.setNode(s,{...f,...t})},yj=(n,e={})=>({state:t,commands:r})=>{const i=Kt(n,t.schema);return mc(t,i,e)?r.lift(i):r.wrapIn(i,e)},vj=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const l=n.tr,c=s.transform;for(let f=c.steps.length-1;f>=0;f-=1)l.step(c.steps[f].invert(c.docs[f]));if(s.text){const f=l.doc.resolve(s.from).marks();l.replaceWith(s.from,s.to,n.schema.text(s.text,f))}else l.delete(s.from,s.to)}return!0}}return!1},bj=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},xj=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=t,f=So(n,r.schema),{$from:d,empty:p,ranges:m}=c;if(!i)return!0;if(p&&l){let{from:y,to:b}=c;const x=(s=d.marks().find(E=>E.type===f))===null||s===void 0?void 0:s.attrs,w=Ny(d,f,x);w&&(y=w.from,b=w.to),t.removeMark(y,b,f)}else m.forEach(y=>{t.removeMark(y.$from.pos,y.$to.pos,f)});return t.removeStoredMark(f),!0},Sj=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,l=null;const c=Cd(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(s=Kt(n,r.schema)),c==="mark"&&(l=So(n,r.schema)),i&&t.selection.ranges.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;let m,y,b,x;t.selection.empty?r.doc.nodesBetween(d,p,(w,E)=>{s&&s===w.type&&(b=Math.max(E,d),x=Math.min(E+w.nodeSize,p),m=E,y=w)}):r.doc.nodesBetween(d,p,(w,E)=>{E<d&&s&&s===w.type&&(b=Math.max(E,d),x=Math.min(E+w.nodeSize,p),m=E,y=w),E>=d&&E<=p&&(s&&s===w.type&&t.setNodeMarkup(E,void 0,{...w.attrs,...e}),l&&w.marks.length&&w.marks.forEach(T=>{if(l===T.type){const N=Math.max(E,d),A=Math.min(E+w.nodeSize,p);t.addMark(N,A,l.create({...T.attrs,...e}))}}))}),y&&(m!==void 0&&t.setNodeMarkup(m,void 0,{...y.attrs,...e}),l&&y.marks.length&&y.marks.forEach(w=>{l===w.type&&t.addMark(b,x,l.create({...w.attrs,...e}))}))}),!0):!1},wj=(n,e={})=>({state:t,dispatch:r})=>{const i=Kt(n,t.schema);return Iz(i,e)(t,r)},Ej=(n,e={})=>({state:t,dispatch:r})=>{const i=Kt(n,t.schema);return Bz(i,e)(t,r)};var Cj=Object.freeze({__proto__:null,blur:l_,clearContent:c_,clearNodes:u_,command:f_,createParagraphNear:d_,cut:h_,deleteCurrentNode:p_,deleteNode:m_,deleteRange:g_,deleteSelection:y_,enter:v_,exitCode:b_,extendMarkRange:x_,first:S_,focus:E_,forEach:C_,insertContent:M_,insertContentAt:N_,joinBackward:k_,joinDown:A_,joinForward:D_,joinItemBackward:P_,joinItemForward:L_,joinTextblockBackward:z_,joinTextblockForward:__,joinUp:R_,keyboardShortcut:I_,lift:B_,liftEmptyBlock:$_,liftListItem:H_,newlineInCode:U_,resetAttributes:F_,scrollIntoView:V_,selectAll:q_,selectNodeBackward:Y_,selectNodeForward:K_,selectParentNode:G_,selectTextblockEnd:W_,selectTextblockStart:X_,setContent:J_,setMark:sj,setMeta:aj,setNode:lj,setNodeSelection:cj,setTextSelection:uj,sinkListItem:fj,splitBlock:dj,splitListItem:hj,toggleList:pj,toggleMark:mj,toggleNode:gj,toggleWrap:yj,undoInputRule:vj,unsetAllMarks:bj,unsetMark:xj,updateAttributes:Sj,wrapIn:wj,wrapInList:Ej});const Mj=Hn.create({name:"commands",addCommands(){return{...Cj}}}),Tj=Hn.create({name:"drop",addProseMirrorPlugins(){return[new sr({key:new Br("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),Oj=Hn.create({name:"editable",addProseMirrorPlugins(){return[new sr({key:new Br("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Nj=new Br("focusEvents"),Rj=Hn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new sr({key:Nj,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Aj=Hn.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:f,doc:d}=c,{empty:p,$anchor:m}=f,{pos:y,parent:b}=m,x=m.parent.isTextblock&&y>0?c.doc.resolve(y-1):m,w=x.parent.type.spec.isolating,E=m.pos-m.parentOffset,T=w&&x.parent.childCount===1?E===m.pos:Qe.atStart(d).from===y;return!p||!b.type.isTextblock||b.textContent.length||!T||T&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Ry()||mM()?s:i},addProseMirrorPlugins(){return[new sr({key:new Br("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(w=>w.getMeta("composition")))return;const r=n.some(w=>w.docChanged)&&!e.doc.eq(t.doc),i=n.some(w=>w.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:l,to:c}=e.selection,f=Qe.atStart(e.doc).from,d=Qe.atEnd(e.doc).to;if(s||!(l===f&&c===d)||!ky(t.doc))return;const y=t.tr,b=bd({state:t,transaction:y}),{commands:x}=new xd({editor:this.editor,state:b});if(x.clearNodes(),!!y.steps.length)return y}})]}}),kj=Hn.create({name:"paste",addProseMirrorPlugins(){return[new sr({key:new Br("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),Dj=Hn.create({name:"tabindex",addProseMirrorPlugins(){return[new sr({key:new Br("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Jo{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Jo(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Jo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Jo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,l=this.pos+r+(s?0:1),c=this.resolvedPos.doc.resolve(l);if(!i&&c.depth<=this.depth)return;const f=new Jo(c,this.editor,i,i?t:null);i&&(f.actualDepth=this.depth+1),e.push(new Jo(c,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,l=Object.keys(t);for(let c=0;c<l.length;c+=1){const f=l[c];if(s[f]!==t[f])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&s.every(f=>t[f]===l.node.attrs[f])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const Pj=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Lj(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class zj extends Yz{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Lj(Pj,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=lM(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const l=typeof s=="string"?`${s}$`:s.key;r=t.filter(c=>!c.key.startsWith(l))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[Oj,a_.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),Mj,Rj,Aj,Dj,Tj,kj].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new ba(i,this)}createCommandManager(){this.commandManager=new xd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=vg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(l){if(!(l instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(l.message))throw l;this.emit("contentError",{editor:this,error:l,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),t=vg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=hM(t,this.options.autofocus);this.view=new mz(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:va.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(l=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(l)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return nj(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return rj(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ty(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return ej(this.state.doc,{blockSeparator:t,textSerializers:{...uM(this.schema),...r}})}get isEmpty(){return ky(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Jo(t,this)}get $doc(){return this.$pos(0)}}function Ff(n){return new wd({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Ge(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,l=r[r.length-1],c=r[0];if(l){const f=c.search(/\S/),d=t.from+c.indexOf(l),p=d+l.length;if(yM(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(w=>w===n.type&&w!==b.mark.type)).filter(b=>b.to>d).length)return null;p<t.to&&s.delete(p,t.to),d>t.from&&s.delete(t.from+f,d);const y=t.from+f+l.length;s.addMark(t.from+f,y,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function _j(n){return new wd({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Ge(n.getAttributes,void 0,r)||{},{tr:s}=e,l=t.from;let c=t.to;const f=n.type.create(i);if(r[1]){const d=r[0].lastIndexOf(r[1]);let p=l+d;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];s.insertText(m,l+r[0].length-1),s.replaceWith(p,c,f)}else if(r[0]){const d=n.type.isInline?l:l-1;s.insert(d,n.type.create(i)).delete(s.mapping.map(l),s.mapping.map(c))}s.scrollIntoView()}})}function jj(n){return new wd({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=Ge(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function gc(n){return new wd({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=Ge(n.getAttributes,void 0,r)||{},l=e.tr.delete(t.from,t.to),f=l.doc.resolve(t.from).blockRange(),d=f&&uy(f,n.type,s);if(!d)return null;if(l.wrap(f,d),n.keepMarks&&n.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:b}=n.editor.extensionManager,x=y||m.$to.parentOffset&&m.$from.marks();if(x){const w=x.filter(E=>b.includes(E.type.name));l.ensureMarks(w)}}if(n.keepAttributes){const m=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,s).run()}const p=l.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&bo(l.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&l.join(t.from-1)}})}let vi=class xg{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ge(Me(this,"addOptions",{name:this.name}))),this.storage=Ge(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xg(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Ed(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new xg(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ge(Me(t,"addOptions",{name:t.name})),t.storage=Ge(Me(t,"addStorage",{name:t.name,options:t.options})),t}};function Vf(n){return new t_({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=Ge(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:l}=e,c=r[r.length-1],f=r[0];let d=t.to;if(c){const p=f.search(/\S/),m=t.from+f.indexOf(c),y=m+c.length;if(yM(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(E=>E===n.type&&E!==x.mark.type)).filter(x=>x.to>m).length)return null;y<t.to&&l.delete(y,t.to),m>t.from&&l.delete(t.from+p,m),d=t.from+p+c.length,l.addMark(t.from+p,d,n.type.create(s||{})),l.removeStoredMark(n.type)}}})}function Ij(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vM={exports:{}},Om={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function Bj(){if(Ww)return Om;Ww=1;var n=gt;function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(m,y){var b=y(),x=r({inst:{value:b,getSnapshot:y}}),w=x[0].inst,E=x[1];return s(function(){w.value=b,w.getSnapshot=y,f(w)&&E({inst:w})},[m,b,y]),i(function(){return f(w)&&E({inst:w}),m(function(){f(w)&&E({inst:w})})},[m]),l(b),b}function f(m){var y=m.getSnapshot;m=m.value;try{var b=y();return!t(m,b)}catch{return!0}}function d(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Om.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,Om}vM.exports=Bj();var Dy=vM.exports;const $j=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},Hj=({contentComponent:n})=>{const e=Dy.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return gt.createElement(gt.Fragment,null,Object.values(e))};function Uj(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:Oc.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class Fj extends gt.Component{constructor(e){var t;super(e),this.editorContentRef=gt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=Uj(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return gt.createElement(gt.Fragment,null,gt.createElement("div",{ref:$j(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&gt.createElement(Hj,{contentComponent:e.contentComponent}))}}const Vj=S.forwardRef((n,e)=>{const t=gt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return gt.createElement(Fj,{key:t,innerRef:e,...n})}),qj=gt.memo(Vj);var Yj=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var l=s[i];if(!(l==="_owner"&&e.$$typeof)&&!n(e[l],t[l]))return!1}return!0}return e!==e&&t!==t},Kj=Ij(Yj),bM={exports:{}},Nm={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function Gj(){if(Xw)return Nm;Xw=1;var n=gt,e=Dy;function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,f=n.useDebugValue;return Nm.useSyncExternalStoreWithSelector=function(d,p,m,y,b){var x=s(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=c(function(){function T(R){if(!N){if(N=!0,A=R,R=y(R),b!==void 0&&w.hasValue){var D=w.value;if(b(D,R))return L=D}return L=R}if(D=L,r(A,R))return D;var j=y(R);return b!==void 0&&b(D,j)?D:(A=R,L=j)}var N=!1,A,L,z=m===void 0?null:m;return[function(){return T(p())},z===null?void 0:function(){return T(z())}]},[p,m,y,b]);var E=i(d,x[0],x[1]);return l(function(){w.hasValue=!0,w.value=E},[E]),f(E),E},Nm}bM.exports=Gj();var Wj=bM.exports;const Xj=typeof window<"u"?S.useLayoutEffect:S.useEffect;class Jj{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function Qj(n){var e;const[t]=S.useState(()=>new Jj(n.editor)),r=Wj.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:Kj);return Xj(()=>t.watch(n.editor),[n.editor,t]),S.useDebugValue(r),r}const Zj=!1,Sg=typeof window>"u",eI=Sg||!!(typeof window<"u"&&window.next);class Py{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Sg||eI?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new zj(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,s)=>{var l;return i===((l=t.extensions)===null||l===void 0?void 0:l[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Py.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function tI(n={},e=[]){const t=S.useRef(n);t.current=n;const[r]=S.useState(()=>new Py(t)),i=Dy.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return S.useDebugValue(i),S.useEffect(r.onRender(e)),Qj({editor:i,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&s===0?0:s+1}),i}const nI=S.createContext({editor:null});nI.Consumer;const rI=S.createContext({onDragStart:void 0}),iI=()=>S.useContext(rI);gt.forwardRef((n,e)=>{const{onDragStart:t}=iI(),r=n.as||"div";return gt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const oI=vi.create({name:"doc",topNode:!0,content:"block+"}),sI=vi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",yr(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:i}=t,s=n();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):ij(t)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:l,dispatch:c})=>{var f;if(c){const{$to:d}=l.selection,p=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?l.setSelection(He.create(l.doc,d.pos+1)):d.nodeAfter.isBlock?l.setSelection(Pe.create(l.doc,d.pos)):l.setSelection(He.create(l.doc,d.pos));else{const m=(f=d.parent.type.contentMatch.defaultType)===null||f===void 0?void 0:f.create();m&&(l.insert(p,m),l.setSelection(He.create(l.doc,p+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[_j({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),aI=vi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,yr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>jj({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),lI=vi.create({name:"text",group:"inline"}),cI=vi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",yr(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uI="listItem",Jw="textStyle",Qw=/^(\d+)\.\s$/,fI=vi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",yr(this.options.HTMLAttributes,t),0]:["ol",yr(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(uI,this.editor.getAttributes(Jw)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=gc({find:Qw,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=gc({find:Qw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Jw)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),dI="listItem",Zw="textStyle",e1=/^\s*([-+*])\s$/,hI=vi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",yr(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(dI,this.editor.getAttributes(Zw)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=gc({find:e1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=gc({find:e1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Zw),editor:this.editor})),[n]}}),pI=vi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",yr(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),mI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,gI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,yI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,vI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,bI=ka.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",yr(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ff({find:mI,type:this.type}),Ff({find:yI,type:this.type})]},addPasteRules(){return[Vf({find:gI,type:this.type}),Vf({find:vI,type:this.type})]}});var qf=200,Yt=function(){};Yt.prototype.append=function(e){return e.length?(e=Yt.from(e),!this.length&&e||e.length<qf&&this.leafAppend(e)||this.length<qf&&e.leafPrepend(this)||this.appendInner(e)):this};Yt.prototype.prepend=function(e){return e.length?Yt.from(e).append(this):this};Yt.prototype.appendInner=function(e){return new xI(this,e)};Yt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Yt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Yt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Yt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Yt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,l){return i.push(e(s,l))},t,r),i};Yt.from=function(e){return e instanceof Yt?e:e&&e.length?new xM(e):Yt.empty};var xM=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,l,c){for(var f=s;f<l;f++)if(i(this.values[f],c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,l,c){for(var f=s-1;f>=l;f--)if(i(this.values[f],c+f)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=qf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=qf)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Yt);Yt.empty=new xM([]);var xI=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,l){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(s,c),l)===!1||s>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,s)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,l){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(s,c)-c,l+c)===!1||s<c&&this.left.forEachInvertedInner(r,Math.min(i,c),s,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Yt);const SI=500;class mr{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let l=e.tr,c,f,d=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){i||(i=this.remapping(r,y+1),s=i.maps.length),s--,p.push(m);return}if(i){p.push(new Yi(m.map));let b=m.step.map(i.slice(s)),x;b&&l.maybeStep(b).doc&&(x=l.mapping.maps[l.mapping.maps.length-1],d.push(new Yi(x,void 0,void 0,d.length+p.length))),s--,x&&i.appendMap(x,s)}else l.maybeStep(m.step);if(m.selection)return c=i?m.selection.map(i.slice(s)):m.selection,f=new mr(this.items.slice(0,r).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:c}}addTransform(e,t,r,i){let s=[],l=this.eventCount,c=this.items,f=!i&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new Yi(e.mapping.maps[p],m,t),b;(b=f&&f.merge(y))&&(y=b,p?s.pop():c=c.slice(0,c.length-1)),s.push(y),t&&(l++,t=void 0),i||(f=y)}let d=l-r.depth;return d>EI&&(c=wI(c,d),l-=d),new mr(c.append(s),l)}remapping(e,t){let r=new uc;return this.items.forEach((i,s)=>{let l=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,t),r}addMaps(e){return this.eventCount==0?this:new mr(this.items.append(e.map(t=>new Yi(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(y=>{y.selection&&c--},i);let f=t;this.items.forEach(y=>{let b=s.getMirror(--f);if(b==null)return;l=Math.min(l,b);let x=s.maps[b];if(y.step){let w=e.steps[b].invert(e.docs[b]),E=y.selection&&y.selection.map(s.slice(f+1,b));E&&c++,r.push(new Yi(x,w,E))}else r.push(new Yi(x))},i);let d=[];for(let y=t;y<l;y++)d.push(new Yi(s.maps[y]));let p=this.items.slice(0,i).append(d).append(r),m=new mr(p,c);return m.emptyItemCount()>SI&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((l,c)=>{if(c>=e)i.push(l),l.selection&&s++;else if(l.step){let f=l.step.map(t.slice(r)),d=f&&f.getMap();if(r--,d&&t.appendMap(d,r),f){let p=l.selection&&l.selection.map(t.slice(r));p&&s++;let m=new Yi(d.invert(),f,p),y,b=i.length-1;(y=i.length&&i[b].merge(m))?i[b]=y:i.push(m)}}else l.map&&r--},this.items.length,0),new mr(Yt.from(i.reverse()),s)}}mr.empty=new mr(Yt.empty,0);function wI(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}let Yi=class SM{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new SM(t.getMap().invert(),t,this.selection)}}};class Zi{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const EI=20;function CI(n,e,t,r){let i=t.getMeta(ls),s;if(i)return i.historyState;t.getMeta(OI)&&(n=new Zi(n.done,n.undone,null,0,-1));let l=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(l&&l.getMeta(ls))return l.getMeta(ls).redo?new Zi(n.done.addTransform(t,void 0,r,wf(e)),n.undone,t1(t.mapping.maps),n.prevTime,n.prevComposition):new Zi(n.done,n.undone.addTransform(t,void 0,r,wf(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),f=n.prevTime==0||!l&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!MI(t,n.prevRanges)),d=l?Rm(n.prevRanges,t.mapping):t1(t.mapping.maps);return new Zi(n.done.addTransform(t,f?e.selection.getBookmark():void 0,r,wf(e)),mr.empty,d,t.time,c??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Zi(n.done.rebased(t,s),n.undone.rebased(t,s),Rm(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Zi(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Rm(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function MI(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function t1(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,l)=>e.push(s,l));return e}function Rm(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function TI(n,e,t){let r=wf(e),i=ls.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let l=s.selection.resolve(s.transform.doc),c=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),f=new Zi(t?c:s.remaining,t?s.remaining:c,null,0,-1);return s.transform.setSelection(l).setMeta(ls,{redo:t,historyState:f})}let Am=!1,n1=null;function wf(n){let e=n.plugins;if(n1!=e){Am=!1,n1=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Am=!0;break}}return Am}const ls=new Br("history"),OI=new Br("closeHistory");function NI(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new sr({key:ls,state:{init(){return new Zi(mr.empty,mr.empty,null,0,-1)},apply(e,t,r){return CI(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?EM:r=="historyRedo"?CM:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function wM(n,e){return(t,r)=>{let i=ls.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=TI(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const EM=wM(!1,!0),CM=wM(!0,!0),RI=Hn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>EM(n,e),redo:()=>({state:n,dispatch:e})=>CM(n,e)}},addProseMirrorPlugins(){return[NI(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),AI=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,kI=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,DI=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,PI=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,LI=ka.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",yr(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ff({find:AI,type:this.type}),Ff({find:DI,type:this.type})]},addPasteRules(){return[Vf({find:kI,type:this.type}),Vf({find:PI,type:this.type})]}}),zI=/^\s*>\s$/,_I=vi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",yr(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[gc({find:zI,type:this.type})]}});function r1(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function pi(...n){return e=>{let t=!1;const r=n.map(i=>{const s=r1(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():r1(n[i],null)}}}}function qe(...n){return S.useCallback(pi(...n),n)}function Un(n){const e=jI(n),t=S.forwardRef((r,i)=>{const{children:s,...l}=r,c=S.Children.toArray(s),f=c.find(BI);if(f){const d=f.props.children,p=c.map(m=>m===f?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return C.jsx(e,{...l,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,p):null})}return C.jsx(e,{...l,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var MM=Un("Slot");function jI(n){const e=S.forwardRef((t,r)=>{const{children:i,...s}=t;if(S.isValidElement(i)){const l=HI(i),c=$I(s,i.props);return i.type!==S.Fragment&&(c.ref=r?pi(r,l):l),S.cloneElement(i,c)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var TM=Symbol("radix.slottable");function II(n){const e=({children:t})=>C.jsx(C.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=TM,e}function BI(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===TM}function $I(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...c)=>{s(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function HI(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function OM(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=OM(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function NM(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=OM(n))&&(r&&(r+=" "),r+=e);return r}const i1=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,o1=NM,UI=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return o1(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,l=Object.keys(i).map(d=>{const p=t==null?void 0:t[d],m=s==null?void 0:s[d];if(p===null)return null;const y=i1(p)||i1(m);return i[d][y]}),c=t&&Object.entries(t).reduce((d,p)=>{let[m,y]=p;return y===void 0||(d[m]=y),d},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:m,className:y,...b}=p;return Object.entries(b).every(x=>{let[w,E]=x;return Array.isArray(E)?E.includes({...s,...c}[w]):{...s,...c}[w]===E})?[...d,m,y]:d},[]);return o1(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)},Ly="-",FI=n=>{const e=qI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(Ly);return c[0]===""&&c.length!==1&&c.shift(),RM(c,e)||VI(l)},getConflictingClassGroupIds:(l,c)=>{const f=t[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},RM=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?RM(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(Ly);return(l=e.validators.find(({validator:c})=>c(s)))==null?void 0:l.classGroupId},s1=/^\[(.+)\]$/,VI=n=>{if(s1.test(n)){const e=s1.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},qI=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)wg(t[i],r,i,e);return r},wg=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:a1(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(YI(i)){wg(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,l])=>{wg(l,a1(e,s),t,r)})})},a1=(n,e)=>{let t=n;return e.split(Ly).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},YI=n=>n.isThemeGetter,KI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,l)=>{t.set(s,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let l=t.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){t.has(s)?t.set(s,l):i(s,l)}}},Eg="!",Cg=":",GI=Cg.length,WI=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const s=[];let l=0,c=0,f=0,d;for(let x=0;x<i.length;x++){let w=i[x];if(l===0&&c===0){if(w===Cg){s.push(i.slice(f,x)),f=x+GI;continue}if(w==="/"){d=x;continue}}w==="["?l++:w==="]"?l--:w==="("?c++:w===")"&&c--}const p=s.length===0?i:i.substring(f),m=XI(p),y=m!==p,b=d&&d>f?d-f:void 0;return{modifiers:s,hasImportantModifier:y,baseClassName:m,maybePostfixModifierPosition:b}};if(e){const i=e+Cg,s=r;r=l=>l.startsWith(i)?s(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=s=>t({className:s,parseClassName:i})}return r},XI=n=>n.endsWith(Eg)?n.substring(0,n.length-1):n.startsWith(Eg)?n.substring(1):n,JI=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...s.sort(),l),s=[]):s.push(l)}),i.push(...s.sort()),i}},QI=n=>({cache:KI(n.cacheSize),parseClassName:WI(n),sortModifiers:JI(n),...FI(n)}),ZI=/\s+/,eB=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,l=[],c=n.trim().split(ZI);let f="";for(let d=c.length-1;d>=0;d-=1){const p=c[d],{isExternal:m,modifiers:y,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:w}=t(p);if(m){f=p+(f.length>0?" "+f:f);continue}let E=!!w,T=r(E?x.substring(0,w):x);if(!T){if(!E){f=p+(f.length>0?" "+f:f);continue}if(T=r(x),!T){f=p+(f.length>0?" "+f:f);continue}E=!1}const N=s(y).join(":"),A=b?N+Eg:N,L=A+T;if(l.includes(L))continue;l.push(L);const z=i(T,E);for(let R=0;R<z.length;++R){const D=z[R];l.push(A+D)}f=p+(f.length>0?" "+f:f)}return f};function tB(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=AM(e))&&(r&&(r+=" "),r+=t);return r}const AM=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=AM(n[r]))&&(t&&(t+=" "),t+=e);return t};function nB(n,...e){let t,r,i,s=l;function l(f){const d=e.reduce((p,m)=>m(p),n());return t=QI(d),r=t.cache.get,i=t.cache.set,s=c,c(f)}function c(f){const d=r(f);if(d)return d;const p=eB(f,t);return i(f,p),p}return function(){return s(tB.apply(null,arguments))}}const Bt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},kM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rB=/^\d+\/\d+$/,iB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sa=n=>rB.test(n),Ve=n=>!!n&&!Number.isNaN(Number(n)),Ki=n=>!!n&&Number.isInteger(Number(n)),km=n=>n.endsWith("%")&&Ve(n.slice(0,-1)),li=n=>iB.test(n),cB=()=>!0,uB=n=>oB.test(n)&&!sB.test(n),PM=()=>!1,fB=n=>aB.test(n),dB=n=>lB.test(n),hB=n=>!Ee(n)&&!Ce(n),pB=n=>_a(n,_M,PM),Ee=n=>kM.test(n),Go=n=>_a(n,jM,uB),Dm=n=>_a(n,bB,Ve),l1=n=>_a(n,LM,PM),mB=n=>_a(n,zM,dB),sf=n=>_a(n,IM,fB),Ce=n=>DM.test(n),Yl=n=>ja(n,jM),gB=n=>ja(n,xB),c1=n=>ja(n,LM),yB=n=>ja(n,_M),vB=n=>ja(n,zM),af=n=>ja(n,IM,!0),_a=(n,e,t)=>{const r=kM.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},ja=(n,e,t=!1)=>{const r=DM.exec(n);return r?r[1]?e(r[1]):t:!1},LM=n=>n==="position"||n==="percentage",zM=n=>n==="image"||n==="url",_M=n=>n==="length"||n==="size"||n==="bg-size",jM=n=>n==="length",bB=n=>n==="number",xB=n=>n==="family-name",IM=n=>n==="shadow",SB=()=>{const n=Bt("color"),e=Bt("font"),t=Bt("text"),r=Bt("font-weight"),i=Bt("tracking"),s=Bt("leading"),l=Bt("breakpoint"),c=Bt("container"),f=Bt("spacing"),d=Bt("radius"),p=Bt("shadow"),m=Bt("inset-shadow"),y=Bt("text-shadow"),b=Bt("drop-shadow"),x=Bt("blur"),w=Bt("perspective"),E=Bt("aspect"),T=Bt("ease"),N=Bt("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...L(),Ce,Ee],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],j=()=>[Ce,Ee,f],q=()=>[sa,"full","auto",...j()],ie=()=>[Ki,"none","subgrid",Ce,Ee],ce=()=>["auto",{span:["full",Ki,Ce,Ee]},Ki,Ce,Ee],me=()=>[Ki,"auto",Ce,Ee],pe=()=>["auto","min","max","fr",Ce,Ee],fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],de=()=>["start","end","center","stretch","center-safe","end-safe"],_=()=>["auto",...j()],Z=()=>[sa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],H=()=>[n,Ce,Ee],J=()=>[...L(),c1,l1,{position:[Ce,Ee]}],k=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",yB,pB,{size:[Ce,Ee]}],$=()=>[km,Yl,Go],G=()=>["","none","full",d,Ce,Ee],ee=()=>["",Ve,Yl,Go],ae=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Ve,km,c1,l1],ge=()=>["","none",x,Ce,Ee],Se=()=>["none",Ve,Ce,Ee],be=()=>["none",Ve,Ce,Ee],Le=()=>[Ve,Ce,Ee],Be=()=>[sa,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[li],breakpoint:[li],color:[cB],container:[li],"drop-shadow":[li],ease:["in","out","in-out"],font:[hB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[li],shadow:[li],spacing:["px",Ve],text:[li],"text-shadow":[li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",sa,Ee,Ce,E]}],container:["container"],columns:[{columns:[Ve,Ee,Ce,c]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Ki,"auto",Ce,Ee]}],basis:[{basis:[sa,"full","auto",c,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,sa,"auto","initial","none",Ee]}],grow:[{grow:["",Ve,Ce,Ee]}],shrink:[{shrink:["",Ve,Ce,Ee]}],order:[{order:[Ki,"first","last","none",Ce,Ee]}],"grid-cols":[{"grid-cols":ie()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":ie()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":pe()}],"auto-rows":[{"auto-rows":pe()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...fe(),"normal"]}],"justify-items":[{"justify-items":[...de(),"normal"]}],"justify-self":[{"justify-self":["auto",...de()]}],"align-content":[{content:["normal",...fe()]}],"align-items":[{items:[...de(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...de(),{baseline:["","last"]}]}],"place-content":[{"place-content":fe()}],"place-items":[{"place-items":[...de(),"baseline"]}],"place-self":[{"place-self":["auto",...de()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[c,"screen",...Z()]}],"min-w":[{"min-w":[c,"screen","none",...Z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Z()]}],h:[{h:["screen",...Z()]}],"min-h":[{"min-h":["screen","none",...Z()]}],"max-h":[{"max-h":["screen",...Z()]}],"font-size":[{text:["base",t,Yl,Go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ce,Dm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",km,Ee]}],"font-family":[{font:[gB,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ce,Ee]}],"line-clamp":[{"line-clamp":[Ve,"none",Ce,Dm]}],leading:[{leading:[s,...j()]}],"list-image":[{"list-image":["none",Ce,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",Ce,Go]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Ve,"auto",Ce,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:k()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ki,Ce,Ee],radial:["",Ce,Ee],conic:[Ki,Ce,Ee]},vB,mB]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,Ce,Ee]}],"outline-w":[{outline:["",Ve,Yl,Go]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",p,af,sf]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",m,af,sf]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Ve,Go]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",y,af,sf]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Ve,Ce,Ee]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ce,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:k()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Ee]}],filter:[{filter:["","none",Ce,Ee]}],blur:[{blur:ge()}],brightness:[{brightness:[Ve,Ce,Ee]}],contrast:[{contrast:[Ve,Ce,Ee]}],"drop-shadow":[{"drop-shadow":["","none",b,af,sf]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Ve,Ce,Ee]}],"hue-rotate":[{"hue-rotate":[Ve,Ce,Ee]}],invert:[{invert:["",Ve,Ce,Ee]}],saturate:[{saturate:[Ve,Ce,Ee]}],sepia:[{sepia:["",Ve,Ce,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Ee]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,Ce,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,Ce,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,Ce,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,Ce,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Ve,Ce,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,Ce,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,Ce,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,Ce,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",Ce,Ee]}],ease:[{ease:["linear","initial",T,Ce,Ee]}],delay:[{delay:[Ve,Ce,Ee]}],animate:[{animate:["none",N,Ce,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ce,Ee]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[Ce,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Ee]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Ve,Yl,Go,Dm]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wB=nB(SB),u1=n=>{let e;const t=new Set,r=(d,p)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const y=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(b=>b(e,y))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(r,i,c);return c},EB=n=>n?u1(n):u1,CB=n=>n;function MB(n,e=CB){const t=gt.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return gt.useDebugValue(t),t}const f1=n=>{const e=EB(n),t=r=>MB(e,r);return Object.assign(t,e),t},Md=n=>n?f1(n):f1,Pm=(n,e)=>{const t=localStorage.getItem(n);return t||e},Td=Md(n=>({theme:Pm("theme","system"),fontSize:parseInt(localStorage.getItem("fontSize")||"3"),dateFormat:Pm("dateFormat","DD.MM.YYYY"),language:Pm("language","en"),setTheme:e=>{localStorage.setItem("theme",e),n({theme:e})},setFontSize:e=>{localStorage.setItem("fontSize",e.toString()),n({fontSize:e})},setDateFormat:e=>{localStorage.setItem("dateFormat",e),n({dateFormat:e})},setLanguage:e=>{localStorage.setItem("language",e),n({language:e})}}));function st(...n){return wB(NM(n))}const TB=n=>n.replace(/<[^>]*>/g,"").slice(0,100),OB=n=>{const{dateFormat:e}=Td.getState(),t=new Date(n),r=t.getDate().toString().padStart(2,"0"),i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear();switch(e){case"DD/MM/YYYY":return`${r}/${i}/${s}`;case"DD.MM.YYYY":return`${r}.${i}.${s}`;case"YYYY-MM-DD":return`${s}-${i}-${r}`;case"MM/DD/YYYY":default:return`${i}/${r}/${s}`}},NB=n=>{if(n===0)return"0 B";const e=["B","KB","MB","GB","TB"],t=Math.floor(Math.log(n)/Math.log(1024));return`${(n/Math.pow(1024,t)).toFixed(1)} ${e[t]}`},BM=n=>["ru","kg"].includes(n),$M=UI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Bn({className:n,variant:e,size:t,asChild:r=!1,...i}){const s=r?MM:"button";return C.jsx(s,{"data-slot":"button",className:st($M({variant:e,size:t,className:n})),...i})}/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AB=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),d1=n=>{const e=AB(n);return e.charAt(0).toUpperCase()+e.slice(1)},HM=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},f)=>S.createElement("svg",{ref:f,...kB,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:HM("lucide",i),...c},[...l.map(([d,p])=>S.createElement(d,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(n,e)=>{const t=S.forwardRef(({className:r,...i},s)=>S.createElement(DB,{ref:s,iconNode:e,className:HM(`lucide-${RB(d1(n))}`,`lucide-${n}`,r),...i}));return t.displayName=d1(n),t};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],UM=$t("arrow-left",PB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zB=$t("check",LB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FM=$t("chevron-down",_B);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],IB=$t("chevron-up",jB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16.2V21h-4.8",key:"1hrera"}],["path",{d:"M21 7.8V3h-4.8",key:"ul1q53"}],["path",{d:"M3 16.2V21h4.8",key:"1x04uo"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 7.8V3h4.8",key:"1ijppm"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],$B=$t("expand",BB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],UB=$t("laptop",HB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],VB=$t("lock-open",FB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],VM=$t("lock",qB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],KB=$t("menu",YB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],WB=$t("minimize-2",GB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],JB=$t("moon",XB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ZB=$t("plus",QB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],t3=$t("save",e3);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Od=$t("search",n3);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i3=$t("settings",r3);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],s3=$t("square-pen",o3);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],l3=$t("sun",a3);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],u3=$t("trash",c3);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mg=$t("x",f3),d3=(n,e,t)=>RegExp(e?n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):n,t?"gu":"gui");function h3(n,e,t,r){const i=[],s=[];let l=[],c=0;if(!e)return{decorationsToReturn:Ot.empty,results:[]};n==null||n.descendants((f,d)=>{f.isText?l[c]?l[c]={text:l[c].text+f.text,pos:l[c].pos}:l[c]={text:`${f.text}`,pos:d}:c+=1}),l=l.filter(Boolean);for(const f of l){const{text:d,pos:p}=f,m=Array.from(d.matchAll(e)).filter(([y])=>y.trim());for(const y of m){if(y[0]==="")break;y.index!==void 0&&s.push({from:p+y.index,to:p+y.index+y[0].length})}}for(let f=0;f<s.length;f+=1){const d=s[f],p=f===r?`${t} ${t}-current`:t,m=nr.inline(d.from,d.to,{class:p});i.push(m)}return{decorationsToReturn:Ot.create(n,i),results:s}}const p3=(n,e,{state:t,dispatch:r})=>{if(!e[0])return;const{from:s,to:l}=e[0];r&&r(t.tr.insertText(n,s,l))},m3=(n,e,t,r)=>{const i=e+1;if(!r[i])return null;const{from:s,to:l}=r[e],c=l-s-n.length+t,{from:f,to:d}=r[i];return r[i]={to:d-c,from:f-c},[c,r]},g3=(n,e,{tr:t,dispatch:r})=>{let i=0,s=e.slice();if(s.length){for(let l=0;l<s.length;l+=1){const{from:c,to:f}=s[l];t.insertText(n,c,f);const d=m3(n,l,i,s);d&&(i=d[0],s=d[1])}r(t)}},y3=new Br("searchAndReplacePlugin"),v3=Hn.create({name:"searchAndReplace",addOptions(){return{searchResultClass:"search-result",disableRegex:!0}},addStorage(){return{searchTerm:"",replaceTerm:"",results:[],lastSearchTerm:"",caseSensitive:!1,lastCaseSensitive:!1,resultIndex:0,lastResultIndex:0}},addCommands(){return{setSearchTerm:n=>({editor:e})=>(e.storage.searchAndReplace.searchTerm=n,!1),setReplaceTerm:n=>({editor:e})=>(e.storage.searchAndReplace.replaceTerm=n,!1),setCaseSensitive:n=>({editor:e})=>(e.storage.searchAndReplace.caseSensitive=n,!1),resetIndex:()=>({editor:n})=>(n.storage.searchAndReplace.resultIndex=0,!1),nextSearchResult:()=>({editor:n})=>{const{results:e,resultIndex:t}=n.storage.searchAndReplace,r=t+1;return e[r]?n.storage.searchAndReplace.resultIndex=r:n.storage.searchAndReplace.resultIndex=0,!1},previousSearchResult:()=>({editor:n})=>{const{results:e,resultIndex:t}=n.storage.searchAndReplace,r=t-1;return e[r]?n.storage.searchAndReplace.resultIndex=r:n.storage.searchAndReplace.resultIndex=e.length-1,!1},replace:()=>({editor:n,state:e,dispatch:t})=>{const{replaceTerm:r,results:i}=n.storage.searchAndReplace;return p3(r,i,{state:e,dispatch:t}),!1},replaceAll:()=>({editor:n,tr:e,dispatch:t})=>{const{replaceTerm:r,results:i}=n.storage.searchAndReplace;return g3(r,i,{tr:e,dispatch:t}),!1}}},addProseMirrorPlugins(){const n=this.editor,{searchResultClass:e,disableRegex:t}=this.options,r=l=>n.storage.searchAndReplace.lastSearchTerm=l,i=l=>n.storage.searchAndReplace.lastCaseSensitive=l,s=l=>n.storage.searchAndReplace.lastResultIndex=l;return[new sr({key:y3,state:{init:()=>Ot.empty,apply({doc:l,docChanged:c},f){const{searchTerm:d,lastSearchTerm:p,caseSensitive:m,lastCaseSensitive:y,resultIndex:b,lastResultIndex:x}=n.storage.searchAndReplace;if(!c&&p===d&&y===m&&x===b)return f;if(r(d),i(m),s(b),!d)return n.storage.searchAndReplace.results=[],Ot.empty;const{decorationsToReturn:w,results:E}=h3(l,d3(d,t,m),e,b);return n.storage.searchAndReplace.results=E,w}},props:{decorations(l){return this.getState(l)}}})]}}),b3=[aI,oI,lI,fI.configure({keepMarks:!0,keepAttributes:!1}),cI,hI.configure({keepMarks:!0,keepAttributes:!1}),pI,bI,RI,LI,_I,sI,v3.configure()],x3=({editable:n=!0,value:e,onChange:t,ref:r,className:i})=>{const s=tI({immediatelyRender:!1,extensions:b3,content:e,onUpdate:({editor:l})=>{t==null||t(l.getText())},editable:n},[n,e]);return S.useImperativeHandle(r,()=>s,[s]),C.jsx("div",{className:i,children:C.jsx(qj,{value:e,editor:s})})};function ye(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function S3(n,e){const t=S.createContext(e),r=s=>{const{children:l,...c}=s,f=S.useMemo(()=>c,Object.values(c));return C.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function i(s){const l=S.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function $r(n,e=[]){let t=[];function r(s,l){const c=S.createContext(l),f=t.length;t=[...t,l];const d=m=>{var T;const{scope:y,children:b,...x}=m,w=((T=y==null?void 0:y[n])==null?void 0:T[f])||c,E=S.useMemo(()=>x,Object.values(x));return C.jsx(w.Provider,{value:E,children:b})};d.displayName=s+"Provider";function p(m,y){var w;const b=((w=y==null?void 0:y[n])==null?void 0:w[f])||c,x=S.useContext(b);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,p]}const i=()=>{const s=t.map(l=>S.createContext(l));return function(c){const f=(c==null?void 0:c[n])||s;return S.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return i.scopeName=n,[r,w3(i,...e)]}function w3(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((c,{useScope:f,scopeName:d})=>{const m=f(s)[`__scope${d}`];return{...c,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var E3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tn=E3.reduce((n,e)=>{const t=Un(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(f,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function C3(n,e){n&&Ir.flushSync(()=>n.dispatchEvent(e))}function Lt(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Nd(n,e=globalThis==null?void 0:globalThis.document){const t=Lt(n);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var M3="DismissableLayer",Tg="dismissableLayer.update",T3="dismissableLayer.pointerDownOutside",O3="dismissableLayer.focusOutside",h1,qM=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),YM=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:c,...f}=n,d=S.useContext(qM),[p,m]=S.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=S.useState({}),x=qe(e,D=>m(D)),w=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),T=w.indexOf(E),N=p?w.indexOf(p):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,L=N>=T,z=A3(D=>{const j=D.target,q=[...d.branches].some(ie=>ie.contains(j));!L||q||(i==null||i(D),l==null||l(D),D.defaultPrevented||c==null||c())},y),R=k3(D=>{const j=D.target;[...d.branches].some(ie=>ie.contains(j))||(s==null||s(D),l==null||l(D),D.defaultPrevented||c==null||c())},y);return Nd(D=>{N===d.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},y),S.useEffect(()=>{if(p)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(h1=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),p1(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=h1)}},[p,y,t,d]),S.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),p1())},[p,d]),S.useEffect(()=>{const D=()=>b({});return document.addEventListener(Tg,D),()=>document.removeEventListener(Tg,D)},[]),C.jsx(tn.div,{...f,ref:x,style:{pointerEvents:A?L?"auto":"none":void 0,...n.style},onFocusCapture:ye(n.onFocusCapture,R.onFocusCapture),onBlurCapture:ye(n.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ye(n.onPointerDownCapture,z.onPointerDownCapture)})});YM.displayName=M3;var N3="DismissableLayerBranch",R3=S.forwardRef((n,e)=>{const t=S.useContext(qM),r=S.useRef(null),i=qe(e,r);return S.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),C.jsx(tn.div,{...n,ref:i})});R3.displayName=N3;function A3(n,e=globalThis==null?void 0:globalThis.document){const t=Lt(n),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let f=function(){KM(T3,t,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function k3(n,e=globalThis==null?void 0:globalThis.document){const t=Lt(n),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&KM(O3,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function p1(){const n=new CustomEvent(Tg);document.dispatchEvent(n)}function KM(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?C3(i,s):i.dispatchEvent(s)}var yt=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},D3=Ec[" useId ".trim().toString()]||(()=>{}),P3=0;function cn(n){const[e,t]=S.useState(D3());return yt(()=>{t(r=>r??String(P3++))},[n]),e?`radix-${e}`:""}const L3=["top","right","bottom","left"],ho=Math.min,_n=Math.max,Yf=Math.round,lf=Math.floor,Pr=n=>({x:n,y:n}),z3={left:"right",right:"left",bottom:"top",top:"bottom"},_3={start:"end",end:"start"};function Og(n,e,t){return _n(n,ho(e,t))}function mi(n,e){return typeof n=="function"?n(e):n}function gi(n){return n.split("-")[0]}function Ia(n){return n.split("-")[1]}function zy(n){return n==="x"?"y":"x"}function _y(n){return n==="y"?"height":"width"}function po(n){return["top","bottom"].includes(gi(n))?"y":"x"}function jy(n){return zy(po(n))}function j3(n,e,t){t===void 0&&(t=!1);const r=Ia(n),i=jy(n),s=_y(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=Kf(l)),[l,Kf(l)]}function I3(n){const e=Kf(n);return[Ng(n),e,Ng(e)]}function Ng(n){return n.replace(/start|end/g,e=>_3[e])}function B3(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:l;default:return[]}}function $3(n,e,t,r){const i=Ia(n);let s=B3(gi(n),t==="start",r);return i&&(s=s.map(l=>l+"-"+i),e&&(s=s.concat(s.map(Ng)))),s}function Kf(n){return n.replace(/left|right|bottom|top/g,e=>z3[e])}function H3(n){return{top:0,right:0,bottom:0,left:0,...n}}function GM(n){return typeof n!="number"?H3(n):{top:n,right:n,bottom:n,left:n}}function Gf(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function m1(n,e,t){let{reference:r,floating:i}=n;const s=po(e),l=jy(e),c=_y(l),f=gi(e),d=s==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,y=r[c]/2-i[c]/2;let b;switch(f){case"top":b={x:p,y:r.y-i.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-i.width,y:m};break;default:b={x:r.x,y:r.y}}switch(Ia(e)){case"start":b[l]-=y*(t&&d?-1:1);break;case"end":b[l]+=y*(t&&d?-1:1);break}return b}const U3=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=t,c=s.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let d=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:p,y:m}=m1(d,r,f),y=r,b={},x=0;for(let w=0;w<c.length;w++){const{name:E,fn:T}=c[w],{x:N,y:A,data:L,reset:z}=await T({x:p,y:m,initialPlacement:r,placement:y,strategy:i,middlewareData:b,rects:d,platform:l,elements:{reference:n,floating:e}});p=N??p,m=A??m,b={...b,[E]:{...b[E],...L}},z&&x<=50&&(x++,typeof z=="object"&&(z.placement&&(y=z.placement),z.rects&&(d=z.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):z.rects),{x:p,y:m}=m1(d,y,f)),w=-1)}return{x:p,y:m,placement:y,strategy:i,middlewareData:b}};async function yc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:f}=n,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:y=!1,padding:b=0}=mi(e,n),x=GM(b),E=c[y?m==="floating"?"reference":"floating":m],T=Gf(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(E)))==null||t?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:f})),N=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),L=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},z=Gf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:A,strategy:f}):N);return{top:(T.top-z.top+x.top)/L.y,bottom:(z.bottom-T.bottom+x.bottom)/L.y,left:(T.left-z.left+x.left)/L.x,right:(z.right-T.right+x.right)/L.x}}const F3=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:f}=e,{element:d,padding:p=0}=mi(n,e)||{};if(d==null)return{};const m=GM(p),y={x:t,y:r},b=jy(i),x=_y(b),w=await l.getDimensions(d),E=b==="y",T=E?"top":"left",N=E?"bottom":"right",A=E?"clientHeight":"clientWidth",L=s.reference[x]+s.reference[b]-y[b]-s.floating[x],z=y[b]-s.reference[b],R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let D=R?R[A]:0;(!D||!await(l.isElement==null?void 0:l.isElement(R)))&&(D=c.floating[A]||s.floating[x]);const j=L/2-z/2,q=D/2-w[x]/2-1,ie=ho(m[T],q),ce=ho(m[N],q),me=ie,pe=D-w[x]-ce,fe=D/2-w[x]/2+j,de=Og(me,fe,pe),_=!f.arrow&&Ia(i)!=null&&fe!==de&&s.reference[x]/2-(fe<me?ie:ce)-w[x]/2<0,Z=_?fe<me?fe-me:fe-pe:0;return{[b]:y[b]+Z,data:{[b]:de,centerOffset:fe-de-Z,..._&&{alignmentOffset:Z}},reset:_}}}),V3=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:f,elements:d}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...E}=mi(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const T=gi(i),N=po(c),A=gi(c)===c,L=await(f.isRTL==null?void 0:f.isRTL(d.floating)),z=y||(A||!w?[Kf(c)]:I3(c)),R=x!=="none";!y&&R&&z.push(...$3(c,w,x,L));const D=[c,...z],j=await yc(e,E),q=[];let ie=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&q.push(j[T]),m){const fe=j3(i,l,L);q.push(j[fe[0]],j[fe[1]])}if(ie=[...ie,{placement:i,overflows:q}],!q.every(fe=>fe<=0)){var ce,me;const fe=(((ce=s.flip)==null?void 0:ce.index)||0)+1,de=D[fe];if(de)return{data:{index:fe,overflows:ie},reset:{placement:de}};let _=(me=ie.filter(Z=>Z.overflows[0]<=0).sort((Z,H)=>Z.overflows[1]-H.overflows[1])[0])==null?void 0:me.placement;if(!_)switch(b){case"bestFit":{var pe;const Z=(pe=ie.filter(H=>{if(R){const J=po(H.placement);return J===N||J==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(J=>J>0).reduce((J,k)=>J+k,0)]).sort((H,J)=>H[1]-J[1])[0])==null?void 0:pe[0];Z&&(_=Z);break}case"initialPlacement":_=c;break}if(i!==_)return{reset:{placement:_}}}return{}}}};function g1(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function y1(n){return L3.some(e=>n[e]>=0)}const q3=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=mi(n,e);switch(r){case"referenceHidden":{const s=await yc(e,{...i,elementContext:"reference"}),l=g1(s,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:y1(l)}}}case"escaped":{const s=await yc(e,{...i,altBoundary:!0}),l=g1(s,t.floating);return{data:{escapedOffsets:l,escaped:y1(l)}}}default:return{}}}}};async function Y3(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=gi(t),c=Ia(t),f=po(t)==="y",d=["left","top"].includes(l)?-1:1,p=s&&f?-1:1,m=mi(e,n);let{mainAxis:y,crossAxis:b,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof x=="number"&&(b=c==="end"?x*-1:x),f?{x:b*p,y:y*d}:{x:y*d,y:b*p}}const K3=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:l,middlewareData:c}=e,f=await Y3(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:s+f.y,data:{...f,placement:l}}}}},G3=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:E=>{let{x:T,y:N}=E;return{x:T,y:N}}},...f}=mi(n,e),d={x:t,y:r},p=await yc(e,f),m=po(gi(i)),y=zy(m);let b=d[y],x=d[m];if(s){const E=y==="y"?"top":"left",T=y==="y"?"bottom":"right",N=b+p[E],A=b-p[T];b=Og(N,b,A)}if(l){const E=m==="y"?"top":"left",T=m==="y"?"bottom":"right",N=x+p[E],A=x-p[T];x=Og(N,x,A)}const w=c.fn({...e,[y]:b,[m]:x});return{...w,data:{x:w.x-t,y:w.y-r,enabled:{[y]:s,[m]:l}}}}}},W3=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:d=!0}=mi(n,e),p={x:t,y:r},m=po(i),y=zy(m);let b=p[y],x=p[m];const w=mi(c,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const A=y==="y"?"height":"width",L=s.reference[y]-s.floating[A]+E.mainAxis,z=s.reference[y]+s.reference[A]-E.mainAxis;b<L?b=L:b>z&&(b=z)}if(d){var T,N;const A=y==="y"?"width":"height",L=["top","left"].includes(gi(i)),z=s.reference[m]-s.floating[A]+(L&&((T=l.offset)==null?void 0:T[m])||0)+(L?0:E.crossAxis),R=s.reference[m]+s.reference[A]+(L?0:((N=l.offset)==null?void 0:N[m])||0)-(L?E.crossAxis:0);x<z?x=z:x>R&&(x=R)}return{[y]:b,[m]:x}}}},X3=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:l,elements:c}=e,{apply:f=()=>{},...d}=mi(n,e),p=await yc(e,d),m=gi(i),y=Ia(i),b=po(i)==="y",{width:x,height:w}=s.floating;let E,T;m==="top"||m==="bottom"?(E=m,T=y===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(T=m,E=y==="end"?"top":"bottom");const N=w-p.top-p.bottom,A=x-p.left-p.right,L=ho(w-p[E],N),z=ho(x-p[T],A),R=!e.middlewareData.shift;let D=L,j=z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(j=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=N),R&&!y){const ie=_n(p.left,0),ce=_n(p.right,0),me=_n(p.top,0),pe=_n(p.bottom,0);b?j=x-2*(ie!==0||ce!==0?ie+ce:_n(p.left,p.right)):D=w-2*(me!==0||pe!==0?me+pe:_n(p.top,p.bottom))}await f({...e,availableWidth:j,availableHeight:D});const q=await l.getDimensions(c.floating);return x!==q.width||w!==q.height?{reset:{rects:!0}}:{}}}};function Rd(){return typeof window<"u"}function Ba(n){return WM(n)?(n.nodeName||"").toLowerCase():"#document"}function $n(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Hr(n){var e;return(e=(WM(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function WM(n){return Rd()?n instanceof Node||n instanceof $n(n).Node:!1}function vr(n){return Rd()?n instanceof Element||n instanceof $n(n).Element:!1}function _r(n){return Rd()?n instanceof HTMLElement||n instanceof $n(n).HTMLElement:!1}function v1(n){return!Rd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof $n(n).ShadowRoot}function kc(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=br(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function J3(n){return["table","td","th"].includes(Ba(n))}function Ad(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Iy(n){const e=By(),t=vr(n)?br(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Q3(n){let e=mo(n);for(;_r(e)&&!Da(e);){if(Iy(e))return e;if(Ad(e))return null;e=mo(e)}return null}function By(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Da(n){return["html","body","#document"].includes(Ba(n))}function br(n){return $n(n).getComputedStyle(n)}function kd(n){return vr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function mo(n){if(Ba(n)==="html")return n;const e=n.assignedSlot||n.parentNode||v1(n)&&n.host||Hr(n);return v1(e)?e.host:e}function XM(n){const e=mo(n);return Da(e)?n.ownerDocument?n.ownerDocument.body:n.body:_r(e)&&kc(e)?e:XM(e)}function vc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=XM(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),l=$n(i);if(s){const c=Rg(l);return e.concat(l,l.visualViewport||[],kc(i)?i:[],c&&t?vc(c):[])}return e.concat(i,vc(i,[],t))}function Rg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function JM(n){const e=br(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=_r(n),s=i?n.offsetWidth:t,l=i?n.offsetHeight:r,c=Yf(t)!==s||Yf(r)!==l;return c&&(t=s,r=l),{width:t,height:r,$:c}}function $y(n){return vr(n)?n:n.contextElement}function Ca(n){const e=$y(n);if(!_r(e))return Pr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=JM(e);let l=(s?Yf(t.width):t.width)/r,c=(s?Yf(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Z3=Pr(0);function QM(n){const e=$n(n);return!By()||!e.visualViewport?Z3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function e$(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==$n(n)?!1:e}function hs(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=$y(n);let l=Pr(1);e&&(r?vr(r)&&(l=Ca(r)):l=Ca(n));const c=e$(s,t,r)?QM(s):Pr(0);let f=(i.left+c.x)/l.x,d=(i.top+c.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(s){const y=$n(s),b=r&&vr(r)?$n(r):r;let x=y,w=Rg(x);for(;w&&r&&b!==x;){const E=Ca(w),T=w.getBoundingClientRect(),N=br(w),A=T.left+(w.clientLeft+parseFloat(N.paddingLeft))*E.x,L=T.top+(w.clientTop+parseFloat(N.paddingTop))*E.y;f*=E.x,d*=E.y,p*=E.x,m*=E.y,f+=A,d+=L,x=$n(w),w=Rg(x)}}return Gf({width:p,height:m,x:f,y:d})}function Hy(n,e){const t=kd(n).scrollLeft;return e?e.left+t:hs(Hr(n)).left+t}function ZM(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Hy(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function t$(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",l=Hr(r),c=e?Ad(e.floating):!1;if(r===l||c&&s)return t;let f={scrollLeft:0,scrollTop:0},d=Pr(1);const p=Pr(0),m=_r(r);if((m||!m&&!s)&&((Ba(r)!=="body"||kc(l))&&(f=kd(r)),_r(r))){const b=hs(r);d=Ca(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const y=l&&!m&&!s?ZM(l,f,!0):Pr(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-f.scrollLeft*d.x+p.x+y.x,y:t.y*d.y-f.scrollTop*d.y+p.y+y.y}}function n$(n){return Array.from(n.getClientRects())}function r$(n){const e=Hr(n),t=kd(n),r=n.ownerDocument.body,i=_n(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=_n(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Hy(n);const c=-t.scrollTop;return br(r).direction==="rtl"&&(l+=_n(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}function i$(n,e){const t=$n(n),r=Hr(n),i=t.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){s=i.width,l=i.height;const d=By();(!d||d&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:s,height:l,x:c,y:f}}function o$(n,e){const t=hs(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=_r(n)?Ca(n):Pr(1),l=n.clientWidth*s.x,c=n.clientHeight*s.y,f=i*s.x,d=r*s.y;return{width:l,height:c,x:f,y:d}}function b1(n,e,t){let r;if(e==="viewport")r=i$(n,t);else if(e==="document")r=r$(Hr(n));else if(vr(e))r=o$(e,t);else{const i=QM(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Gf(r)}function eT(n,e){const t=mo(n);return t===e||!vr(t)||Da(t)?!1:br(t).position==="fixed"||eT(t,e)}function s$(n,e){const t=e.get(n);if(t)return t;let r=vc(n,[],!1).filter(c=>vr(c)&&Ba(c)!=="body"),i=null;const s=br(n).position==="fixed";let l=s?mo(n):n;for(;vr(l)&&!Da(l);){const c=br(l),f=Iy(l);!f&&c.position==="fixed"&&(i=null),(s?!f&&!i:!f&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||kc(l)&&!f&&eT(n,l))?r=r.filter(p=>p!==l):i=c,l=mo(l)}return e.set(n,r),r}function a$(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?Ad(e)?[]:s$(e,this._c):[].concat(t),r],c=l[0],f=l.reduce((d,p)=>{const m=b1(e,p,i);return d.top=_n(m.top,d.top),d.right=ho(m.right,d.right),d.bottom=ho(m.bottom,d.bottom),d.left=_n(m.left,d.left),d},b1(e,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function l$(n){const{width:e,height:t}=JM(n);return{width:e,height:t}}function c$(n,e,t){const r=_r(e),i=Hr(e),s=t==="fixed",l=hs(n,!0,s,e);let c={scrollLeft:0,scrollTop:0};const f=Pr(0);if(r||!r&&!s)if((Ba(e)!=="body"||kc(i))&&(c=kd(e)),r){const y=hs(e,!0,s,e);f.x=y.x+e.clientLeft,f.y=y.y+e.clientTop}else i&&(f.x=Hy(i));const d=i&&!r&&!s?ZM(i,c):Pr(0),p=l.left+c.scrollLeft-f.x-d.x,m=l.top+c.scrollTop-f.y-d.y;return{x:p,y:m,width:l.width,height:l.height}}function Lm(n){return br(n).position==="static"}function x1(n,e){if(!_r(n)||br(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Hr(n)===t&&(t=t.ownerDocument.body),t}function tT(n,e){const t=$n(n);if(Ad(n))return t;if(!_r(n)){let i=mo(n);for(;i&&!Da(i);){if(vr(i)&&!Lm(i))return i;i=mo(i)}return t}let r=x1(n,e);for(;r&&J3(r)&&Lm(r);)r=x1(r,e);return r&&Da(r)&&Lm(r)&&!Iy(r)?t:r||Q3(n)||t}const u$=async function(n){const e=this.getOffsetParent||tT,t=this.getDimensions,r=await t(n.floating);return{reference:c$(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function f$(n){return br(n).direction==="rtl"}const d$={convertOffsetParentRelativeRectToViewportRelativeRect:t$,getDocumentElement:Hr,getClippingRect:a$,getOffsetParent:tT,getElementRects:u$,getClientRects:n$,getDimensions:l$,getScale:Ca,isElement:vr,isRTL:f$};function nT(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function h$(n,e){let t=null,r;const i=Hr(n);function s(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),s();const d=n.getBoundingClientRect(),{left:p,top:m,width:y,height:b}=d;if(c||e(),!y||!b)return;const x=lf(m),w=lf(i.clientWidth-(p+y)),E=lf(i.clientHeight-(m+b)),T=lf(p),A={rootMargin:-x+"px "+-w+"px "+-E+"px "+-T+"px",threshold:_n(0,ho(1,f))||1};let L=!0;function z(R){const D=R[0].intersectionRatio;if(D!==f){if(!L)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!nT(d,n.getBoundingClientRect())&&l(),L=!1}try{t=new IntersectionObserver(z,{...A,root:i.ownerDocument})}catch{t=new IntersectionObserver(z,A)}t.observe(n)}return l(!0),s}function Uy(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,d=$y(n),p=i||s?[...d?vc(d):[],...vc(e)]:[];p.forEach(T=>{i&&T.addEventListener("scroll",t,{passive:!0}),s&&T.addEventListener("resize",t)});const m=d&&c?h$(d,t):null;let y=-1,b=null;l&&(b=new ResizeObserver(T=>{let[N]=T;N&&N.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(e)})),t()}),d&&!f&&b.observe(d),b.observe(e));let x,w=f?hs(n):null;f&&E();function E(){const T=hs(n);w&&!nT(w,T)&&t(),w=T,x=requestAnimationFrame(E)}return t(),()=>{var T;p.forEach(N=>{i&&N.removeEventListener("scroll",t),s&&N.removeEventListener("resize",t)}),m==null||m(),(T=b)==null||T.disconnect(),b=null,f&&cancelAnimationFrame(x)}}const p$=K3,m$=G3,g$=V3,y$=X3,v$=q3,S1=F3,b$=W3,x$=(n,e,t)=>{const r=new Map,i={platform:d$,...t},s={...i.platform,_c:r};return U3(n,e,{...i,platform:s})};var Ef=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Wf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Wf(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Wf(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function rT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function w1(n,e){const t=rT(n);return Math.round(e*t)/t}function zm(n){const e=S.useRef(n);return Ef(()=>{e.current=n}),e}function Fy(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:c=!0,whileElementsMounted:f,open:d}=n,[p,m]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,b]=S.useState(r);Wf(y,r)||b(r);const[x,w]=S.useState(null),[E,T]=S.useState(null),N=S.useCallback(H=>{H!==R.current&&(R.current=H,w(H))},[]),A=S.useCallback(H=>{H!==D.current&&(D.current=H,T(H))},[]),L=s||x,z=l||E,R=S.useRef(null),D=S.useRef(null),j=S.useRef(p),q=f!=null,ie=zm(f),ce=zm(i),me=zm(d),pe=S.useCallback(()=>{if(!R.current||!D.current)return;const H={placement:e,strategy:t,middleware:y};ce.current&&(H.platform=ce.current),x$(R.current,D.current,H).then(J=>{const k={...J,isPositioned:me.current!==!1};fe.current&&!Wf(j.current,k)&&(j.current=k,Ir.flushSync(()=>{m(k)}))})},[y,e,t,ce,me]);Ef(()=>{d===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[d]);const fe=S.useRef(!1);Ef(()=>(fe.current=!0,()=>{fe.current=!1}),[]),Ef(()=>{if(L&&(R.current=L),z&&(D.current=z),L&&z){if(ie.current)return ie.current(L,z,pe);pe()}},[L,z,pe,ie,q]);const de=S.useMemo(()=>({reference:R,floating:D,setReference:N,setFloating:A}),[N,A]),_=S.useMemo(()=>({reference:L,floating:z}),[L,z]),Z=S.useMemo(()=>{const H={position:t,left:0,top:0};if(!_.floating)return H;const J=w1(_.floating,p.x),k=w1(_.floating,p.y);return c?{...H,transform:"translate("+J+"px, "+k+"px)",...rT(_.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:J,top:k}},[t,c,_.floating,p.x,p.y]);return S.useMemo(()=>({...p,update:pe,refs:de,elements:_,floatingStyles:Z}),[p,pe,de,_,Z])}const S$=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?S1({element:r.current,padding:i}).fn(t):{}:r?S1({element:r,padding:i}).fn(t):{}}}},Vy=(n,e)=>({...p$(n),options:[n,e]}),qy=(n,e)=>({...m$(n),options:[n,e]}),Yy=(n,e)=>({...b$(n),options:[n,e]}),Ky=(n,e)=>({...g$(n),options:[n,e]}),Gy=(n,e)=>({...y$(n),options:[n,e]}),Wy=(n,e)=>({...v$(n),options:[n,e]}),Xy=(n,e)=>({...S$(n),options:[n,e]});var w$="Arrow",iT=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return C.jsx(tn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});iT.displayName=w$;var E$=iT;function Jy(n){const[e,t]=S.useState(void 0);return yt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,c;if("borderBoxSize"in s){const f=s.borderBoxSize,d=Array.isArray(f)?f[0]:f;l=d.inlineSize,c=d.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Qy="Popper",[oT,sT]=$r(Qy),[C$,aT]=oT(Qy),lT=n=>{const{__scopePopper:e,children:t}=n,[r,i]=S.useState(null);return C.jsx(C$,{scope:e,anchor:r,onAnchorChange:i,children:t})};lT.displayName=Qy;var cT="PopperAnchor",uT=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=aT(cT,t),l=S.useRef(null),c=qe(e,l);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:C.jsx(tn.div,{...i,ref:c})});uT.displayName=cT;var Zy="PopperContent",[M$,T$]=oT(Zy),fT=S.forwardRef((n,e)=>{var re,ge,Se,be,Le,Be;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:x,...w}=n,E=aT(Zy,t),[T,N]=S.useState(null),A=qe(e,it=>N(it)),[L,z]=S.useState(null),R=Jy(L),D=(R==null?void 0:R.width)??0,j=(R==null?void 0:R.height)??0,q=r+(s!=="center"?"-"+s:""),ie=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ce=Array.isArray(d)?d:[d],me=ce.length>0,pe={padding:ie,boundary:ce.filter(N$),altBoundary:me},{refs:fe,floatingStyles:de,placement:_,isPositioned:Z,middlewareData:H}=Fy({strategy:"fixed",placement:q,whileElementsMounted:(...it)=>Uy(...it,{animationFrame:b==="always"}),elements:{reference:E.anchor},middleware:[Vy({mainAxis:i+j,alignmentAxis:l}),f&&qy({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Yy():void 0,...pe}),f&&Ky({...pe}),Gy({...pe,apply:({elements:it,rects:ct,availableWidth:Mn,availableHeight:Tn})=>{const{width:St,height:Fr}=ct.reference,_t=it.floating.style;_t.setProperty("--radix-popper-available-width",`${Mn}px`),_t.setProperty("--radix-popper-available-height",`${Tn}px`),_t.setProperty("--radix-popper-anchor-width",`${St}px`),_t.setProperty("--radix-popper-anchor-height",`${Fr}px`)}}),L&&Xy({element:L,padding:c}),R$({arrowWidth:D,arrowHeight:j}),y&&Wy({strategy:"referenceHidden",...pe})]}),[J,k]=pT(_),Y=Lt(x);yt(()=>{Z&&(Y==null||Y())},[Z,Y]);const $=(re=H.arrow)==null?void 0:re.x,G=(ge=H.arrow)==null?void 0:ge.y,ee=((Se=H.arrow)==null?void 0:Se.centerOffset)!==0,[ae,le]=S.useState();return yt(()=>{T&&le(window.getComputedStyle(T).zIndex)},[T]),C.jsx("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Z?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(be=H.transformOrigin)==null?void 0:be.x,(Le=H.transformOrigin)==null?void 0:Le.y].join(" "),...((Be=H.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:C.jsx(M$,{scope:t,placedSide:J,onArrowChange:z,arrowX:$,arrowY:G,shouldHideArrow:ee,children:C.jsx(tn.div,{"data-side":J,"data-align":k,...w,ref:A,style:{...w.style,animation:Z?void 0:"none"}})})})});fT.displayName=Zy;var dT="PopperArrow",O$={top:"bottom",right:"left",bottom:"top",left:"right"},hT=S.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=T$(dT,r),l=O$[s.placedSide];return C.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:C.jsx(E$,{...i,ref:t,style:{...i.style,display:"block"}})})});hT.displayName=dT;function N$(n){return n!==null}var R$=n=>({name:"transformOrigin",options:n,fn(e){var E,T,N;const{placement:t,rects:r,middlewareData:i}=e,l=((E=i.arrow)==null?void 0:E.centerOffset)!==0,c=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[d,p]=pT(t),m={start:"0%",center:"50%",end:"100%"}[p],y=(((T=i.arrow)==null?void 0:T.x)??0)+c/2,b=(((N=i.arrow)==null?void 0:N.y)??0)+f/2;let x="",w="";return d==="bottom"?(x=l?m:`${y}px`,w=`${-f}px`):d==="top"?(x=l?m:`${y}px`,w=`${r.floating.height+f}px`):d==="right"?(x=`${-f}px`,w=l?m:`${b}px`):d==="left"&&(x=`${r.floating.width+f}px`,w=l?m:`${b}px`),{data:{x,y:w}}}});function pT(n){const[e,t="center"]=n.split("-");return[e,t]}var A$=lT,k$=uT,D$=fT,P$=hT,L$="Portal",mT=S.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,s]=S.useState(!1);yt(()=>s(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Oc.createPortal(C.jsx(tn.div,{...r,ref:e}),l):null});mT.displayName=L$;function z$(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var Ur=n=>{const{present:e,children:t}=n,r=_$(e),i=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),s=qe(r.ref,j$(i));return typeof t=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Ur.displayName="Presence";function _$(n){const[e,t]=S.useState(),r=S.useRef({}),i=S.useRef(n),s=S.useRef("none"),l=n?"mounted":"unmounted",[c,f]=z$(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const d=cf(r.current);s.current=c==="mounted"?d:"none"},[c]),yt(()=>{const d=r.current,p=i.current;if(p!==n){const y=s.current,b=cf(d);n?f("MOUNT"):b==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),yt(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,m=b=>{const w=cf(r.current).includes(b.animationName);if(b.target===e&&w&&(f("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},y=b=>{b.target===e&&(s.current=cf(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:S.useCallback(d=>{d&&(r.current=getComputedStyle(d)),t(d)},[])}}function cf(n){return(n==null?void 0:n.animationName)||"none"}function j$(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function I$({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=B$({defaultProp:e,onChange:t}),s=n!==void 0,l=s?n:r,c=Lt(t),f=S.useCallback(d=>{if(s){const m=typeof d=="function"?d(n):d;m!==n&&c(m)}else i(d)},[s,n,i,c]);return[l,f]}function B$({defaultProp:n,onChange:e}){const t=S.useState(n),[r]=t,i=S.useRef(r),s=Lt(e);return S.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var $$="VisuallyHidden",gT=S.forwardRef((n,e)=>C.jsx(tn.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));gT.displayName=$$;var H$=gT,[Dd,D8]=$r("Tooltip",[sT]),Pd=sT(),yT="TooltipProvider",U$=700,Ag="tooltip.open",[F$,ev]=Dd(yT),vT=n=>{const{__scopeTooltip:e,delayDuration:t=U$,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,l=S.useRef(!0),c=S.useRef(!1),f=S.useRef(0);return S.useEffect(()=>{const d=f.current;return()=>window.clearTimeout(d)},[]),C.jsx(F$,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:S.useCallback(()=>{window.clearTimeout(f.current),l.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:S.useCallback(d=>{c.current=d},[]),disableHoverableContent:i,children:s})};vT.displayName=yT;var Ld="Tooltip",[V$,Dc]=Dd(Ld),bT=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:l,delayDuration:c}=n,f=ev(Ld,n.__scopeTooltip),d=Pd(e),[p,m]=S.useState(null),y=cn(),b=S.useRef(0),x=l??f.disableHoverableContent,w=c??f.delayDuration,E=S.useRef(!1),[T=!1,N]=I$({prop:r,defaultProp:i,onChange:D=>{D?(f.onOpen(),document.dispatchEvent(new CustomEvent(Ag))):f.onClose(),s==null||s(D)}}),A=S.useMemo(()=>T?E.current?"delayed-open":"instant-open":"closed",[T]),L=S.useCallback(()=>{window.clearTimeout(b.current),b.current=0,E.current=!1,N(!0)},[N]),z=S.useCallback(()=>{window.clearTimeout(b.current),b.current=0,N(!1)},[N]),R=S.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{E.current=!0,N(!0),b.current=0},w)},[w,N]);return S.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),C.jsx(A$,{...d,children:C.jsx(V$,{scope:e,contentId:y,open:T,stateAttribute:A,trigger:p,onTriggerChange:m,onTriggerEnter:S.useCallback(()=>{f.isOpenDelayedRef.current?R():L()},[f.isOpenDelayedRef,R,L]),onTriggerLeave:S.useCallback(()=>{x?z():(window.clearTimeout(b.current),b.current=0)},[z,x]),onOpen:L,onClose:z,disableHoverableContent:x,children:t})})};bT.displayName=Ld;var kg="TooltipTrigger",xT=S.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Dc(kg,t),s=ev(kg,t),l=Pd(t),c=S.useRef(null),f=qe(e,c,i.onTriggerChange),d=S.useRef(!1),p=S.useRef(!1),m=S.useCallback(()=>d.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),C.jsx(k$,{asChild:!0,...l,children:C.jsx(tn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:ye(n.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:ye(n.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:ye(n.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ye(n.onFocus,()=>{d.current||i.onOpen()}),onBlur:ye(n.onBlur,i.onClose),onClick:ye(n.onClick,i.onClose)})})});xT.displayName=kg;var tv="TooltipPortal",[q$,Y$]=Dd(tv,{forceMount:void 0}),ST=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:i}=n,s=Dc(tv,e);return C.jsx(q$,{scope:e,forceMount:t,children:C.jsx(Ur,{present:t||s.open,children:C.jsx(mT,{asChild:!0,container:i,children:r})})})};ST.displayName=tv;var Pa="TooltipContent",wT=S.forwardRef((n,e)=>{const t=Y$(Pa,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,l=Dc(Pa,n.__scopeTooltip);return C.jsx(Ur,{present:r||l.open,children:l.disableHoverableContent?C.jsx(ET,{side:i,...s,ref:e}):C.jsx(K$,{side:i,...s,ref:e})})}),K$=S.forwardRef((n,e)=>{const t=Dc(Pa,n.__scopeTooltip),r=ev(Pa,n.__scopeTooltip),i=S.useRef(null),s=qe(e,i),[l,c]=S.useState(null),{trigger:f,onClose:d}=t,p=i.current,{onPointerInTransitChange:m}=r,y=S.useCallback(()=>{c(null),m(!1)},[m]),b=S.useCallback((x,w)=>{const E=x.currentTarget,T={x:x.clientX,y:x.clientY},N=J$(T,E.getBoundingClientRect()),A=Q$(T,N),L=Z$(w.getBoundingClientRect()),z=t4([...A,...L]);c(z),m(!0)},[m]);return S.useEffect(()=>()=>y(),[y]),S.useEffect(()=>{if(f&&p){const x=E=>b(E,p),w=E=>b(E,f);return f.addEventListener("pointerleave",x),p.addEventListener("pointerleave",w),()=>{f.removeEventListener("pointerleave",x),p.removeEventListener("pointerleave",w)}}},[f,p,b,y]),S.useEffect(()=>{if(l){const x=w=>{const E=w.target,T={x:w.clientX,y:w.clientY},N=(f==null?void 0:f.contains(E))||(p==null?void 0:p.contains(E)),A=!e4(T,l);N?y():A&&(y(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[f,p,l,d,y]),C.jsx(ET,{...n,ref:s})}),[G$,W$]=Dd(Ld,{isInside:!1}),X$=II("TooltipContent"),ET=S.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:l,...c}=n,f=Dc(Pa,t),d=Pd(t),{onClose:p}=f;return S.useEffect(()=>(document.addEventListener(Ag,p),()=>document.removeEventListener(Ag,p)),[p]),S.useEffect(()=>{if(f.trigger){const m=y=>{const b=y.target;b!=null&&b.contains(f.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[f.trigger,p]),C.jsx(YM,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:C.jsxs(D$,{"data-state":f.stateAttribute,...d,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(X$,{children:r}),C.jsx(G$,{scope:t,isInside:!0,children:C.jsx(H$,{id:f.contentId,role:"tooltip",children:i||r})})]})})});wT.displayName=Pa;var CT="TooltipArrow",MT=S.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Pd(t);return W$(CT,t).isInside?null:C.jsx(P$,{...i,...r,ref:e})});MT.displayName=CT;function J$(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Q$(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function Z$(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function e4(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,l=e.length-1;s<e.length;l=s++){const c=e[s].x,f=e[s].y,d=e[l].x,p=e[l].y;f>r!=p>r&&t<(d-c)*(r-f)/(p-f)+c&&(i=!i)}return i}function t4(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),n4(e)}function n4(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],l=e[e.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var r4=vT,i4=bT,o4=xT,s4=ST,a4=wT,l4=MT;function c4({delayDuration:n=0,...e}){return C.jsx(r4,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function TT({...n}){return C.jsx(c4,{children:C.jsx(i4,{"data-slot":"tooltip",...n})})}function OT({...n}){return C.jsx(o4,{"data-slot":"tooltip-trigger",...n})}function NT({className:n,sideOffset:e=0,children:t,...r}){return C.jsx(s4,{children:C.jsxs(a4,{"data-slot":"tooltip-content",sideOffset:e,className:st("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...r,children:[t,C.jsx(l4,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const u4="noteApp",La="settings";function RT(){return new Promise((n,e)=>{const t=indexedDB.open(u4,1);t.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(La)||i.createObjectStore(La)},t.onsuccess=r=>{const i=r.target.result;n(i)},t.onerror=r=>{const i=r.target.error;e(i)}})}async function f4(n){const t=(await RT()).transaction(La,"readwrite");return t.objectStore(La).put(n,"folderHandle"),new Promise((i,s)=>{t.oncomplete=()=>i(),t.onerror=()=>s(t.error)})}async function Qo(){const t=(await RT()).transaction(La,"readonly").objectStore(La);return new Promise(async(r,i)=>{const s=t.get("folderHandle");s.onsuccess=async()=>{let l=s.result;if(!l)try{l=await window.showDirectoryPicker(),await d4(),await f4(l)}catch(c){i(c);return}r(l)},s.onerror=()=>i(s.error)})}async function d4(){return navigator.storage&&navigator.storage.persist?await navigator.storage.persist():!1}async function AT(n){const e={mode:"readwrite"};return await n.queryPermission(e)==="granted"||await n.requestPermission(e)==="granted"}async function kT(n){let e=0;for await(const[t,r]of n.entries())if(r.kind==="file"){const i=await r.getFile();e+=i.size}else r.kind==="directory"&&(e+=await kT(r));return e}class xa{static async getByName(e){try{const i=await(await(await Qo()).getFileHandle(`${e}`)).getFile();return JSON.parse(await i.text())}catch{return console.error("File not found:",e),null}}static async update(e){const t=await Qo(),r={...e,tags:[],updatedAt:new Date().getTime()},s=await(await t.getFileHandle(r.id,{create:!0})).createWritable();return await s.write(JSON.stringify(r)),await s.close(),r}static async delete(e){await(await Qo()).removeEntry(e)}static async getAll(){const e=await Qo(),t=[];for await(const[r,i]of e.entries())if(i.kind==="file"){const s=await i.getFile(),l=JSON.parse(await s.text());t.push(l)}return t}static async create(e){const t=await Qo(),r={...e,tags:[],createdAt:new Date().getTime(),updatedAt:new Date().getTime()},s=await(await t.getFileHandle(r.id,{create:!0})).createWritable();await s.write(JSON.stringify(r)),await s.close()}static async createFolder(e){return await(await window.showDirectoryPicker()).getDirectoryHandle(e,{create:!0})}}const Xf=Md((n,e)=>({notes:[],fetchNotes:async()=>{const r=[...await xa.getAll()].sort((i,s)=>s.updatedAt-i.updatedAt);n({notes:r})}})),h4=()=>{const[n,e]=S.useState(!1),t=()=>{const r=document.getElementById("noteList"),i=document.getElementById("currentNote"),s=document.getElementById("divider");!r||!i||!s||(n?(r.style.width="50%",r.style.minWidth="500px",r.style.opacity="1",r.style.overflow="auto",r.classList.toggle("p-4"),s.style.opacity="1",i.style.flexGrow="",e(!1)):(r.style.width="0",r.style.minWidth="0",r.style.opacity="0",r.style.overflow="hidden",r.classList.toggle("p-4"),s.style.opacity="0",i.style.flexGrow="1",e(!0)))};return C.jsx(Bn,{onClick:t,className:"md:flex hidden fixed bottom-5 right-5 z-10",variant:"outline",size:"icon",title:n?"Collapse":"Expand",children:n?C.jsx(WB,{size:20}):C.jsx($B,{size:20})})},nv=Md(n=>({password:"",setPassword:e=>n({password:e})})),p4=()=>{const{password:n,setPassword:e}=nv(),t=d=>new TextEncoder().encode(d).buffer,r=d=>new TextDecoder().decode(d),i=d=>btoa(String.fromCharCode(...new Uint8Array(d))),s=d=>{const p=atob(d),m=new Uint8Array(p.length);for(let y=0;y<p.length;y++)m[y]=p.charCodeAt(y);return m.buffer},l=async(d,p)=>{const m=t(d),y=await crypto.subtle.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:p,iterations:1e5,hash:"SHA-256"},y,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])};return{password:n,setPassword:e,encryptContent:async(d,p)=>{try{const m=crypto.getRandomValues(new Uint8Array(16)),y=crypto.getRandomValues(new Uint8Array(12)),b=await l(p,m),x=await crypto.subtle.encrypt({name:"AES-GCM",iv:y},b,t(d)),w=new Uint8Array(m.byteLength+y.byteLength+x.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(y),m.byteLength),w.set(new Uint8Array(x),m.byteLength+y.byteLength),i(w)}catch(m){return console.error("Encryption error:",m),null}},decryptContent:async(d,p)=>{try{const m=s(d),y=m.slice(0,16),b=m.slice(16,28),x=m.slice(28),w=await l(p,y),E=await crypto.subtle.decrypt({name:"AES-GCM",iv:b},w,x);return r(E)}catch(m){return console.error("Decryption error:",m),null}}}},rv=Md(n=>({showSetPasswordModal:!1,showEnterPasswordModal:!1,actions:{openSetPasswordModal:()=>n({showSetPasswordModal:!0}),closeSetPasswordModal:()=>n({showSetPasswordModal:!1}),openEnterPasswordModal:()=>n({showEnterPasswordModal:!0}),closeEnterPasswordModal:()=>n({showEnterPasswordModal:!1})}})),m4=()=>rv(n=>n.showSetPasswordModal),g4=()=>rv(n=>n.showEnterPasswordModal),zd=()=>rv(n=>n.actions),y4=()=>{const[n,e]=S.useState(!1),[t,r]=S.useState(null),[i,s]=S.useState(!1),[l,c]=S.useState(!1),{openEnterPasswordModal:f}=zd();return{note:t,setNote:r,isEditing:i,setIsEditing:s,isNewNote:l,setIsNewNote:c,isEncrypted:n,setIsEncrypted:e,getNote:async y=>{if(y==="new-note"){r({content:"",label:"New Note",isEncrypted:!1}),c(!0),s(!0),e(!1);return}try{const b=await xa.getByName(y);return b?(r(b),c(!1),s(!1),e(b.isEncrypted),b.isEncrypted&&f(),b):void 0}catch{return console.error("File not found:",y),null}},saveNote:async(y,b,x,w,E)=>{if(y)return x?y.content=await E(b,w):y.content=b,l?(y.id=crypto.randomUUID(),await xa.create(y),c(!1)):await xa.update(y),r({...y,content:b}),s(!1),y},deleteNote:async y=>{y&&(await xa.delete(y.id),r(null))}}};var v4=Ec[" useInsertionEffect ".trim().toString()]||yt;function b4({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,l]=x4({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:i;{const p=S.useRef(n!==void 0);S.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const d=S.useCallback(p=>{var m;if(c){const y=S4(p)?p(n):p;y!==n&&((m=l.current)==null||m.call(l,y))}else s(p)},[c,n,s,l]);return[f,d]}function x4({defaultProp:n,onChange:e}){const[t,r]=S.useState(n),i=S.useRef(t),s=S.useRef(e);return v4(()=>{s.current=e},[e]),S.useEffect(()=>{var l;i.current!==t&&((l=s.current)==null||l.call(s,t),i.current=t)},[t,i]),[t,r,s]}function S4(n){return typeof n=="function"}var w4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wo=w4.reduce((n,e)=>{const t=Un(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(f,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function E4(n,e){n&&Ir.flushSync(()=>n.dispatchEvent(e))}var C4="DismissableLayer",Dg="dismissableLayer.update",M4="dismissableLayer.pointerDownOutside",T4="dismissableLayer.focusOutside",E1,DT=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),PT=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:c,...f}=n,d=S.useContext(DT),[p,m]=S.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=S.useState({}),x=qe(e,D=>m(D)),w=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),T=w.indexOf(E),N=p?w.indexOf(p):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,L=N>=T,z=R4(D=>{const j=D.target,q=[...d.branches].some(ie=>ie.contains(j));!L||q||(i==null||i(D),l==null||l(D),D.defaultPrevented||c==null||c())},y),R=A4(D=>{const j=D.target;[...d.branches].some(ie=>ie.contains(j))||(s==null||s(D),l==null||l(D),D.defaultPrevented||c==null||c())},y);return Nd(D=>{N===d.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},y),S.useEffect(()=>{if(p)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(E1=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),C1(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=E1)}},[p,y,t,d]),S.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),C1())},[p,d]),S.useEffect(()=>{const D=()=>b({});return document.addEventListener(Dg,D),()=>document.removeEventListener(Dg,D)},[]),C.jsx(wo.div,{...f,ref:x,style:{pointerEvents:A?L?"auto":"none":void 0,...n.style},onFocusCapture:ye(n.onFocusCapture,R.onFocusCapture),onBlurCapture:ye(n.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ye(n.onPointerDownCapture,z.onPointerDownCapture)})});PT.displayName=C4;var O4="DismissableLayerBranch",N4=S.forwardRef((n,e)=>{const t=S.useContext(DT),r=S.useRef(null),i=qe(e,r);return S.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),C.jsx(wo.div,{...n,ref:i})});N4.displayName=O4;function R4(n,e=globalThis==null?void 0:globalThis.document){const t=Lt(n),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let f=function(){LT(M4,t,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function A4(n,e=globalThis==null?void 0:globalThis.document){const t=Lt(n),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&LT(T4,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function C1(){const n=new CustomEvent(Dg);document.dispatchEvent(n)}function LT(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?E4(i,s):i.dispatchEvent(s)}var k4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],D4=k4.reduce((n,e)=>{const t=Un(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(f,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),_m="focusScope.autoFocusOnMount",jm="focusScope.autoFocusOnUnmount",M1={bubbles:!1,cancelable:!0},P4="FocusScope",_d=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=n,[c,f]=S.useState(null),d=Lt(i),p=Lt(s),m=S.useRef(null),y=qe(e,w=>f(w)),b=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let w=function(A){if(b.paused||!c)return;const L=A.target;c.contains(L)?m.current=L:Ji(m.current,{select:!0})},E=function(A){if(b.paused||!c)return;const L=A.relatedTarget;L!==null&&(c.contains(L)||Ji(m.current,{select:!0}))},T=function(A){if(document.activeElement===document.body)for(const z of A)z.removedNodes.length>0&&Ji(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",E);const N=new MutationObserver(T);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",E),N.disconnect()}}},[r,c,b.paused]),S.useEffect(()=>{if(c){O1.add(b);const w=document.activeElement;if(!c.contains(w)){const T=new CustomEvent(_m,M1);c.addEventListener(_m,d),c.dispatchEvent(T),T.defaultPrevented||(L4(B4(zT(c)),{select:!0}),document.activeElement===w&&Ji(c))}return()=>{c.removeEventListener(_m,d),setTimeout(()=>{const T=new CustomEvent(jm,M1);c.addEventListener(jm,p),c.dispatchEvent(T),T.defaultPrevented||Ji(w??document.body,{select:!0}),c.removeEventListener(jm,p),O1.remove(b)},0)}}},[c,d,p,b]);const x=S.useCallback(w=>{if(!t&&!r||b.paused)return;const E=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,T=document.activeElement;if(E&&T){const N=w.currentTarget,[A,L]=z4(N);A&&L?!w.shiftKey&&T===L?(w.preventDefault(),t&&Ji(A,{select:!0})):w.shiftKey&&T===A&&(w.preventDefault(),t&&Ji(L,{select:!0})):T===N&&w.preventDefault()}},[t,r,b.paused]);return C.jsx(D4.div,{tabIndex:-1,...l,ref:y,onKeyDown:x})});_d.displayName=P4;function L4(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ji(r,{select:e}),document.activeElement!==t)return}function z4(n){const e=zT(n),t=T1(e,n),r=T1(e.reverse(),n);return[t,r]}function zT(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function T1(n,e){for(const t of n)if(!_4(t,{upTo:e}))return t}function _4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function j4(n){return n instanceof HTMLInputElement&&"select"in n}function Ji(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&j4(n)&&e&&n.select()}}var O1=I4();function I4(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=N1(n,e),n.unshift(e)},remove(e){var t;n=N1(n,e),(t=n[0])==null||t.resume()}}}function N1(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function B4(n){return n.filter(e=>e.tagName!=="A")}var $4="Portal",_T=S.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,s]=S.useState(!1);yt(()=>s(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Oc.createPortal(C.jsx(wo.div,{...r,ref:e}),l):null});_T.displayName=$4;var Im=0;function iv(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??R1()),document.body.insertAdjacentElement("beforeend",n[1]??R1()),Im++,()=>{Im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Im--}},[])}function R1(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Rr=function(){return Rr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Rr.apply(this,arguments)};function jT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function H4(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var Cf="right-scroll-bar-position",Mf="width-before-scroll-bar",U4="with-scroll-bars-hidden",F4="--removed-body-scroll-bar-size";function Bm(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function V4(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var q4=typeof window<"u"?S.useLayoutEffect:S.useEffect,A1=new WeakMap;function Y4(n,e){var t=V4(null,function(r){return n.forEach(function(i){return Bm(i,r)})});return q4(function(){var r=A1.get(t);if(r){var i=new Set(r),s=new Set(n),l=t.current;i.forEach(function(c){s.has(c)||Bm(c,null)}),s.forEach(function(c){i.has(c)||Bm(c,l)})}A1.set(t,n)},[n]),t}function K4(n){return n}function G4(n,e){e===void 0&&(e=K4);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var l=e(s,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(r=!0;t.length;){var l=t;t=[],l.forEach(s)}t={push:function(c){return s(c)},filter:function(){return t}}},assignMedium:function(s){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(s),l=t}var f=function(){var p=l;l=[],p.forEach(s)},d=function(){return Promise.resolve().then(f)};d(),t={push:function(p){l.push(p),d()},filter:function(p){return l=l.filter(p),t}}}};return i}function W4(n){n===void 0&&(n={});var e=G4(null);return e.options=Rr({async:!0,ssr:!1},n),e}var IT=function(n){var e=n.sideCar,t=jT(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Rr({},t))};IT.isSideCarExport=!0;function X4(n,e){return n.useMedium(e),IT}var BT=W4(),$m=function(){},jd=S.forwardRef(function(n,e){var t=S.useRef(null),r=S.useState({onScrollCapture:$m,onWheelCapture:$m,onTouchMoveCapture:$m}),i=r[0],s=r[1],l=n.forwardProps,c=n.children,f=n.className,d=n.removeScrollBar,p=n.enabled,m=n.shards,y=n.sideCar,b=n.noIsolation,x=n.inert,w=n.allowPinchZoom,E=n.as,T=E===void 0?"div":E,N=n.gapMode,A=jT(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=y,z=Y4([t,e]),R=Rr(Rr({},A),i);return S.createElement(S.Fragment,null,p&&S.createElement(L,{sideCar:BT,removeScrollBar:d,shards:m,noIsolation:b,inert:x,setCallbacks:s,allowPinchZoom:!!w,lockRef:t,gapMode:N}),l?S.cloneElement(S.Children.only(c),Rr(Rr({},R),{ref:z})):S.createElement(T,Rr({},R,{className:f,ref:z}),c))});jd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jd.classNames={fullWidth:Mf,zeroRight:Cf};var J4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q4(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=J4();return e&&n.setAttribute("nonce",e),n}function Z4(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function eH(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var tH=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Q4())&&(Z4(e,t),eH(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nH=function(){var n=tH();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},$T=function(){var n=nH(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},rH={left:0,top:0,right:0,gap:0},Hm=function(n){return parseInt(n||"",10)||0},iH=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Hm(t),Hm(r),Hm(i)]},oH=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return rH;var e=iH(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},sH=$T(),Ma="data-scroll-locked",aH=function(n,e,t,r){var i=n.left,s=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(U4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ma,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Mf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mf," .").concat(Mf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ma,`] {
    `).concat(F4,": ").concat(c,`px;
  }
`)},k1=function(){var n=parseInt(document.body.getAttribute(Ma)||"0",10);return isFinite(n)?n:0},lH=function(){S.useEffect(function(){return document.body.setAttribute(Ma,(k1()+1).toString()),function(){var n=k1()-1;n<=0?document.body.removeAttribute(Ma):document.body.setAttribute(Ma,n.toString())}},[])},cH=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;lH();var s=S.useMemo(function(){return oH(i)},[i]);return S.createElement(sH,{styles:aH(s,!e,i,t?"":"!important")})},Pg=!1;if(typeof window<"u")try{var uf=Object.defineProperty({},"passive",{get:function(){return Pg=!0,!0}});window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,uf)}catch{Pg=!1}var aa=Pg?{passive:!1}:!1,uH=function(n){return n.tagName==="TEXTAREA"},HT=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!uH(n)&&t[e]==="visible")},fH=function(n){return HT(n,"overflowY")},dH=function(n){return HT(n,"overflowX")},D1=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=UT(n,r);if(i){var s=FT(n,r),l=s[1],c=s[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},hH=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},pH=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},UT=function(n,e){return n==="v"?fH(e):dH(e)},FT=function(n,e){return n==="v"?hH(e):pH(e)},mH=function(n,e){return n==="h"&&e==="rtl"?-1:1},gH=function(n,e,t,r,i){var s=mH(n,window.getComputedStyle(e).direction),l=s*r,c=t.target,f=e.contains(c),d=!1,p=l>0,m=0,y=0;do{var b=FT(n,c),x=b[0],w=b[1],E=b[2],T=w-E-s*x;(x||T)&&UT(n,c)&&(m+=T,y+=x),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(y)<1)&&(d=!0),d},ff=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},P1=function(n){return[n.deltaX,n.deltaY]},L1=function(n){return n&&"current"in n?n.current:n},yH=function(n,e){return n[0]===e[0]&&n[1]===e[1]},vH=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},bH=0,la=[];function xH(n){var e=S.useRef([]),t=S.useRef([0,0]),r=S.useRef(),i=S.useState(bH++)[0],s=S.useState($T)[0],l=S.useRef(n);S.useEffect(function(){l.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var w=H4([n.lockRef.current],(n.shards||[]).map(L1),!0).filter(Boolean);return w.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=S.useCallback(function(w,E){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var T=ff(w),N=t.current,A="deltaX"in w?w.deltaX:N[0]-T[0],L="deltaY"in w?w.deltaY:N[1]-T[1],z,R=w.target,D=Math.abs(A)>Math.abs(L)?"h":"v";if("touches"in w&&D==="h"&&R.type==="range")return!1;var j=D1(D,R);if(!j)return!0;if(j?z=D:(z=D==="v"?"h":"v",j=D1(D,R)),!j)return!1;if(!r.current&&"changedTouches"in w&&(A||L)&&(r.current=z),!z)return!0;var q=r.current||z;return gH(q,E,w,q==="h"?A:L)},[]),f=S.useCallback(function(w){var E=w;if(!(!la.length||la[la.length-1]!==s)){var T="deltaY"in E?P1(E):ff(E),N=e.current.filter(function(z){return z.name===E.type&&(z.target===E.target||E.target===z.shadowParent)&&yH(z.delta,T)})[0];if(N&&N.should){E.cancelable&&E.preventDefault();return}if(!N){var A=(l.current.shards||[]).map(L1).filter(Boolean).filter(function(z){return z.contains(E.target)}),L=A.length>0?c(E,A[0]):!l.current.noIsolation;L&&E.cancelable&&E.preventDefault()}}},[]),d=S.useCallback(function(w,E,T,N){var A={name:w,delta:E,target:T,should:N,shadowParent:SH(T)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(L){return L!==A})},1)},[]),p=S.useCallback(function(w){t.current=ff(w),r.current=void 0},[]),m=S.useCallback(function(w){d(w.type,P1(w),w.target,c(w,n.lockRef.current))},[]),y=S.useCallback(function(w){d(w.type,ff(w),w.target,c(w,n.lockRef.current))},[]);S.useEffect(function(){return la.push(s),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",f,aa),document.addEventListener("touchmove",f,aa),document.addEventListener("touchstart",p,aa),function(){la=la.filter(function(w){return w!==s}),document.removeEventListener("wheel",f,aa),document.removeEventListener("touchmove",f,aa),document.removeEventListener("touchstart",p,aa)}},[]);var b=n.removeScrollBar,x=n.inert;return S.createElement(S.Fragment,null,x?S.createElement(s,{styles:vH(i)}):null,b?S.createElement(cH,{gapMode:n.gapMode}):null)}function SH(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const wH=X4(BT,xH);var Id=S.forwardRef(function(n,e){return S.createElement(jd,Rr({},n,{ref:e,sideCar:wH}))});Id.classNames=jd.classNames;var EH=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ca=new WeakMap,df=new WeakMap,hf={},Um=0,VT=function(n){return n&&(n.host||VT(n.parentNode))},CH=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=VT(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},MH=function(n,e,t,r){var i=CH(e,Array.isArray(n)?n:[n]);hf[t]||(hf[t]=new WeakMap);var s=hf[t],l=[],c=new Set,f=new Set(i),d=function(m){!m||c.has(m)||(c.add(m),d(m.parentNode))};i.forEach(d);var p=function(m){!m||f.has(m)||Array.prototype.forEach.call(m.children,function(y){if(c.has(y))p(y);else try{var b=y.getAttribute(r),x=b!==null&&b!=="false",w=(ca.get(y)||0)+1,E=(s.get(y)||0)+1;ca.set(y,w),s.set(y,E),l.push(y),w===1&&x&&df.set(y,!0),E===1&&y.setAttribute(t,"true"),x||y.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",y,T)}})};return p(e),c.clear(),Um++,function(){l.forEach(function(m){var y=ca.get(m)-1,b=s.get(m)-1;ca.set(m,y),s.set(m,b),y||(df.has(m)||m.removeAttribute(r),df.delete(m)),b||m.removeAttribute(t)}),Um--,Um||(ca=new WeakMap,ca=new WeakMap,df=new WeakMap,hf={})}},ov=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=EH(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),MH(r,i,t,"aria-hidden")):function(){return null}},Bd="Dialog",[qT,P8]=$r(Bd),[TH,xr]=qT(Bd),YT=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:l=!0}=n,c=S.useRef(null),f=S.useRef(null),[d,p]=b4({prop:r,defaultProp:i??!1,onChange:s,caller:Bd});return C.jsx(TH,{scope:e,triggerRef:c,contentRef:f,contentId:cn(),titleId:cn(),descriptionId:cn(),open:d,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(m=>!m),[p]),modal:l,children:t})};YT.displayName=Bd;var KT="DialogTrigger",OH=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=xr(KT,t),s=qe(e,i.triggerRef);return C.jsx(wo.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lv(i.open),...r,ref:s,onClick:ye(n.onClick,i.onOpenToggle)})});OH.displayName=KT;var sv="DialogPortal",[NH,GT]=qT(sv,{forceMount:void 0}),WT=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=xr(sv,e);return C.jsx(NH,{scope:e,forceMount:t,children:S.Children.map(r,l=>C.jsx(Ur,{present:t||s.open,children:C.jsx(_T,{asChild:!0,container:i,children:l})}))})};WT.displayName=sv;var Jf="DialogOverlay",XT=S.forwardRef((n,e)=>{const t=GT(Jf,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=xr(Jf,n.__scopeDialog);return s.modal?C.jsx(Ur,{present:r||s.open,children:C.jsx(AH,{...i,ref:e})}):null});XT.displayName=Jf;var RH=Un("DialogOverlay.RemoveScroll"),AH=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=xr(Jf,t);return C.jsx(Id,{as:RH,allowPinchZoom:!0,shards:[i.contentRef],children:C.jsx(wo.div,{"data-state":lv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ps="DialogContent",JT=S.forwardRef((n,e)=>{const t=GT(ps,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=xr(ps,n.__scopeDialog);return C.jsx(Ur,{present:r||s.open,children:s.modal?C.jsx(kH,{...i,ref:e}):C.jsx(DH,{...i,ref:e})})});JT.displayName=ps;var kH=S.forwardRef((n,e)=>{const t=xr(ps,n.__scopeDialog),r=S.useRef(null),i=qe(e,t.contentRef,r);return S.useEffect(()=>{const s=r.current;if(s)return ov(s)},[]),C.jsx(QT,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(n.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ye(n.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&s.preventDefault()}),onFocusOutside:ye(n.onFocusOutside,s=>s.preventDefault())})}),DH=S.forwardRef((n,e)=>{const t=xr(ps,n.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return C.jsx(QT,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,s),s.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var f,d;(f=n.onInteractOutside)==null||f.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((d=t.triggerRef.current)==null?void 0:d.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),QT=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=n,c=xr(ps,t),f=S.useRef(null),d=qe(e,f);return iv(),C.jsxs(C.Fragment,{children:[C.jsx(_d,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:C.jsx(PT,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":lv(c.open),...l,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(PH,{titleId:c.titleId}),C.jsx(zH,{contentRef:f,descriptionId:c.descriptionId})]})]})}),av="DialogTitle",ZT=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=xr(av,t);return C.jsx(wo.h2,{id:i.titleId,...r,ref:e})});ZT.displayName=av;var eO="DialogDescription",tO=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=xr(eO,t);return C.jsx(wo.p,{id:i.descriptionId,...r,ref:e})});tO.displayName=eO;var nO="DialogClose",rO=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=xr(nO,t);return C.jsx(wo.button,{type:"button",...r,ref:e,onClick:ye(n.onClick,()=>i.onOpenChange(!1))})});rO.displayName=nO;function lv(n){return n?"open":"closed"}var iO="DialogTitleWarning",[L8,oO]=S3(iO,{contentName:ps,titleName:av,docsSlug:"dialog"}),PH=({titleId:n})=>{const e=oO(iO),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},LH="DialogDescriptionWarning",zH=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oO(LH).contentName}}.`;return S.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},sO=YT,aO=WT,lO=XT,cO=JT,_H=ZT,jH=tO,IH=rO;function cv({...n}){return C.jsx(sO,{"data-slot":"dialog",...n})}function BH({...n}){return C.jsx(aO,{"data-slot":"dialog-portal",...n})}function $H({className:n,...e}){return C.jsx(lO,{"data-slot":"dialog-overlay",className:st("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function uv({className:n,children:e,...t}){return C.jsxs(BH,{"data-slot":"dialog-portal",children:[C.jsx($H,{}),C.jsxs(cO,{"data-slot":"dialog-content",className:st("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,C.jsxs(IH,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[C.jsx(Mg,{}),C.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fv({className:n,...e}){return C.jsx("div",{"data-slot":"dialog-header",className:st("flex flex-col gap-2 text-center sm:text-left",n),...e})}function uO({className:n,...e}){return C.jsx("div",{"data-slot":"dialog-footer",className:st("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function dv({className:n,...e}){return C.jsx(_H,{"data-slot":"dialog-title",className:st("text-lg leading-none font-semibold",n),...e})}function hv({className:n,...e}){return C.jsx(jH,{"data-slot":"dialog-description",className:st("text-muted-foreground text-sm",n),...e})}function Qf({className:n,type:e,...t}){return C.jsx("input",{type:e,"data-slot":"input",className:st("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var HH="Label",fO=S.forwardRef((n,e)=>C.jsx(tn.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));fO.displayName=HH;var UH=fO;function bc({className:n,...e}){return C.jsx(UH,{"data-slot":"label",className:st("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const FH=(n,e,t,r)=>{var s,l,c,f;const i=[t,{code:e,...r||{}}];if((l=(s=n==null?void 0:n.services)==null?void 0:s.logger)!=null&&l.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);cs(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(f=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&f.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},z1={},Lg=(n,e,t,r)=>{cs(t)&&z1[t]||(cs(t)&&(z1[t]=new Date),FH(n,e,t,r))},dO=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},zg=(n,e,t)=>{n.loadNamespaces(e,dO(n,t))},_1=(n,e,t,r)=>{if(cs(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return zg(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,dO(n,r))},VH=(n,e,t={})=>!e.languages||!e.languages.length?(Lg(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{var s;if(((s=t.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),cs=n=>typeof n=="string",qH=n=>typeof n=="object"&&n!==null,YH=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,KH={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},GH=n=>KH[n],WH=n=>n.replace(YH,GH);let _g={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:WH};const XH=(n={})=>{_g={..._g,...n}},JH=()=>_g;let hO;const QH=n=>{hO=n},ZH=()=>hO,eU={type:"3rdParty",init(n){XH(n.options.react),QH(n)}},tU=S.createContext();class nU{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const rU=(n,e)=>{const t=S.useRef();return S.useEffect(()=>{t.current=n},[n,e]),t.current},pO=(n,e,t,r)=>n.getFixedT(e,t,r),iU=(n,e,t,r)=>S.useCallback(pO(n,e,t,r),[n,e,t,r]),ar=(n,e={})=>{var L,z,R,D;const{i18n:t}=e,{i18n:r,defaultNS:i}=S.useContext(tU)||{},s=t||r||ZH();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new nU),!s){Lg(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=(ie,ce)=>cs(ce)?ce:qH(ce)&&cs(ce.defaultValue)?ce.defaultValue:Array.isArray(ie)?ie[ie.length-1]:ie,q=[j,{},!1];return q.t=j,q.i18n={},q.ready=!1,q}(L=s.options.react)!=null&&L.wait&&Lg(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...JH(),...s.options.react,...e},{useSuspense:c,keyPrefix:f}=l;let d=i||((z=s.options)==null?void 0:z.defaultNS);d=cs(d)?[d]:d||["translation"],(D=(R=s.reportNamespaces).addUsedNamespaces)==null||D.call(R,d);const p=(s.isInitialized||s.initializedStoreOnce)&&d.every(j=>VH(j,s,l)),m=iU(s,e.lng||null,l.nsMode==="fallback"?d:d[0],f),y=()=>m,b=()=>pO(s,e.lng||null,l.nsMode==="fallback"?d:d[0],f),[x,w]=S.useState(y);let E=d.join();e.lng&&(E=`${e.lng}${E}`);const T=rU(E),N=S.useRef(!0);S.useEffect(()=>{const{bindI18n:j,bindI18nStore:q}=l;N.current=!0,!p&&!c&&(e.lng?_1(s,e.lng,d,()=>{N.current&&w(b)}):zg(s,d,()=>{N.current&&w(b)})),p&&T&&T!==E&&N.current&&w(b);const ie=()=>{N.current&&w(b)};return j&&(s==null||s.on(j,ie)),q&&(s==null||s.store.on(q,ie)),()=>{N.current=!1,s&&(j==null||j.split(" ").forEach(ce=>s.off(ce,ie))),q&&s&&q.split(" ").forEach(ce=>s.store.off(ce,ie))}},[s,E]),S.useEffect(()=>{N.current&&p&&w(y)},[s,f,p]);const A=[x,s,p];if(A.t=x,A.i18n=s,A.ready=p,p||!p&&!c)return A;throw new Promise(j=>{e.lng?_1(s,e.lng,d,()=>j()):zg(s,d,()=>j())})},oU=({onSuccess:n})=>{const{t:e}=ar(),t=nv(),[r,i]=S.useState(""),[s,l]=S.useState(""),[c,f]=S.useState(!1),d=m4(),{closeSetPasswordModal:p}=zd();S.useEffect(()=>{t.password.length>0&&t.password.length<12?f(!0):f(!1)},[t.password]);const m=()=>{if(l(""),t.password!==r){l(e("encryption.setNotePassword.validation.noMatch"));return}if(t.password.length<4){l(e("encryption.setNotePassword.validation.minLimit"));return}t.password.length<12&&!confirm(e("encryption.setNotePassword.validation.minLimitWarning"))||n(t.password)},y=()=>{t.setPassword(""),i(""),l(""),p()};return C.jsx(cv,{open:d,onOpenChange:p,children:C.jsxs(uv,{className:"sm:max-w-md",children:[C.jsxs(fv,{children:[C.jsx(dv,{children:e("encryption.setNotePassword.title")}),C.jsx(hv,{children:e("encryption.setNotePassword.description")})]}),C.jsxs("div",{className:"grid gap-4 py-4",children:[C.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[C.jsx(bc,{htmlFor:"password",className:"text-right",children:e("common.password")}),C.jsx(Qf,{id:"password",type:"password",value:t.password,onChange:b=>t.setPassword(b.target.value),className:"col-span-3",autoFocus:!0})]}),C.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[C.jsx(bc,{htmlFor:"confirmPassword",className:"text-right",children:e("encryption.setNotePassword.confirmPassword")}),C.jsx(Qf,{id:"confirmPassword",type:"password",value:r,onChange:b=>i(b.target.value),className:"col-span-3"})]}),c&&C.jsx("p",{className:"text-yellow-600 text-sm",children:e("encryption.setNotePassword.validation.minLimitMessage")}),s&&C.jsx("p",{className:"text-red-500 text-sm",children:s})]}),C.jsxs(uO,{children:[C.jsx(Bn,{variant:"outline",onClick:y,children:e("common.cancel")}),C.jsx(Bn,{onClick:m,children:e("note.encryptNote")})]})]})})},sU=({onSuccess:n})=>{const{t:e}=ar(),t=nv(),[r,i]=S.useState(""),s=g4(),{closeEnterPasswordModal:l}=zd(),c=async()=>{if(i(""),!await n(t.password))return i(e("encryption.enterNotePassword.wrongPassword"))},f=()=>{t.setPassword(""),i(""),l()};return C.jsx(cv,{open:s,onOpenChange:l,children:C.jsxs(uv,{className:"sm:max-w-md",children:[C.jsxs(fv,{children:[C.jsx(dv,{children:e("encryption.enterNotePassword.title")}),C.jsx(hv,{children:e("encryption.enterNotePassword.description")})]}),C.jsxs("div",{className:"grid gap-4 py-4",children:[C.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[C.jsx(bc,{htmlFor:"enterPassword",className:"text-right",children:e("common.password")}),C.jsx(Qf,{id:"enterPassword",type:"password",value:t.password,onChange:d=>t.setPassword(d.target.value),className:"col-span-3",autoFocus:!0,onKeyDown:d=>{d.key==="Enter"&&c()}})]}),r&&C.jsx("p",{className:"text-red-500 text-sm text-center",children:r})]}),C.jsxs(uO,{children:[C.jsx(Bn,{variant:"outline",onClick:f,children:e("common.cancel")}),C.jsx(Bn,{onClick:c,children:e("encryption.enterNotePassword.unlockNote")})]})]})})};function mO(n){const[e,t]=S.useState(!1);return S.useEffect(()=>{const r=window.matchMedia(n);r.matches!==e&&t(r.matches);const i=()=>t(r.matches);return r.addEventListener("change",i),()=>r.removeEventListener("change",i)},[n,e]),e}const fi={divider:"divider",left:"noteList",right:"currentNote"};function aU(){const n=mO("(max-width: 768px)");return S.useEffect(()=>{if(n)return;const e=document.getElementById(fi.divider),t=document.getElementById(fi.left),r=document.getElementById(fi.right);if(!e||!t||!r)return;function i(){t.classList.add("transition-all","duration-300","ease-in-out"),r.classList.add("transition-all","duration-300","ease-in-out"),e.classList.add("transition-opacity","duration-300")}function s(){t.classList.remove("transition-all","duration-300","ease-in-out"),r.classList.remove("transition-all","duration-300","ease-in-out"),e.classList.remove("transition-opacity","duration-300")}i();let l=!1;const c=()=>{l=!0,document.body.style.cursor="col-resize",s()},f=()=>{l&&(l=!1,document.body.style.cursor="default",i())},d=p=>{if(!l)return;const m=p.clientX;m>150&&m<window.innerWidth*.8&&(t.style.width=`${m}px`)};return e.addEventListener("mousedown",c),document.addEventListener("mouseup",f),document.addEventListener("mousemove",d),()=>{e.removeEventListener("mousedown",c),document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",d)}},[n]),null}var lU=Ec[" useInsertionEffect ".trim().toString()]||yt;function cU({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,l]=uU({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:i;{const p=S.useRef(n!==void 0);S.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const d=S.useCallback(p=>{var m;if(c){const y=fU(p)?p(n):p;y!==n&&((m=l.current)==null||m.call(l,y))}else s(p)},[c,n,s,l]);return[f,d]}function uU({defaultProp:n,onChange:e}){const[t,r]=S.useState(n),i=S.useRef(t),s=S.useRef(e);return lU(()=>{s.current=e},[e]),S.useEffect(()=>{var l;i.current!==t&&((l=s.current)==null||l.call(s,t),i.current=t)},[t,i]),[t,r,s]}function fU(n){return typeof n=="function"}var dU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hU=dU.reduce((n,e)=>{const t=Un(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(f,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function pv(n){const e=n+"CollectionProvider",[t,r]=$r(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:E,children:T}=w,N=gt.useRef(null),A=gt.useRef(new Map).current;return C.jsx(i,{scope:E,itemMap:A,collectionRef:N,children:T})};l.displayName=e;const c=n+"CollectionSlot",f=Un(c),d=gt.forwardRef((w,E)=>{const{scope:T,children:N}=w,A=s(c,T),L=qe(E,A.collectionRef);return C.jsx(f,{ref:L,children:N})});d.displayName=c;const p=n+"CollectionItemSlot",m="data-radix-collection-item",y=Un(p),b=gt.forwardRef((w,E)=>{const{scope:T,children:N,...A}=w,L=gt.useRef(null),z=qe(E,L),R=s(p,T);return gt.useEffect(()=>(R.itemMap.set(L,{ref:L,...A}),()=>void R.itemMap.delete(L))),C.jsx(y,{[m]:"",ref:z,children:N})});b.displayName=p;function x(w){const E=s(n+"CollectionConsumer",w);return gt.useCallback(()=>{const N=E.collectionRef.current;if(!N)return[];const A=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((R,D)=>A.indexOf(R.ref.current)-A.indexOf(D.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:d,ItemSlot:b},x,r]}var pU=S.createContext(void 0);function mv(n){const e=S.useContext(pU);return n||e||"ltr"}var mU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sr=mU.reduce((n,e)=>{const t=Un(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(f,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function gO(n,e){n&&Ir.flushSync(()=>n.dispatchEvent(e))}var gU="DismissableLayer",jg="dismissableLayer.update",yU="dismissableLayer.pointerDownOutside",vU="dismissableLayer.focusOutside",j1,yO=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vO=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:c,...f}=n,d=S.useContext(yO),[p,m]=S.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=S.useState({}),x=qe(e,D=>m(D)),w=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),T=w.indexOf(E),N=p?w.indexOf(p):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,L=N>=T,z=SU(D=>{const j=D.target,q=[...d.branches].some(ie=>ie.contains(j));!L||q||(i==null||i(D),l==null||l(D),D.defaultPrevented||c==null||c())},y),R=wU(D=>{const j=D.target;[...d.branches].some(ie=>ie.contains(j))||(s==null||s(D),l==null||l(D),D.defaultPrevented||c==null||c())},y);return Nd(D=>{N===d.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},y),S.useEffect(()=>{if(p)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(j1=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),I1(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=j1)}},[p,y,t,d]),S.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),I1())},[p,d]),S.useEffect(()=>{const D=()=>b({});return document.addEventListener(jg,D),()=>document.removeEventListener(jg,D)},[]),C.jsx(Sr.div,{...f,ref:x,style:{pointerEvents:A?L?"auto":"none":void 0,...n.style},onFocusCapture:ye(n.onFocusCapture,R.onFocusCapture),onBlurCapture:ye(n.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ye(n.onPointerDownCapture,z.onPointerDownCapture)})});vO.displayName=gU;var bU="DismissableLayerBranch",xU=S.forwardRef((n,e)=>{const t=S.useContext(yO),r=S.useRef(null),i=qe(e,r);return S.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),C.jsx(Sr.div,{...n,ref:i})});xU.displayName=bU;function SU(n,e=globalThis==null?void 0:globalThis.document){const t=Lt(n),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let f=function(){bO(yU,t,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function wU(n,e=globalThis==null?void 0:globalThis.document){const t=Lt(n),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&bO(vU,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function I1(){const n=new CustomEvent(jg);document.dispatchEvent(n)}function bO(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?gO(i,s):i.dispatchEvent(s)}var EU="Arrow",xO=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return C.jsx(Sr.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});xO.displayName=EU;var CU=xO,gv="Popper",[SO,wO]=$r(gv),[MU,EO]=SO(gv),CO=n=>{const{__scopePopper:e,children:t}=n,[r,i]=S.useState(null);return C.jsx(MU,{scope:e,anchor:r,onAnchorChange:i,children:t})};CO.displayName=gv;var MO="PopperAnchor",TO=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=EO(MO,t),l=S.useRef(null),c=qe(e,l);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:C.jsx(Sr.div,{...i,ref:c})});TO.displayName=MO;var yv="PopperContent",[TU,OU]=SO(yv),OO=S.forwardRef((n,e)=>{var re,ge,Se,be,Le,Be;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:x,...w}=n,E=EO(yv,t),[T,N]=S.useState(null),A=qe(e,it=>N(it)),[L,z]=S.useState(null),R=Jy(L),D=(R==null?void 0:R.width)??0,j=(R==null?void 0:R.height)??0,q=r+(s!=="center"?"-"+s:""),ie=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ce=Array.isArray(d)?d:[d],me=ce.length>0,pe={padding:ie,boundary:ce.filter(RU),altBoundary:me},{refs:fe,floatingStyles:de,placement:_,isPositioned:Z,middlewareData:H}=Fy({strategy:"fixed",placement:q,whileElementsMounted:(...it)=>Uy(...it,{animationFrame:b==="always"}),elements:{reference:E.anchor},middleware:[Vy({mainAxis:i+j,alignmentAxis:l}),f&&qy({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Yy():void 0,...pe}),f&&Ky({...pe}),Gy({...pe,apply:({elements:it,rects:ct,availableWidth:Mn,availableHeight:Tn})=>{const{width:St,height:Fr}=ct.reference,_t=it.floating.style;_t.setProperty("--radix-popper-available-width",`${Mn}px`),_t.setProperty("--radix-popper-available-height",`${Tn}px`),_t.setProperty("--radix-popper-anchor-width",`${St}px`),_t.setProperty("--radix-popper-anchor-height",`${Fr}px`)}}),L&&Xy({element:L,padding:c}),AU({arrowWidth:D,arrowHeight:j}),y&&Wy({strategy:"referenceHidden",...pe})]}),[J,k]=AO(_),Y=Lt(x);yt(()=>{Z&&(Y==null||Y())},[Z,Y]);const $=(re=H.arrow)==null?void 0:re.x,G=(ge=H.arrow)==null?void 0:ge.y,ee=((Se=H.arrow)==null?void 0:Se.centerOffset)!==0,[ae,le]=S.useState();return yt(()=>{T&&le(window.getComputedStyle(T).zIndex)},[T]),C.jsx("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Z?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(be=H.transformOrigin)==null?void 0:be.x,(Le=H.transformOrigin)==null?void 0:Le.y].join(" "),...((Be=H.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:C.jsx(TU,{scope:t,placedSide:J,onArrowChange:z,arrowX:$,arrowY:G,shouldHideArrow:ee,children:C.jsx(Sr.div,{"data-side":J,"data-align":k,...w,ref:A,style:{...w.style,animation:Z?void 0:"none"}})})})});OO.displayName=yv;var NO="PopperArrow",NU={top:"bottom",right:"left",bottom:"top",left:"right"},RO=S.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=OU(NO,r),l=NU[s.placedSide];return C.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:C.jsx(CU,{...i,ref:t,style:{...i.style,display:"block"}})})});RO.displayName=NO;function RU(n){return n!==null}var AU=n=>({name:"transformOrigin",options:n,fn(e){var E,T,N;const{placement:t,rects:r,middlewareData:i}=e,l=((E=i.arrow)==null?void 0:E.centerOffset)!==0,c=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[d,p]=AO(t),m={start:"0%",center:"50%",end:"100%"}[p],y=(((T=i.arrow)==null?void 0:T.x)??0)+c/2,b=(((N=i.arrow)==null?void 0:N.y)??0)+f/2;let x="",w="";return d==="bottom"?(x=l?m:`${y}px`,w=`${-f}px`):d==="top"?(x=l?m:`${y}px`,w=`${r.floating.height+f}px`):d==="right"?(x=`${-f}px`,w=l?m:`${b}px`):d==="left"&&(x=`${r.floating.width+f}px`,w=l?m:`${b}px`),{data:{x,y:w}}}});function AO(n){const[e,t="center"]=n.split("-");return[e,t]}var kU=CO,DU=TO,PU=OO,LU=RO,zU="Portal",kO=S.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,s]=S.useState(!1);yt(()=>s(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Oc.createPortal(C.jsx(Sr.div,{...r,ref:e}),l):null});kO.displayName=zU;var _U=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DO=_U.reduce((n,e)=>{const t=Un(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(f,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),jU=Ec[" useInsertionEffect ".trim().toString()]||yt;function IU({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,l]=BU({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:i;{const p=S.useRef(n!==void 0);S.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const d=S.useCallback(p=>{var m;if(c){const y=$U(p)?p(n):p;y!==n&&((m=l.current)==null||m.call(l,y))}else s(p)},[c,n,s,l]);return[f,d]}function BU({defaultProp:n,onChange:e}){const[t,r]=S.useState(n),i=S.useRef(t),s=S.useRef(e);return jU(()=>{s.current=e},[e]),S.useEffect(()=>{var l;i.current!==t&&((l=s.current)==null||l.call(s,t),i.current=t)},[t,i]),[t,r,s]}function $U(n){return typeof n=="function"}var Fm="rovingFocusGroup.onEntryFocus",HU={bubbles:!1,cancelable:!0},Pc="RovingFocusGroup",[Ig,PO,UU]=pv(Pc),[FU,LO]=$r(Pc,[UU]),[VU,qU]=FU(Pc),zO=S.forwardRef((n,e)=>C.jsx(Ig.Provider,{scope:n.__scopeRovingFocusGroup,children:C.jsx(Ig.Slot,{scope:n.__scopeRovingFocusGroup,children:C.jsx(YU,{...n,ref:e})})}));zO.displayName=Pc;var YU=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...m}=n,y=S.useRef(null),b=qe(e,y),x=mv(s),[w,E]=IU({prop:l,defaultProp:c??null,onChange:f,caller:Pc}),[T,N]=S.useState(!1),A=Lt(d),L=PO(t),z=S.useRef(!1),[R,D]=S.useState(0);return S.useEffect(()=>{const j=y.current;if(j)return j.addEventListener(Fm,A),()=>j.removeEventListener(Fm,A)},[A]),C.jsx(VU,{scope:t,orientation:r,dir:x,loop:i,currentTabStopId:w,onItemFocus:S.useCallback(j=>E(j),[E]),onItemShiftTab:S.useCallback(()=>N(!0),[]),onFocusableItemAdd:S.useCallback(()=>D(j=>j+1),[]),onFocusableItemRemove:S.useCallback(()=>D(j=>j-1),[]),children:C.jsx(DO.div,{tabIndex:T||R===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...n.style},onMouseDown:ye(n.onMouseDown,()=>{z.current=!0}),onFocus:ye(n.onFocus,j=>{const q=!z.current;if(j.target===j.currentTarget&&q&&!T){const ie=new CustomEvent(Fm,HU);if(j.currentTarget.dispatchEvent(ie),!ie.defaultPrevented){const ce=L().filter(_=>_.focusable),me=ce.find(_=>_.active),pe=ce.find(_=>_.id===w),de=[me,pe,...ce].filter(Boolean).map(_=>_.ref.current);IO(de,p)}}z.current=!1}),onBlur:ye(n.onBlur,()=>N(!1))})})}),_O="RovingFocusGroupItem",jO=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:l,...c}=n,f=cn(),d=s||f,p=qU(_O,t),m=p.currentTabStopId===d,y=PO(t),{onFocusableItemAdd:b,onFocusableItemRemove:x,currentTabStopId:w}=p;return S.useEffect(()=>{if(r)return b(),()=>x()},[r,b,x]),C.jsx(Ig.ItemSlot,{scope:t,id:d,focusable:r,active:i,children:C.jsx(DO.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:ye(n.onMouseDown,E=>{r?p.onItemFocus(d):E.preventDefault()}),onFocus:ye(n.onFocus,()=>p.onItemFocus(d)),onKeyDown:ye(n.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){p.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const T=WU(E,p.orientation,p.dir);if(T!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let A=y().filter(L=>L.focusable).map(L=>L.ref.current);if(T==="last")A.reverse();else if(T==="prev"||T==="next"){T==="prev"&&A.reverse();const L=A.indexOf(E.currentTarget);A=p.loop?XU(A,L+1):A.slice(L+1)}setTimeout(()=>IO(A))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:w!=null}):l})})});jO.displayName=_O;var KU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GU(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function WU(n,e,t){const r=GU(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return KU[r]}function IO(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function XU(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var JU=zO,QU=jO,Bg=["Enter"," "],ZU=["ArrowDown","PageUp","Home"],BO=["ArrowUp","PageDown","End"],eF=[...ZU,...BO],tF={ltr:[...Bg,"ArrowRight"],rtl:[...Bg,"ArrowLeft"]},nF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lc="Menu",[xc,rF,iF]=pv(Lc),[xs,$O]=$r(Lc,[iF,wO,LO]),$d=wO(),HO=LO(),[oF,Ss]=xs(Lc),[sF,zc]=xs(Lc),UO=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:l=!0}=n,c=$d(e),[f,d]=S.useState(null),p=S.useRef(!1),m=Lt(s),y=mv(i);return S.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),C.jsx(kU,{...c,children:C.jsx(oF,{scope:e,open:t,onOpenChange:m,content:f,onContentChange:d,children:C.jsx(sF,{scope:e,onClose:S.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:y,modal:l,children:r})})})};UO.displayName=Lc;var aF="MenuAnchor",vv=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=$d(t);return C.jsx(DU,{...i,...r,ref:e})});vv.displayName=aF;var bv="MenuPortal",[lF,FO]=xs(bv,{forceMount:void 0}),VO=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=Ss(bv,e);return C.jsx(lF,{scope:e,forceMount:t,children:C.jsx(Ur,{present:t||s.open,children:C.jsx(kO,{asChild:!0,container:i,children:r})})})};VO.displayName=bv;var ir="MenuContent",[cF,xv]=xs(ir),qO=S.forwardRef((n,e)=>{const t=FO(ir,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Ss(ir,n.__scopeMenu),l=zc(ir,n.__scopeMenu);return C.jsx(xc.Provider,{scope:n.__scopeMenu,children:C.jsx(Ur,{present:r||s.open,children:C.jsx(xc.Slot,{scope:n.__scopeMenu,children:l.modal?C.jsx(uF,{...i,ref:e}):C.jsx(fF,{...i,ref:e})})})})}),uF=S.forwardRef((n,e)=>{const t=Ss(ir,n.__scopeMenu),r=S.useRef(null),i=qe(e,r);return S.useEffect(()=>{const s=r.current;if(s)return ov(s)},[]),C.jsx(Sv,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:ye(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),fF=S.forwardRef((n,e)=>{const t=Ss(ir,n.__scopeMenu);return C.jsx(Sv,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),dF=Un("MenuContent.ScrollLock"),Sv=S.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:y,onDismiss:b,disableOutsideScroll:x,...w}=n,E=Ss(ir,t),T=zc(ir,t),N=$d(t),A=HO(t),L=rF(t),[z,R]=S.useState(null),D=S.useRef(null),j=qe(e,D,E.onContentChange),q=S.useRef(0),ie=S.useRef(""),ce=S.useRef(0),me=S.useRef(null),pe=S.useRef("right"),fe=S.useRef(0),de=x?Id:S.Fragment,_=x?{as:dF,allowPinchZoom:!0}:void 0,Z=J=>{var re,ge;const k=ie.current+J,Y=L().filter(Se=>!Se.disabled),$=document.activeElement,G=(re=Y.find(Se=>Se.ref.current===$))==null?void 0:re.textValue,ee=Y.map(Se=>Se.textValue),ae=CF(ee,k,G),le=(ge=Y.find(Se=>Se.textValue===ae))==null?void 0:ge.ref.current;(function Se(be){ie.current=be,window.clearTimeout(q.current),be!==""&&(q.current=window.setTimeout(()=>Se(""),1e3))})(k),le&&setTimeout(()=>le.focus())};S.useEffect(()=>()=>window.clearTimeout(q.current),[]),iv();const H=S.useCallback(J=>{var Y,$;return pe.current===((Y=me.current)==null?void 0:Y.side)&&TF(J,($=me.current)==null?void 0:$.area)},[]);return C.jsx(cF,{scope:t,searchRef:ie,onItemEnter:S.useCallback(J=>{H(J)&&J.preventDefault()},[H]),onItemLeave:S.useCallback(J=>{var k;H(J)||((k=D.current)==null||k.focus(),R(null))},[H]),onTriggerLeave:S.useCallback(J=>{H(J)&&J.preventDefault()},[H]),pointerGraceTimerRef:ce,onPointerGraceIntentChange:S.useCallback(J=>{me.current=J},[]),children:C.jsx(de,{..._,children:C.jsx(_d,{asChild:!0,trapped:i,onMountAutoFocus:ye(s,J=>{var k;J.preventDefault(),(k=D.current)==null||k.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:C.jsx(vO,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:y,onDismiss:b,children:C.jsx(JU,{asChild:!0,...A,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:z,onCurrentTabStopIdChange:R,onEntryFocus:ye(f,J=>{T.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:C.jsx(PU,{role:"menu","aria-orientation":"vertical","data-state":aN(E.open),"data-radix-menu-content":"",dir:T.dir,...N,...w,ref:j,style:{outline:"none",...w.style},onKeyDown:ye(w.onKeyDown,J=>{const Y=J.target.closest("[data-radix-menu-content]")===J.currentTarget,$=J.ctrlKey||J.altKey||J.metaKey,G=J.key.length===1;Y&&(J.key==="Tab"&&J.preventDefault(),!$&&G&&Z(J.key));const ee=D.current;if(J.target!==ee||!eF.includes(J.key))return;J.preventDefault();const le=L().filter(re=>!re.disabled).map(re=>re.ref.current);BO.includes(J.key)&&le.reverse(),wF(le)}),onBlur:ye(n.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(q.current),ie.current="")}),onPointerMove:ye(n.onPointerMove,Sc(J=>{const k=J.target,Y=fe.current!==J.clientX;if(J.currentTarget.contains(k)&&Y){const $=J.clientX>fe.current?"right":"left";pe.current=$,fe.current=J.clientX}}))})})})})})})});qO.displayName=ir;var hF="MenuGroup",wv=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return C.jsx(Sr.div,{role:"group",...r,ref:e})});wv.displayName=hF;var pF="MenuLabel",YO=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return C.jsx(Sr.div,{...r,ref:e})});YO.displayName=pF;var Zf="MenuItem",B1="menu.itemSelect",Hd=S.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=S.useRef(null),l=zc(Zf,n.__scopeMenu),c=xv(Zf,n.__scopeMenu),f=qe(e,s),d=S.useRef(!1),p=()=>{const m=s.current;if(!t&&m){const y=new CustomEvent(B1,{bubbles:!0,cancelable:!0});m.addEventListener(B1,b=>r==null?void 0:r(b),{once:!0}),gO(m,y),y.defaultPrevented?d.current=!1:l.onClose()}};return C.jsx(KO,{...i,ref:f,disabled:t,onClick:ye(n.onClick,p),onPointerDown:m=>{var y;(y=n.onPointerDown)==null||y.call(n,m),d.current=!0},onPointerUp:ye(n.onPointerUp,m=>{var y;d.current||(y=m.currentTarget)==null||y.click()}),onKeyDown:ye(n.onKeyDown,m=>{const y=c.searchRef.current!=="";t||y&&m.key===" "||Bg.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Hd.displayName=Zf;var KO=S.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,l=xv(Zf,t),c=HO(t),f=S.useRef(null),d=qe(e,f),[p,m]=S.useState(!1),[y,b]=S.useState("");return S.useEffect(()=>{const x=f.current;x&&b((x.textContent??"").trim())},[s.children]),C.jsx(xc.ItemSlot,{scope:t,disabled:r,textValue:i??y,children:C.jsx(QU,{asChild:!0,...c,focusable:!r,children:C.jsx(Sr.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:ye(n.onPointerMove,Sc(x=>{r?l.onItemLeave(x):(l.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(n.onPointerLeave,Sc(x=>l.onItemLeave(x))),onFocus:ye(n.onFocus,()=>m(!0)),onBlur:ye(n.onBlur,()=>m(!1))})})})}),mF="MenuCheckboxItem",GO=S.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return C.jsx(ZO,{scope:n.__scopeMenu,checked:t,children:C.jsx(Hd,{role:"menuitemcheckbox","aria-checked":ed(t)?"mixed":t,...i,ref:e,"data-state":Cv(t),onSelect:ye(i.onSelect,()=>r==null?void 0:r(ed(t)?!0:!t),{checkForDefaultPrevented:!1})})})});GO.displayName=mF;var WO="MenuRadioGroup",[gF,yF]=xs(WO,{value:void 0,onValueChange:()=>{}}),XO=S.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=Lt(r);return C.jsx(gF,{scope:n.__scopeMenu,value:t,onValueChange:s,children:C.jsx(wv,{...i,ref:e})})});XO.displayName=WO;var JO="MenuRadioItem",QO=S.forwardRef((n,e)=>{const{value:t,...r}=n,i=yF(JO,n.__scopeMenu),s=t===i.value;return C.jsx(ZO,{scope:n.__scopeMenu,checked:s,children:C.jsx(Hd,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Cv(s),onSelect:ye(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,t)},{checkForDefaultPrevented:!1})})})});QO.displayName=JO;var Ev="MenuItemIndicator",[ZO,vF]=xs(Ev,{checked:!1}),eN=S.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=vF(Ev,t);return C.jsx(Ur,{present:r||ed(s.checked)||s.checked===!0,children:C.jsx(Sr.span,{...i,ref:e,"data-state":Cv(s.checked)})})});eN.displayName=Ev;var bF="MenuSeparator",tN=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return C.jsx(Sr.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});tN.displayName=bF;var xF="MenuArrow",nN=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=$d(t);return C.jsx(LU,{...i,...r,ref:e})});nN.displayName=xF;var SF="MenuSub",[z8,rN]=xs(SF),ec="MenuSubTrigger",iN=S.forwardRef((n,e)=>{const t=Ss(ec,n.__scopeMenu),r=zc(ec,n.__scopeMenu),i=rN(ec,n.__scopeMenu),s=xv(ec,n.__scopeMenu),l=S.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=s,d={__scopeMenu:n.__scopeMenu},p=S.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return S.useEffect(()=>p,[p]),S.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),f(null)}},[c,f]),C.jsx(vv,{asChild:!0,...d,children:C.jsx(KO,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":aN(t.open),...n,ref:pi(e,i.onTriggerChange),onClick:m=>{var y;(y=n.onClick)==null||y.call(n,m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:ye(n.onPointerMove,Sc(m=>{s.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),p()},100))})),onPointerLeave:ye(n.onPointerLeave,Sc(m=>{var b,x;p();const y=(b=t.content)==null?void 0:b.getBoundingClientRect();if(y){const w=(x=t.content)==null?void 0:x.dataset.side,E=w==="right",T=E?-5:5,N=y[E?"left":"right"],A=y[E?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+T,y:m.clientY},{x:N,y:y.top},{x:A,y:y.top},{x:A,y:y.bottom},{x:N,y:y.bottom}],side:w}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ye(n.onKeyDown,m=>{var b;const y=s.searchRef.current!=="";n.disabled||y&&m.key===" "||tF[r.dir].includes(m.key)&&(t.onOpenChange(!0),(b=t.content)==null||b.focus(),m.preventDefault())})})})});iN.displayName=ec;var oN="MenuSubContent",sN=S.forwardRef((n,e)=>{const t=FO(ir,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Ss(ir,n.__scopeMenu),l=zc(ir,n.__scopeMenu),c=rN(oN,n.__scopeMenu),f=S.useRef(null),d=qe(e,f);return C.jsx(xc.Provider,{scope:n.__scopeMenu,children:C.jsx(Ur,{present:r||s.open,children:C.jsx(xc.Slot,{scope:n.__scopeMenu,children:C.jsx(Sv,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;l.isUsingKeyboardRef.current&&((m=f.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:ye(n.onFocusOutside,p=>{p.target!==c.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ye(n.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:ye(n.onKeyDown,p=>{var b;const m=p.currentTarget.contains(p.target),y=nF[l.dir].includes(p.key);m&&y&&(s.onOpenChange(!1),(b=c.trigger)==null||b.focus(),p.preventDefault())})})})})})});sN.displayName=oN;function aN(n){return n?"open":"closed"}function ed(n){return n==="indeterminate"}function Cv(n){return ed(n)?"indeterminate":n?"checked":"unchecked"}function wF(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function EF(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function CF(n,e,t){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let l=EF(n,Math.max(s,0));i.length===1&&(l=l.filter(d=>d!==t));const f=l.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return f!==t?f:void 0}function MF(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,l=e.length-1;s<e.length;l=s++){const c=e[s],f=e[l],d=c.x,p=c.y,m=f.x,y=f.y;p>r!=y>r&&t<(m-d)*(r-p)/(y-p)+d&&(i=!i)}return i}function TF(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return MF(t,e)}function Sc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var OF=UO,NF=vv,RF=VO,AF=qO,kF=wv,DF=YO,PF=Hd,LF=GO,zF=XO,_F=QO,jF=eN,IF=tN,BF=nN,$F=iN,HF=sN,Ud="DropdownMenu",[UF,_8]=$r(Ud,[$O]),gn=$O(),[FF,lN]=UF(Ud),cN=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:l,modal:c=!0}=n,f=gn(e),d=S.useRef(null),[p,m]=cU({prop:i,defaultProp:s??!1,onChange:l,caller:Ud});return C.jsx(FF,{scope:e,triggerId:cn(),triggerRef:d,contentId:cn(),open:p,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(y=>!y),[m]),modal:c,children:C.jsx(OF,{...f,open:p,onOpenChange:m,dir:r,modal:c,children:t})})};cN.displayName=Ud;var uN="DropdownMenuTrigger",fN=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=lN(uN,t),l=gn(t);return C.jsx(NF,{asChild:!0,...l,children:C.jsx(hU.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:pi(e,s.triggerRef),onPointerDown:ye(n.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(s.onOpenToggle(),s.open||c.preventDefault())}),onKeyDown:ye(n.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&s.onOpenToggle(),c.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});fN.displayName=uN;var VF="DropdownMenuPortal",dN=n=>{const{__scopeDropdownMenu:e,...t}=n,r=gn(e);return C.jsx(RF,{...r,...t})};dN.displayName=VF;var hN="DropdownMenuContent",pN=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lN(hN,t),s=gn(t),l=S.useRef(!1);return C.jsx(AF,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ye(n.onCloseAutoFocus,c=>{var f;l.current||(f=i.triggerRef.current)==null||f.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:ye(n.onInteractOutside,c=>{const f=c.detail.originalEvent,d=f.button===0&&f.ctrlKey===!0,p=f.button===2||d;(!i.modal||p)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pN.displayName=hN;var qF="DropdownMenuGroup",mN=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx(kF,{...i,...r,ref:e})});mN.displayName=qF;var YF="DropdownMenuLabel",gN=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx(DF,{...i,...r,ref:e})});gN.displayName=YF;var KF="DropdownMenuItem",yN=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx(PF,{...i,...r,ref:e})});yN.displayName=KF;var GF="DropdownMenuCheckboxItem",WF=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx(LF,{...i,...r,ref:e})});WF.displayName=GF;var XF="DropdownMenuRadioGroup",JF=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx(zF,{...i,...r,ref:e})});JF.displayName=XF;var QF="DropdownMenuRadioItem",ZF=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx(_F,{...i,...r,ref:e})});ZF.displayName=QF;var eV="DropdownMenuItemIndicator",tV=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx(jF,{...i,...r,ref:e})});tV.displayName=eV;var nV="DropdownMenuSeparator",vN=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx(IF,{...i,...r,ref:e})});vN.displayName=nV;var rV="DropdownMenuArrow",iV=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx(BF,{...i,...r,ref:e})});iV.displayName=rV;var oV="DropdownMenuSubTrigger",sV=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx($F,{...i,...r,ref:e})});sV.displayName=oV;var aV="DropdownMenuSubContent",lV=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=gn(t);return C.jsx(HF,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lV.displayName=aV;var cV=cN,uV=fN,fV=dN,dV=pN,hV=mN,pV=gN,mV=yN,gV=vN;function yV({...n}){return C.jsx(cV,{"data-slot":"dropdown-menu",...n})}function vV({...n}){return C.jsx(uV,{"data-slot":"dropdown-menu-trigger",...n})}function bV({className:n,sideOffset:e=4,...t}){return C.jsx(fV,{children:C.jsx(dV,{"data-slot":"dropdown-menu-content",sideOffset:e,className:st("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function xV({...n}){return C.jsx(hV,{"data-slot":"dropdown-menu-group",...n})}function Vm({className:n,inset:e,variant:t="default",...r}){return C.jsx(mV,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:st("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function SV({className:n,inset:e,...t}){return C.jsx(pV,{"data-slot":"dropdown-menu-label","data-inset":e,className:st("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),...t})}function wV({className:n,...e}){return C.jsx(gV,{"data-slot":"dropdown-menu-separator",className:st("bg-border -mx-1 my-1 h-px",n),...e})}const EV=({isNew:n,isEncrypted:e,note:t,onEncryptionClick:r,onDeleteClick:i,onSearchClick:s})=>{const{t:l}=ar();return C.jsxs(yV,{modal:!1,children:[C.jsx(vV,{asChild:!0,children:C.jsx(Bn,{variant:"outline",size:"icon",children:C.jsx(KB,{})})}),C.jsxs(bV,{className:"w-56",children:[C.jsx(SV,{children:l("note.title")}),C.jsx(wV,{}),C.jsxs(xV,{children:[C.jsxs(Vm,{disabled:e,onClick:r,children:[t.isEncrypted?C.jsx(VM,{className:"text-blue-500"}):C.jsx(VB,{}),C.jsx("span",{children:t.isEncrypted?l("note.decryptNote"):l("note.encryptNote")})]}),C.jsxs(Vm,{onClick:s,children:[C.jsx(Od,{}),C.jsx("span",{children:l("common.search")})]}),n||C.jsxs(Vm,{variant:"destructive",onClick:i,children:[C.jsx(u3,{}),C.jsx("span",{children:l("note.deleteNote")})]})]})]})]})},CV=({editor:n,onClose:e})=>{const{t}=ar(),[r,i]=S.useState(""),[s,l]=S.useState(""),c=S.useRef(null),f=(E,T=!1)=>{n&&(T&&n.commands.resetIndex(),n.commands.setSearchTerm(E),n.commands.setCaseSensitive(!1),p(),d())},d=()=>{if(!n)return;const{results:E,resultIndex:T}=n.storage.searchAndReplace,N=E.length;N>0?l(`${T+1} of ${N}`):l(t("common.noResults"))},p=()=>{if(!n)return;const{results:E,resultIndex:T}=n.storage.searchAndReplace,N=E[T];if(!N)return;n.commands.setTextSelection(N);const{node:A}=n.view.domAtPos(n.state.selection.anchor);setTimeout(()=>{A instanceof HTMLElement&&A.scrollIntoView({behavior:"smooth",block:"center"})},0)},m=()=>{n&&(n.commands.nextSearchResult(),p(),d())},y=()=>{n&&(n.commands.previousSearchResult(),p(),d())},b=E=>{const T=E.target.value;i(T),f(T,!0)},x=()=>{i(""),l(""),n&&n.commands.setSearchTerm("")},w=()=>{e==null||e(),n==null||n.commands.resetIndex(),n==null||n.commands.setSearchTerm("")};return S.useEffect(()=>{const E=setTimeout(()=>{var T;(T=c.current)==null||T.focus()},50);return()=>clearTimeout(E)},[]),C.jsxs("div",{className:"sticky z-10 top-0 mx-auto left-0 right-0 rounded-lg shadow-md bg-white dark:bg-gray-800 p-2 w-full max-w-md",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("div",{className:"relative flex-1",children:[C.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:C.jsx(Od,{size:18})}),C.jsx(Qf,{ref:c,className:"pl-10 pr-10 py-2 w-full rounded-md border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:t("note.searchInNote"),value:r,onChange:b,onKeyDown:E=>{E.key==="Enter"&&E.shiftKey?y():E.key==="Enter"&&m()}}),r&&C.jsx("button",{onClick:x,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:C.jsx(Mg,{size:18})})]}),C.jsx("button",{onClick:w,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close search",children:C.jsx(Mg,{size:20})})]}),r&&C.jsxs("div",{className:"flex items-center justify-between mt-2 px-2",children:[C.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:s}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:y,className:"p-1 text-sm bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300",children:t("common.previous")}),C.jsx("button",{onClick:m,className:"p-1 text-sm bg-blue-500 rounded hover:bg-blue-600 text-white",children:t("common.next")})]})]})]})},MV=()=>{const{t:n}=ar(),e=S.useRef(null),t=Xf(J=>J.fetchNotes),[r,i]=S.useState(!1),s=cd(),{openSetPasswordModal:l,closeSetPasswordModal:c,openEnterPasswordModal:f,closeEnterPasswordModal:d}=zd(),{password:p,setPassword:m,encryptContent:y,decryptContent:b}=p4(),{note:x,setNote:w,isEncrypted:E,setIsEncrypted:T,isEditing:N,setIsEditing:A,isNewNote:L,getNote:z,saveNote:R,deleteNote:D}=y4(),j=()=>E?f():A(!0),q=()=>{x&&(x.isEncrypted?fe():l())},ie=async()=>{var Y;if(!x)return;const J=(Y=e.current)==null?void 0:Y.getHTML(),k=await R(x,J,x.isEncrypted,p,y);t(),L&&s(`?noteId=${k==null?void 0:k.id}`)},ce=async()=>{if(E)return f();await D(x),s("/"),t()},me=async()=>{var Y;if(!x)return;const J=N?(Y=e.current)==null?void 0:Y.getHTML():x.content,k={...x,isEncrypted:!0};await R(k,J,!0,p,y),c(),t()},pe=async J=>{if(!x||!x.isEncrypted)return!1;const k=await b(x.content,J);return k===null?!1:(w({...x,content:k}),T(!1),d(),!0)},fe=async()=>{if(!x||!x.isEncrypted)return;const J={...x,isEncrypted:!1};await xa.update(J),w(J),m(""),t()},[de]=jE(),_=de.get("noteId");S.useEffect(()=>{w(null),_&&(m(""),z(_))},[_]);const Z=()=>s("/");if(!x)return null;const H=E?n("note.encrypted"):x.content;return C.jsxs("div",{id:fi.right,className:"relative flex-1 flex flex-col md:h-screen overflow-y-auto h-full p-4 space-y-4 shadow",children:[r&&C.jsx(CV,{onClose:()=>i(!1),editor:e.current}),C.jsxs("div",{className:"flex items-center justify-between py-1",children:[C.jsxs("div",{className:"flex items-center gap-3 w-full",children:[C.jsx(Bn,{onClick:Z,className:"md:hidden flex",variant:"outline",size:"icon",children:C.jsx(UM,{})}),N?C.jsx("input",{className:"w-full text-2xl border-none font-bold border outline-none rounded p-0",value:x.label,onChange:J=>w({...x,label:J.target.value}),placeholder:"Enter note title",autoFocus:L}):C.jsx("h1",{className:"text-2xl font-bold",children:x.label})]}),C.jsxs("div",{className:"flex gap-3 items-center",children:[C.jsxs(TT,{children:[C.jsx(OT,{asChild:!0,children:C.jsx(Bn,{variant:"outline",size:"icon",onClick:N?ie:j,children:N?C.jsx(t3,{}):C.jsx(s3,{})})}),C.jsx(NT,{children:n(N?"common.save":"common.edit")})]}),C.jsx(EV,{isNew:L,isEncrypted:E,note:x,onEncryptionClick:q,onDeleteClick:ce,onSearchClick:()=>i(!r)})]})]}),C.jsx(x3,{className:N?"bg-input/70 rounded-md p-4 transition-all":"transition-all",ref:e,value:H,editable:N&&!E}),x&&C.jsx(h4,{}),C.jsx(oU,{onSuccess:me}),C.jsx(sU,{onSuccess:pe}),C.jsx(aU,{})]})};function $g({className:n,variant:e,size:t,asChild:r=!1,...i}){const s=r?MM:fd;return C.jsx(s,{"data-slot":"a",className:st($M({variant:e,size:t,className:n})),...i})}function ua(n,e,t){let r=t.initialDeps??[],i;function s(){var l,c,f,d;let p;t.key&&((l=t.debug)!=null&&l.call(t))&&(p=Date.now());const m=n();if(!(m.length!==r.length||m.some((x,w)=>r[w]!==x)))return i;r=m;let b;if(t.key&&((c=t.debug)!=null&&c.call(t))&&(b=Date.now()),i=e(...m),t.key&&((f=t.debug)!=null&&f.call(t))){const x=Math.round((Date.now()-p)*100)/100,w=Math.round((Date.now()-b)*100)/100,E=w/16,T=(N,A)=>{for(N=String(N);N.length<A;)N=" "+N;return N};console.info(`%c ${T(w,5)} /${T(x,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*E,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(d=t==null?void 0:t.onChange)==null||d.call(t,i),i}return s.updateDeps=l=>{r=l},s}function qm(n,e){if(n===void 0)throw new Error("Unexpected undefined");return n}const TV=(n,e)=>Math.abs(n-e)<1,OV=(n,e,t)=>{let r;return function(...i){n.clearTimeout(r),r=n.setTimeout(()=>e.apply(this,i),t)}},NV=n=>n,RV=n=>{const e=Math.max(n.startIndex-n.overscan,0),t=Math.min(n.endIndex+n.overscan,n.count-1),r=[];for(let i=e;i<=t;i++)r.push(i);return r},AV=(n,e)=>{const t=n.scrollElement;if(!t)return;const r=n.targetWindow;if(!r)return;const i=l=>{const{width:c,height:f}=l;e({width:Math.round(c),height:Math.round(f)})};if(i(t.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(l=>{const c=()=>{const f=l[0];if(f!=null&&f.borderBoxSize){const d=f.borderBoxSize[0];if(d){i({width:d.inlineSize,height:d.blockSize});return}}i(t.getBoundingClientRect())};n.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()});return s.observe(t,{box:"border-box"}),()=>{s.unobserve(t)}},$1={passive:!0},H1=typeof window>"u"?!0:"onscrollend"in window,kV=(n,e)=>{const t=n.scrollElement;if(!t)return;const r=n.targetWindow;if(!r)return;let i=0;const s=n.options.useScrollendEvent&&H1?()=>{}:OV(r,()=>{e(i,!1)},n.options.isScrollingResetDelay),l=p=>()=>{const{horizontal:m,isRtl:y}=n.options;i=m?t.scrollLeft*(y&&-1||1):t.scrollTop,s(),e(i,p)},c=l(!0),f=l(!1);f(),t.addEventListener("scroll",c,$1);const d=n.options.useScrollendEvent&&H1;return d&&t.addEventListener("scrollend",f,$1),()=>{t.removeEventListener("scroll",c),d&&t.removeEventListener("scrollend",f)}},DV=(n,e,t)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(n.getBoundingClientRect()[t.options.horizontal?"width":"height"])},PV=(n,{adjustments:e=0,behavior:t},r)=>{var i,s;const l=n+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:l,behavior:t})};class LV{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const r=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const l=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),t=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([r,i])=>{typeof i>"u"&&delete t[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:NV,rangeExtractor:RV,onChange:()=>{},measureElement:DV,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,t)},this.maybeNotify=ua(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,r)=>{const i=new Map,s=new Map;for(let l=r-1;l>=0;l--){const c=t[l];if(i.has(c.lane))continue;const f=s.get(c.lane);if(f==null||c.end>f.end?s.set(c.lane,c):c.end<f.end&&i.set(c.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((l,c)=>l.end===c.end?l.index-c.index:l.end-c.end)[0]:void 0},this.getMeasurementOptions=ua(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,r,i,s,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:l}),{key:!1}),this.getMeasurements=ua(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:l},c)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const f=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,f);for(let p=f;p<t;p++){const m=s(p),y=this.options.lanes===1?d[p-1]:this.getFurthestMeasurement(d,p),b=y?y.end+this.options.gap:r+i,x=c.get(m),w=typeof x=="number"?x:this.options.estimateSize(p),E=b+w,T=y?y.lane:p%this.options.lanes;d[p]={index:p,start:b,size:w,end:E,key:m,lane:T}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ua(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,r,i,s)=>this.range=t.length>0&&r>0?zV({measurements:t,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ua(()=>{let t=null,r=null;const i=this.calculateRange();return i&&(t=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,r]},(t,r,i,s,l)=>s===null||l===null?[]:t({startIndex:s,endIndex:l,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const r=this.options.indexAttribute,i=t.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(t,r)=>{const i=this.indexFromElement(t),s=this.measurementsCache[i];if(!s)return;const l=s.key,c=this.elementsCache.get(l);c!==t&&(c&&this.observer.unobserve(c),this.observer.observe(t),this.elementsCache.set(l,t)),t.isConnected&&this.resizeItem(i,this.options.measureElement(t,r,this))},this.resizeItem=(t,r)=>{const i=this.measurementsCache[t];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,l=r-s;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,l,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(t,void 0)},this.getVirtualItems=ua(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,r)=>{const i=[];for(let s=0,l=t.length;s<l;s++){const c=t[s],f=r[c];i.push(f)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const r=this.getMeasurements();if(r.length!==0)return qm(r[bN(0,r.length-1,i=>qm(r[i]).start,t)])},this.getOffsetForAlignment=(t,r,i=0)=>{const s=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=t>=l+s?"end":"start"),r==="center"?t+=(i-s)/2:r==="end"&&(t-=s);const c=this.options.horizontal?"scrollWidth":"scrollHeight",d=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[c]:this.scrollElement[c]:0)-s;return Math.max(Math.min(d,t),0)},this.getOffsetForIndex=(t,r="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const i=this.measurementsCache[t];if(!i)return;const s=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(i.end>=l+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const c=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(c,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(t,{align:r="auto",behavior:i}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(t,r);if(!s)return;const[l,c]=s;this._scrollToOffset(l,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[d]=qm(this.getOffsetForIndex(t,c));TV(d,this.getScrollOffset())||this.scrollToIndex(t,{align:c,behavior:i})}else this.scrollToIndex(t,{align:c,behavior:i})}))},this.scrollBy=(t,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var t;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((t=r[r.length-1])==null?void 0:t.end)??0;else{const s=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&s.some(c=>c===null);){const c=r[l];s[c.lane]===null&&(s[c.lane]=c.end),l--}i=Math.max(...s.filter(c=>c!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:r,behavior:i})=>{this.options.scrollToFn(t,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const bN=(n,e,t,r)=>{for(;n<=e;){const i=(n+e)/2|0,s=t(i);if(s<r)n=i+1;else if(s>r)e=i-1;else return i}return n>0?n-1:0};function zV({measurements:n,outerSize:e,scrollOffset:t,lanes:r}){const i=n.length-1,s=f=>n[f].start;if(n.length<=r)return{startIndex:0,endIndex:i};let l=bN(0,i,s,t),c=l;if(r===1)for(;c<i&&n[c].end<t+e;)c++;else if(r>1){const f=Array(r).fill(0);for(;c<i&&f.some(p=>p<t+e);){const p=n[c];f[p.lane]=p.end,c++}const d=Array(r).fill(t+e);for(;l>=0&&d.some(p=>p>=t);){const p=n[l];d[p.lane]=p.start,l--}l=Math.max(0,l-l%r),c=Math.min(i,c+(r-1-c%r))}return{startIndex:l,endIndex:c}}const U1=typeof document<"u"?S.useLayoutEffect:S.useEffect;function _V(n){const e=S.useReducer(()=>({}),{})[1],t={...n,onChange:(i,s)=>{var l;s?Ir.flushSync(e):e(),(l=n.onChange)==null||l.call(n,i,s)}},[r]=S.useState(()=>new LV(t));return r.setOptions(t),U1(()=>r._didMount(),[]),U1(()=>r._willUpdate()),r}function jV(n){return _V({observeElementRect:AV,observeElementOffset:kV,scrollToFn:PV,...n})}const IV=({notes:n})=>{const{t:e}=ar(),t=S.useRef(null),r=jV({count:n.length,getScrollElement:()=>t.current,estimateSize:()=>100,overscan:5});return C.jsx("div",{ref:t,className:"overflow-auto",children:C.jsx("div",{style:{height:r.getTotalSize(),position:"relative"},className:"relative",children:r.getVirtualItems().map(i=>{const s=n[i.index];return C.jsxs(fd,{to:`?noteId=${s.id}`,className:"absolute w-full p-4 rounded-md border",style:{transform:`translateY(${i.start}px)`,top:0},children:[C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("h3",{className:"font-semibold",children:s.label}),s.isEncrypted&&C.jsx(VM,{size:"10px"})]}),C.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",dangerouslySetInnerHTML:{__html:s.isEncrypted?e("notes.encrypted"):s.content}})]},i.index)})})})};var F1=1,BV=.9,$V=.8,HV=.17,Ym=.1,Km=.999,UV=.9999,FV=.99,VV=/[\\\/_+.#"@\[\(\{&]/,qV=/[\\\/_+.#"@\[\(\{&]/g,YV=/[\s-]/,xN=/[\s-]/g;function Hg(n,e,t,r,i,s,l){if(s===e.length)return i===n.length?F1:FV;var c=`${i},${s}`;if(l[c]!==void 0)return l[c];for(var f=r.charAt(s),d=t.indexOf(f,i),p=0,m,y,b,x;d>=0;)m=Hg(n,e,t,r,d+1,s+1,l),m>p&&(d===i?m*=F1:VV.test(n.charAt(d-1))?(m*=$V,b=n.slice(i,d-1).match(qV),b&&i>0&&(m*=Math.pow(Km,b.length))):YV.test(n.charAt(d-1))?(m*=BV,x=n.slice(i,d-1).match(xN),x&&i>0&&(m*=Math.pow(Km,x.length))):(m*=HV,i>0&&(m*=Math.pow(Km,d-i))),n.charAt(d)!==e.charAt(s)&&(m*=UV)),(m<Ym&&t.charAt(d-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&t.charAt(d-1)!==r.charAt(s))&&(y=Hg(n,e,t,r,d+1,s+2,l),y*Ym>m&&(m=y*Ym)),m>p&&(p=m),d=t.indexOf(f,d+1);return l[c]=p,p}function V1(n){return n.toLowerCase().replace(xN," ")}function KV(n,e,t){return n=t&&t.length>0?`${n+" "+t.join(" ")}`:n,Hg(n,e,V1(n),V1(e),0,0,{})}var Kl='[cmdk-group=""]',Gm='[cmdk-group-items=""]',GV='[cmdk-group-heading=""]',SN='[cmdk-item=""]',q1=`${SN}:not([aria-disabled="true"])`,Ug="cmdk-item-select",ga="data-value",WV=(n,e,t)=>KV(n,e,t),wN=S.createContext(void 0),_c=()=>S.useContext(wN),EN=S.createContext(void 0),Mv=()=>S.useContext(EN),CN=S.createContext(void 0),MN=S.forwardRef((n,e)=>{let t=ya(()=>{var $,G;return{search:"",value:(G=($=n.value)!=null?$:n.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=ya(()=>new Set),i=ya(()=>new Map),s=ya(()=>new Map),l=ya(()=>new Set),c=TN(n),{label:f,children:d,value:p,onValueChange:m,filter:y,shouldFilter:b,loop:x,disablePointerSelection:w=!1,vimBindings:E=!0,...T}=n,N=cn(),A=cn(),L=cn(),z=S.useRef(null),R=s5();ms(()=>{if(p!==void 0){let $=p.trim();t.current.value=$,D.emit()}},[p]),ms(()=>{R(6,pe)},[]);let D=S.useMemo(()=>({subscribe:$=>(l.current.add($),()=>l.current.delete($)),snapshot:()=>t.current,setState:($,G,ee)=>{var ae,le,re,ge;if(!Object.is(t.current[$],G)){if(t.current[$]=G,$==="search")me(),ie(),R(1,ce);else if($==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Se=document.getElementById(L);Se?Se.focus():(ae=document.getElementById(N))==null||ae.focus()}if(R(7,()=>{var Se;t.current.selectedItemId=(Se=fe())==null?void 0:Se.id,D.emit()}),ee||R(5,pe),((le=c.current)==null?void 0:le.value)!==void 0){let Se=G??"";(ge=(re=c.current).onValueChange)==null||ge.call(re,Se);return}}D.emit()}},emit:()=>{l.current.forEach($=>$())}}),[]),j=S.useMemo(()=>({value:($,G,ee)=>{var ae;G!==((ae=s.current.get($))==null?void 0:ae.value)&&(s.current.set($,{value:G,keywords:ee}),t.current.filtered.items.set($,q(G,ee)),R(2,()=>{ie(),D.emit()}))},item:($,G)=>(r.current.add($),G&&(i.current.has(G)?i.current.get(G).add($):i.current.set(G,new Set([$]))),R(3,()=>{me(),ie(),t.current.value||ce(),D.emit()}),()=>{s.current.delete($),r.current.delete($),t.current.filtered.items.delete($);let ee=fe();R(4,()=>{me(),(ee==null?void 0:ee.getAttribute("id"))===$&&ce(),D.emit()})}),group:$=>(i.current.has($)||i.current.set($,new Set),()=>{s.current.delete($),i.current.delete($)}),filter:()=>c.current.shouldFilter,label:f||n["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:N,inputId:L,labelId:A,listInnerRef:z}),[]);function q($,G){var ee,ae;let le=(ae=(ee=c.current)==null?void 0:ee.filter)!=null?ae:WV;return $?le($,t.current.search,G):0}function ie(){if(!t.current.search||c.current.shouldFilter===!1)return;let $=t.current.filtered.items,G=[];t.current.filtered.groups.forEach(ae=>{let le=i.current.get(ae),re=0;le.forEach(ge=>{let Se=$.get(ge);re=Math.max(Se,re)}),G.push([ae,re])});let ee=z.current;de().sort((ae,le)=>{var re,ge;let Se=ae.getAttribute("id"),be=le.getAttribute("id");return((re=$.get(be))!=null?re:0)-((ge=$.get(Se))!=null?ge:0)}).forEach(ae=>{let le=ae.closest(Gm);le?le.appendChild(ae.parentElement===le?ae:ae.closest(`${Gm} > *`)):ee.appendChild(ae.parentElement===ee?ae:ae.closest(`${Gm} > *`))}),G.sort((ae,le)=>le[1]-ae[1]).forEach(ae=>{var le;let re=(le=z.current)==null?void 0:le.querySelector(`${Kl}[${ga}="${encodeURIComponent(ae[0])}"]`);re==null||re.parentElement.appendChild(re)})}function ce(){let $=de().find(ee=>ee.getAttribute("aria-disabled")!=="true"),G=$==null?void 0:$.getAttribute(ga);D.setState("value",G||void 0)}function me(){var $,G,ee,ae;if(!t.current.search||c.current.shouldFilter===!1){t.current.filtered.count=r.current.size;return}t.current.filtered.groups=new Set;let le=0;for(let re of r.current){let ge=(G=($=s.current.get(re))==null?void 0:$.value)!=null?G:"",Se=(ae=(ee=s.current.get(re))==null?void 0:ee.keywords)!=null?ae:[],be=q(ge,Se);t.current.filtered.items.set(re,be),be>0&&le++}for(let[re,ge]of i.current)for(let Se of ge)if(t.current.filtered.items.get(Se)>0){t.current.filtered.groups.add(re);break}t.current.filtered.count=le}function pe(){var $,G,ee;let ae=fe();ae&&((($=ae.parentElement)==null?void 0:$.firstChild)===ae&&((ee=(G=ae.closest(Kl))==null?void 0:G.querySelector(GV))==null||ee.scrollIntoView({block:"nearest"})),ae.scrollIntoView({block:"nearest"}))}function fe(){var $;return($=z.current)==null?void 0:$.querySelector(`${SN}[aria-selected="true"]`)}function de(){var $;return Array.from((($=z.current)==null?void 0:$.querySelectorAll(q1))||[])}function _($){let G=de()[$];G&&D.setState("value",G.getAttribute(ga))}function Z($){var G;let ee=fe(),ae=de(),le=ae.findIndex(ge=>ge===ee),re=ae[le+$];(G=c.current)!=null&&G.loop&&(re=le+$<0?ae[ae.length-1]:le+$===ae.length?ae[0]:ae[le+$]),re&&D.setState("value",re.getAttribute(ga))}function H($){let G=fe(),ee=G==null?void 0:G.closest(Kl),ae;for(;ee&&!ae;)ee=$>0?i5(ee,Kl):o5(ee,Kl),ae=ee==null?void 0:ee.querySelector(q1);ae?D.setState("value",ae.getAttribute(ga)):Z($)}let J=()=>_(de().length-1),k=$=>{$.preventDefault(),$.metaKey?J():$.altKey?H(1):Z(1)},Y=$=>{$.preventDefault(),$.metaKey?_(0):$.altKey?H(-1):Z(-1)};return S.createElement(tn.div,{ref:e,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:$=>{var G;(G=T.onKeyDown)==null||G.call(T,$);let ee=$.nativeEvent.isComposing||$.keyCode===229;if(!($.defaultPrevented||ee))switch($.key){case"n":case"j":{E&&$.ctrlKey&&k($);break}case"ArrowDown":{k($);break}case"p":case"k":{E&&$.ctrlKey&&Y($);break}case"ArrowUp":{Y($);break}case"Home":{$.preventDefault(),_(0);break}case"End":{$.preventDefault(),J();break}case"Enter":{$.preventDefault();let ae=fe();if(ae){let le=new Event(Ug);ae.dispatchEvent(le)}}}}},S.createElement("label",{"cmdk-label":"",htmlFor:j.inputId,id:j.labelId,style:l5},f),Fd(n,$=>S.createElement(EN.Provider,{value:D},S.createElement(wN.Provider,{value:j},$))))}),XV=S.forwardRef((n,e)=>{var t,r;let i=cn(),s=S.useRef(null),l=S.useContext(CN),c=_c(),f=TN(n),d=(r=(t=f.current)==null?void 0:t.forceMount)!=null?r:l==null?void 0:l.forceMount;ms(()=>{if(!d)return c.item(i,l==null?void 0:l.id)},[d]);let p=ON(i,s,[n.value,n.children,s],n.keywords),m=Mv(),y=go(R=>R.value&&R.value===p.current),b=go(R=>d||c.filter()===!1?!0:R.search?R.filtered.items.get(i)>0:!0);S.useEffect(()=>{let R=s.current;if(!(!R||n.disabled))return R.addEventListener(Ug,x),()=>R.removeEventListener(Ug,x)},[b,n.onSelect,n.disabled]);function x(){var R,D;w(),(D=(R=f.current).onSelect)==null||D.call(R,p.current)}function w(){m.setState("value",p.current,!0)}if(!b)return null;let{disabled:E,value:T,onSelect:N,forceMount:A,keywords:L,...z}=n;return S.createElement(tn.div,{ref:pi(s,e),...z,id:i,"cmdk-item":"",role:"option","aria-disabled":!!E,"aria-selected":!!y,"data-disabled":!!E,"data-selected":!!y,onPointerMove:E||c.getDisablePointerSelection()?void 0:w,onClick:E?void 0:x},n.children)}),JV=S.forwardRef((n,e)=>{let{heading:t,children:r,forceMount:i,...s}=n,l=cn(),c=S.useRef(null),f=S.useRef(null),d=cn(),p=_c(),m=go(b=>i||p.filter()===!1?!0:b.search?b.filtered.groups.has(l):!0);ms(()=>p.group(l),[]),ON(l,c,[n.value,n.heading,f]);let y=S.useMemo(()=>({id:l,forceMount:i}),[i]);return S.createElement(tn.div,{ref:pi(c,e),...s,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},t&&S.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:d},t),Fd(n,b=>S.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?d:void 0},S.createElement(CN.Provider,{value:y},b))))}),QV=S.forwardRef((n,e)=>{let{alwaysRender:t,...r}=n,i=S.useRef(null),s=go(l=>!l.search);return!t&&!s?null:S.createElement(tn.div,{ref:pi(i,e),...r,"cmdk-separator":"",role:"separator"})}),ZV=S.forwardRef((n,e)=>{let{onValueChange:t,...r}=n,i=n.value!=null,s=Mv(),l=go(d=>d.search),c=go(d=>d.selectedItemId),f=_c();return S.useEffect(()=>{n.value!=null&&s.setState("search",n.value)},[n.value]),S.createElement(tn.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":c,id:f.inputId,type:"text",value:i?n.value:l,onChange:d=>{i||s.setState("search",d.target.value),t==null||t(d.target.value)}})}),e5=S.forwardRef((n,e)=>{let{children:t,label:r="Suggestions",...i}=n,s=S.useRef(null),l=S.useRef(null),c=go(d=>d.selectedItemId),f=_c();return S.useEffect(()=>{if(l.current&&s.current){let d=l.current,p=s.current,m,y=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let b=d.offsetHeight;p.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return y.observe(d),()=>{cancelAnimationFrame(m),y.unobserve(d)}}},[]),S.createElement(tn.div,{ref:pi(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:f.listId},Fd(n,d=>S.createElement("div",{ref:pi(l,f.listInnerRef),"cmdk-list-sizer":""},d)))}),t5=S.forwardRef((n,e)=>{let{open:t,onOpenChange:r,overlayClassName:i,contentClassName:s,container:l,...c}=n;return S.createElement(sO,{open:t,onOpenChange:r},S.createElement(aO,{container:l},S.createElement(lO,{"cmdk-overlay":"",className:i}),S.createElement(cO,{"aria-label":n.label,"cmdk-dialog":"",className:s},S.createElement(MN,{ref:e,...c}))))}),n5=S.forwardRef((n,e)=>go(t=>t.filtered.count===0)?S.createElement(tn.div,{ref:e,...n,"cmdk-empty":"",role:"presentation"}):null),r5=S.forwardRef((n,e)=>{let{progress:t,children:r,label:i="Loading...",...s}=n;return S.createElement(tn.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Fd(n,l=>S.createElement("div",{"aria-hidden":!0},l)))}),$a=Object.assign(MN,{List:e5,Item:XV,Input:ZV,Group:JV,Separator:QV,Dialog:t5,Empty:n5,Loading:r5});function i5(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function o5(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function TN(n){let e=S.useRef(n);return ms(()=>{e.current=n}),e}var ms=typeof window>"u"?S.useEffect:S.useLayoutEffect;function ya(n){let e=S.useRef();return e.current===void 0&&(e.current=n()),e}function go(n){let e=Mv(),t=()=>n(e.snapshot());return S.useSyncExternalStore(e.subscribe,t,t)}function ON(n,e,t,r=[]){let i=S.useRef(),s=_c();return ms(()=>{var l;let c=(()=>{var d;for(let p of t){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(d=p.current.textContent)==null?void 0:d.trim():i.current}})(),f=r.map(d=>d.trim());s.value(n,c,f),(l=e.current)==null||l.setAttribute(ga,c),i.current=c}),i}var s5=()=>{let[n,e]=S.useState(),t=ya(()=>new Map);return ms(()=>{t.current.forEach(r=>r()),t.current=new Map},[n]),(r,i)=>{t.current.set(r,i),e({})}};function a5(n){let e=n.type;return typeof e=="function"?e(n.props):"render"in e?e.render(n.props):n}function Fd({asChild:n,children:e},t){return n&&S.isValidElement(e)?S.cloneElement(a5(e),{ref:e.ref},t(e.props.children)):t(e)}var l5={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function c5({className:n,...e}){return C.jsx($a,{"data-slot":"command",className:st("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",n),...e})}function u5({title:n="Command Palette",description:e="Search for a command to run...",children:t,...r}){return C.jsxs(cv,{...r,children:[C.jsxs(fv,{className:"sr-only",children:[C.jsx(dv,{children:n}),C.jsx(hv,{children:e})]}),C.jsx(uv,{className:"overflow-hidden p-0",children:C.jsx(c5,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})]})}function f5({className:n,...e}){return C.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[C.jsx(Od,{className:"size-4 shrink-0 opacity-50"}),C.jsx($a.Input,{"data-slot":"command-input",className:st("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",n),...e})]})}function d5({className:n,...e}){return C.jsx($a.List,{"data-slot":"command-list",className:st("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",n),...e})}function h5({...n}){return C.jsx($a.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...n})}function p5({className:n,...e}){return C.jsx($a.Group,{"data-slot":"command-group",className:st("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",n),...e})}function m5({className:n,...e}){return C.jsx($a.Item,{"data-slot":"command-item",className:st("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}const g5=({open:n,setOpen:e})=>{const{t}=ar(),[r,i]=S.useState(""),s=cd(),{notes:l,fetchNotes:c}=Xf();S.useEffect(()=>{n&&c()},[n,c]);const f=d=>{s(`?noteId=${d}`),e(!1)};return C.jsx(C.Fragment,{children:C.jsxs(u5,{open:n,onOpenChange:e,children:[C.jsx(f5,{placeholder:t("notes.searchNotes"),className:"flex-1 h-12  bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground",value:r,onValueChange:i}),C.jsxs(d5,{children:[C.jsx(h5,{children:t("notes.notFound")}),C.jsx(p5,{heading:t("notes.notes"),children:l.map(d=>C.jsx(m5,{onSelect:()=>f(d.id),className:"cursor-pointer",children:C.jsxs("div",{className:"flex flex-col w-full",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("span",{className:"font-medium",children:d.label}),C.jsx("span",{className:"text-xs text-muted-foreground",children:OB(d.updatedAt)})]}),!d.isEncrypted&&C.jsxs("p",{className:"text-xs text-muted-foreground truncate mt-1",children:[TB(d.content),d.content.length>100?"...":""]}),d.isEncrypted&&C.jsx("p",{className:"text-xs text-muted-foreground mt-1 italic",children:t("notes.encrypted")})]})},d.id))})]})]})})},y5=()=>{const{t:n}=ar(),e=Xf(w=>w.notes),t=Xf(w=>w.fetchNotes),[r]=jE(),i=r.get("noteId"),s=mO("(max-width: 768px)"),[l,c]=S.useState(!1),[f,d]=S.useState(!1),[p,m]=S.useState(!0),y=async()=>{d(!0),m(!0);try{const w=await Qo();if(!await AT(w)){m(!1),d(!1);return}await t()}catch(w){console.error("Error loading folder:",w),m(!1)}d(!1)};S.useEffect(()=>{y()},[]);const b=`md:overflow-auto md:w-1/2 min-w-[200px] md:max-w-[80%] md:h-screen space-y-4 p-4 ${i&&s&&"hidden"}`,x=C.jsxs("div",{className:"flex justify-between items-center sticky top-0 md:-top-4 py-1 bg-background z-10 ",children:[C.jsx("h2",{className:"text-xl font-bold",children:n("notes.title")}),p?C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx($g,{size:"icon",variant:"outline",to:"/settings",children:C.jsx(i3,{})}),C.jsx(Bn,{size:"icon",variant:"outline",onClick:()=>c(!0),children:C.jsx(Od,{})}),C.jsxs(TT,{children:[C.jsx(OT,{asChild:!0,children:C.jsx($g,{to:"/?noteId=new-note",size:"icon",variant:"outline",children:C.jsx(ZB,{})})}),C.jsx(NT,{children:n("notes.addNote")})]})]}):C.jsx(Bn,{onClick:y,children:n("notes.openFolder")})]});return p?f?C.jsxs("div",{className:b,id:fi.left,children:[x,C.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-t-gray-900 border-gray-300"}),C.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:n("common.loading")})]}):e.length?C.jsxs("div",{className:b,id:fi.left,children:[x,C.jsx("div",{className:"grid gap-4",children:C.jsx(IV,{notes:e})}),l&&C.jsx(g5,{open:l,setOpen:c})]}):C.jsxs("div",{className:b,id:fi.left,children:[x,C.jsx("p",{className:"text-muted-foreground",children:n("notes.empty")})]}):C.jsxs("div",{className:b,id:fi.left,children:[x,C.jsx("p",{className:"text-red-500",children:n("fileApi.permissionDenied")})]})},v5=n=>C.jsxs("div",{className:"md:flex md:h-screen md:max-h-screen shadow select-none",children:[C.jsx(y5,{}),C.jsx("div",{id:fi.divider,className:"md:block hidden w-1 bg-gray-300 dark:bg-border cursor-col-resize"}),C.jsx(MV,{})]});function td({className:n,...e}){return C.jsx("div",{"data-slot":"card",className:st("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function Tv({className:n,...e}){return C.jsx("div",{"data-slot":"card-header",className:st("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Ov({className:n,...e}){return C.jsx("div",{"data-slot":"card-title",className:st("leading-none font-semibold",n),...e})}function Nv({className:n,...e}){return C.jsx("div",{"data-slot":"card-description",className:st("text-muted-foreground text-sm",n),...e})}function nd({className:n,...e}){return C.jsx("div",{"data-slot":"card-content",className:st("px-6",n),...e})}const b5=()=>{const n=Td(),{t:e}=ar();return C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex gap-3",children:[C.jsx($g,{to:"/",size:"icon",variant:"outline",children:C.jsx(UM,{})}),C.jsx("h1",{className:"text-2xl font-bold",children:e("settings.appearance.title")})]}),C.jsxs(td,{children:[C.jsxs(Tv,{children:[C.jsx(Ov,{children:e("settings.appearance.theme")}),C.jsx(Nv,{children:e("settings.appearance.themeDescription")})]}),C.jsxs(nd,{className:"space-y-8",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsx("h3",{className:"text-lg font-medium",children:e("settings.appearance.mode")}),C.jsx("div",{className:"grid grid-cols-3 gap-4",children:x5(e).map(({label:t,value:r,icon:i,bg:s})=>C.jsxs("div",{className:`relative cursor-pointer rounded-lg border-2 ${n.theme===r?"border-blue-500":"border-gray-200 dark:border-gray-800"} p-4 flex flex-col items-center`,onClick:()=>n.setTheme(r),children:[C.jsx("div",{className:`h-24 w-full rounded-md ${s} border border-gray-200 mb-2 flex items-center justify-center`,children:i}),C.jsx("span",{className:"text-sm font-medium",children:t}),n.theme===r&&C.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 bg-blue-500 rounded-full"})]},r))})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsx("h3",{className:"text-lg font-medium",children:e("settings.appearance.fontSize")}),C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("span",{className:"text-sm",children:"A"}),C.jsx("input",{type:"range",min:"1",max:"5",value:n.fontSize,onChange:t=>n.setFontSize(Number(t.target.value)),className:"mx-4 w-full"}),C.jsx("span",{className:"text-lg",children:"A"})]}),C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("settings.appearance.fontSizeDescription")})]})]})]})]})]})},x5=n=>[{label:n("settings.appearance.modes.light"),value:"light",icon:C.jsx(l3,{size:24,className:"text-yellow-500"}),bg:"bg-white"},{label:n("settings.appearance.modes.dark"),value:"dark",icon:C.jsx(JB,{size:24,className:"text-gray-400"}),bg:"bg-gray-900"},{label:n("settings.appearance.modes.system"),value:"system",icon:C.jsx(UB,{size:24,className:"text-blue-500"}),bg:"bg-gradient-to-r from-white to-gray-900"}];function Y1(n,[e,t]){return Math.min(t,Math.max(e,n))}var S5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=S5.reduce((n,e)=>{const t=Un(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(f,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function w5(n,e){n&&Ir.flushSync(()=>n.dispatchEvent(e))}var E5="DismissableLayer",Fg="dismissableLayer.update",C5="dismissableLayer.pointerDownOutside",M5="dismissableLayer.focusOutside",K1,NN=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RN=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:c,...f}=n,d=S.useContext(NN),[p,m]=S.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=S.useState({}),x=qe(e,D=>m(D)),w=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),T=w.indexOf(E),N=p?w.indexOf(p):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,L=N>=T,z=N5(D=>{const j=D.target,q=[...d.branches].some(ie=>ie.contains(j));!L||q||(i==null||i(D),l==null||l(D),D.defaultPrevented||c==null||c())},y),R=R5(D=>{const j=D.target;[...d.branches].some(ie=>ie.contains(j))||(s==null||s(D),l==null||l(D),D.defaultPrevented||c==null||c())},y);return Nd(D=>{N===d.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},y),S.useEffect(()=>{if(p)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(K1=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),G1(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=K1)}},[p,y,t,d]),S.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),G1())},[p,d]),S.useEffect(()=>{const D=()=>b({});return document.addEventListener(Fg,D),()=>document.removeEventListener(Fg,D)},[]),C.jsx(zt.div,{...f,ref:x,style:{pointerEvents:A?L?"auto":"none":void 0,...n.style},onFocusCapture:ye(n.onFocusCapture,R.onFocusCapture),onBlurCapture:ye(n.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ye(n.onPointerDownCapture,z.onPointerDownCapture)})});RN.displayName=E5;var T5="DismissableLayerBranch",O5=S.forwardRef((n,e)=>{const t=S.useContext(NN),r=S.useRef(null),i=qe(e,r);return S.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),C.jsx(zt.div,{...n,ref:i})});O5.displayName=T5;function N5(n,e=globalThis==null?void 0:globalThis.document){const t=Lt(n),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let f=function(){AN(C5,t,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function R5(n,e=globalThis==null?void 0:globalThis.document){const t=Lt(n),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&AN(M5,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function G1(){const n=new CustomEvent(Fg);document.dispatchEvent(n)}function AN(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?w5(i,s):i.dispatchEvent(s)}var A5="Arrow",kN=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return C.jsx(zt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});kN.displayName=A5;var k5=kN,Rv="Popper",[DN,PN]=$r(Rv),[D5,LN]=DN(Rv),zN=n=>{const{__scopePopper:e,children:t}=n,[r,i]=S.useState(null);return C.jsx(D5,{scope:e,anchor:r,onAnchorChange:i,children:t})};zN.displayName=Rv;var _N="PopperAnchor",jN=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=LN(_N,t),l=S.useRef(null),c=qe(e,l);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:C.jsx(zt.div,{...i,ref:c})});jN.displayName=_N;var Av="PopperContent",[P5,L5]=DN(Av),IN=S.forwardRef((n,e)=>{var re,ge,Se,be,Le,Be;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:x,...w}=n,E=LN(Av,t),[T,N]=S.useState(null),A=qe(e,it=>N(it)),[L,z]=S.useState(null),R=Jy(L),D=(R==null?void 0:R.width)??0,j=(R==null?void 0:R.height)??0,q=r+(s!=="center"?"-"+s:""),ie=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ce=Array.isArray(d)?d:[d],me=ce.length>0,pe={padding:ie,boundary:ce.filter(_5),altBoundary:me},{refs:fe,floatingStyles:de,placement:_,isPositioned:Z,middlewareData:H}=Fy({strategy:"fixed",placement:q,whileElementsMounted:(...it)=>Uy(...it,{animationFrame:b==="always"}),elements:{reference:E.anchor},middleware:[Vy({mainAxis:i+j,alignmentAxis:l}),f&&qy({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Yy():void 0,...pe}),f&&Ky({...pe}),Gy({...pe,apply:({elements:it,rects:ct,availableWidth:Mn,availableHeight:Tn})=>{const{width:St,height:Fr}=ct.reference,_t=it.floating.style;_t.setProperty("--radix-popper-available-width",`${Mn}px`),_t.setProperty("--radix-popper-available-height",`${Tn}px`),_t.setProperty("--radix-popper-anchor-width",`${St}px`),_t.setProperty("--radix-popper-anchor-height",`${Fr}px`)}}),L&&Xy({element:L,padding:c}),j5({arrowWidth:D,arrowHeight:j}),y&&Wy({strategy:"referenceHidden",...pe})]}),[J,k]=HN(_),Y=Lt(x);yt(()=>{Z&&(Y==null||Y())},[Z,Y]);const $=(re=H.arrow)==null?void 0:re.x,G=(ge=H.arrow)==null?void 0:ge.y,ee=((Se=H.arrow)==null?void 0:Se.centerOffset)!==0,[ae,le]=S.useState();return yt(()=>{T&&le(window.getComputedStyle(T).zIndex)},[T]),C.jsx("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Z?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(be=H.transformOrigin)==null?void 0:be.x,(Le=H.transformOrigin)==null?void 0:Le.y].join(" "),...((Be=H.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:C.jsx(P5,{scope:t,placedSide:J,onArrowChange:z,arrowX:$,arrowY:G,shouldHideArrow:ee,children:C.jsx(zt.div,{"data-side":J,"data-align":k,...w,ref:A,style:{...w.style,animation:Z?void 0:"none"}})})})});IN.displayName=Av;var BN="PopperArrow",z5={top:"bottom",right:"left",bottom:"top",left:"right"},$N=S.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=L5(BN,r),l=z5[s.placedSide];return C.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:C.jsx(k5,{...i,ref:t,style:{...i.style,display:"block"}})})});$N.displayName=BN;function _5(n){return n!==null}var j5=n=>({name:"transformOrigin",options:n,fn(e){var E,T,N;const{placement:t,rects:r,middlewareData:i}=e,l=((E=i.arrow)==null?void 0:E.centerOffset)!==0,c=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[d,p]=HN(t),m={start:"0%",center:"50%",end:"100%"}[p],y=(((T=i.arrow)==null?void 0:T.x)??0)+c/2,b=(((N=i.arrow)==null?void 0:N.y)??0)+f/2;let x="",w="";return d==="bottom"?(x=l?m:`${y}px`,w=`${-f}px`):d==="top"?(x=l?m:`${y}px`,w=`${r.floating.height+f}px`):d==="right"?(x=`${-f}px`,w=l?m:`${b}px`):d==="left"&&(x=`${r.floating.width+f}px`,w=l?m:`${b}px`),{data:{x,y:w}}}});function HN(n){const[e,t="center"]=n.split("-");return[e,t]}var I5=zN,B5=jN,$5=IN,H5=$N,U5="Portal",UN=S.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,s]=S.useState(!1);yt(()=>s(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Oc.createPortal(C.jsx(zt.div,{...r,ref:e}),l):null});UN.displayName=U5;var F5=Ec[" useInsertionEffect ".trim().toString()]||yt;function W1({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,l]=V5({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:i;{const p=S.useRef(n!==void 0);S.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const d=S.useCallback(p=>{var m;if(c){const y=q5(p)?p(n):p;y!==n&&((m=l.current)==null||m.call(l,y))}else s(p)},[c,n,s,l]);return[f,d]}function V5({defaultProp:n,onChange:e}){const[t,r]=S.useState(n),i=S.useRef(t),s=S.useRef(e);return F5(()=>{s.current=e},[e]),S.useEffect(()=>{var l;i.current!==t&&((l=s.current)==null||l.call(s,t),i.current=t)},[t,i]),[t,r,s]}function q5(n){return typeof n=="function"}function Y5(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var FN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),K5="VisuallyHidden",G5=S.forwardRef((n,e)=>C.jsx(zt.span,{...n,ref:e,style:{...FN,...n.style}}));G5.displayName=K5;var W5=[" ","Enter","ArrowUp","ArrowDown"],X5=[" ","Enter"],gs="Select",[Vd,qd,J5]=pv(gs),[Ha,j8]=$r(gs,[J5,PN]),Yd=PN(),[Q5,Eo]=Ha(gs),[Z5,e6]=Ha(gs),VN=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:l,defaultValue:c,onValueChange:f,dir:d,name:p,autoComplete:m,disabled:y,required:b,form:x}=n,w=Yd(e),[E,T]=S.useState(null),[N,A]=S.useState(null),[L,z]=S.useState(!1),R=mv(d),[D,j]=W1({prop:r,defaultProp:i??!1,onChange:s,caller:gs}),[q,ie]=W1({prop:l,defaultProp:c,onChange:f,caller:gs}),ce=S.useRef(null),me=E?x||!!E.closest("form"):!0,[pe,fe]=S.useState(new Set),de=Array.from(pe).map(_=>_.props.value).join(";");return C.jsx(I5,{...w,children:C.jsxs(Q5,{required:b,scope:e,trigger:E,onTriggerChange:T,valueNode:N,onValueNodeChange:A,valueNodeHasChildren:L,onValueNodeHasChildrenChange:z,contentId:cn(),value:q,onValueChange:ie,open:D,onOpenChange:j,dir:R,triggerPointerDownPosRef:ce,disabled:y,children:[C.jsx(Vd.Provider,{scope:e,children:C.jsx(Z5,{scope:n.__scopeSelect,onNativeOptionAdd:S.useCallback(_=>{fe(Z=>new Set(Z).add(_))},[]),onNativeOptionRemove:S.useCallback(_=>{fe(Z=>{const H=new Set(Z);return H.delete(_),H})},[]),children:t})}),me?C.jsxs(dR,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:m,value:q,onChange:_=>ie(_.target.value),disabled:y,form:x,children:[q===void 0?C.jsx("option",{value:""}):null,Array.from(pe)]},de):null]})})};VN.displayName=gs;var qN="SelectTrigger",YN=S.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=Yd(t),l=Eo(qN,t),c=l.disabled||r,f=qe(e,l.onTriggerChange),d=qd(t),p=S.useRef("touch"),[m,y,b]=pR(w=>{const E=d().filter(A=>!A.disabled),T=E.find(A=>A.value===l.value),N=mR(E,w,T);N!==void 0&&l.onValueChange(N.value)}),x=w=>{c||(l.onOpenChange(!0),b()),w&&(l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return C.jsx(B5,{asChild:!0,...s,children:C.jsx(zt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":hR(l.value)?"":void 0,...i,ref:f,onClick:ye(i.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&x(w)}),onPointerDown:ye(i.onPointerDown,w=>{p.current=w.pointerType;const E=w.target;E.hasPointerCapture(w.pointerId)&&E.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(x(w),w.preventDefault())}),onKeyDown:ye(i.onKeyDown,w=>{const E=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(E&&w.key===" ")&&W5.includes(w.key)&&(x(),w.preventDefault())})})})});YN.displayName=qN;var KN="SelectValue",GN=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:l="",...c}=n,f=Eo(KN,t),{onValueNodeHasChildrenChange:d}=f,p=s!==void 0,m=qe(e,f.onValueNodeChange);return yt(()=>{d(p)},[d,p]),C.jsx(zt.span,{...c,ref:m,style:{pointerEvents:"none"},children:hR(f.value)?C.jsx(C.Fragment,{children:l}):s})});GN.displayName=KN;var t6="SelectIcon",WN=S.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return C.jsx(zt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});WN.displayName=t6;var n6="SelectPortal",XN=n=>C.jsx(UN,{asChild:!0,...n});XN.displayName=n6;var ys="SelectContent",JN=S.forwardRef((n,e)=>{const t=Eo(ys,n.__scopeSelect),[r,i]=S.useState();if(yt(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?Ir.createPortal(C.jsx(QN,{scope:n.__scopeSelect,children:C.jsx(Vd.Slot,{scope:n.__scopeSelect,children:C.jsx("div",{children:n.children})})}),s):null}return C.jsx(ZN,{...n,ref:e})});JN.displayName=ys;var pr=10,[QN,Co]=Ha(ys),r6="SelectContentImpl",i6=Un("SelectContent.RemoveScroll"),ZN=S.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:c,sideOffset:f,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:b,sticky:x,hideWhenDetached:w,avoidCollisions:E,...T}=n,N=Eo(ys,t),[A,L]=S.useState(null),[z,R]=S.useState(null),D=qe(e,re=>L(re)),[j,q]=S.useState(null),[ie,ce]=S.useState(null),me=qd(t),[pe,fe]=S.useState(!1),de=S.useRef(!1);S.useEffect(()=>{if(A)return ov(A)},[A]),iv();const _=S.useCallback(re=>{const[ge,...Se]=me().map(Be=>Be.ref.current),[be]=Se.slice(-1),Le=document.activeElement;for(const Be of re)if(Be===Le||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===ge&&z&&(z.scrollTop=0),Be===be&&z&&(z.scrollTop=z.scrollHeight),Be==null||Be.focus(),document.activeElement!==Le))return},[me,z]),Z=S.useCallback(()=>_([j,A]),[_,j,A]);S.useEffect(()=>{pe&&Z()},[pe,Z]);const{onOpenChange:H,triggerPointerDownPosRef:J}=N;S.useEffect(()=>{if(A){let re={x:0,y:0};const ge=be=>{var Le,Be;re={x:Math.abs(Math.round(be.pageX)-(((Le=J.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Be=J.current)==null?void 0:Be.y)??0))}},Se=be=>{re.x<=10&&re.y<=10?be.preventDefault():A.contains(be.target)||H(!1),document.removeEventListener("pointermove",ge),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Se,{capture:!0})}}},[A,H,J]),S.useEffect(()=>{const re=()=>H(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[H]);const[k,Y]=pR(re=>{const ge=me().filter(Le=>!Le.disabled),Se=ge.find(Le=>Le.ref.current===document.activeElement),be=mR(ge,re,Se);be&&setTimeout(()=>be.ref.current.focus())}),$=S.useCallback((re,ge,Se)=>{const be=!de.current&&!Se;(N.value!==void 0&&N.value===ge||be)&&(q(re),be&&(de.current=!0))},[N.value]),G=S.useCallback(()=>A==null?void 0:A.focus(),[A]),ee=S.useCallback((re,ge,Se)=>{const be=!de.current&&!Se;(N.value!==void 0&&N.value===ge||be)&&ce(re)},[N.value]),ae=r==="popper"?Vg:eR,le=ae===Vg?{side:c,sideOffset:f,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:b,sticky:x,hideWhenDetached:w,avoidCollisions:E}:{};return C.jsx(QN,{scope:t,content:A,viewport:z,onViewportChange:R,itemRefCallback:$,selectedItem:j,onItemLeave:G,itemTextRefCallback:ee,focusSelectedItem:Z,selectedItemText:ie,position:r,isPositioned:pe,searchRef:k,children:C.jsx(Id,{as:i6,allowPinchZoom:!0,children:C.jsx(_d,{asChild:!0,trapped:N.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ye(i,re=>{var ge;(ge=N.trigger)==null||ge.focus({preventScroll:!0}),re.preventDefault()}),children:C.jsx(RN,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:C.jsx(ae,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:re=>re.preventDefault(),...T,...le,onPlaced:()=>fe(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:ye(T.onKeyDown,re=>{const ge=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ge&&re.key.length===1&&Y(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let be=me().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(re.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Le=re.target,Be=be.indexOf(Le);be=be.slice(Be+1)}setTimeout(()=>_(be)),re.preventDefault()}})})})})})})});ZN.displayName=r6;var o6="SelectItemAlignedPosition",eR=S.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Eo(ys,t),l=Co(ys,t),[c,f]=S.useState(null),[d,p]=S.useState(null),m=qe(e,D=>p(D)),y=qd(t),b=S.useRef(!1),x=S.useRef(!0),{viewport:w,selectedItem:E,selectedItemText:T,focusSelectedItem:N}=l,A=S.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&d&&w&&E&&T){const D=s.trigger.getBoundingClientRect(),j=d.getBoundingClientRect(),q=s.valueNode.getBoundingClientRect(),ie=T.getBoundingClientRect();if(s.dir!=="rtl"){const Le=ie.left-j.left,Be=q.left-Le,it=D.left-Be,ct=D.width+it,Mn=Math.max(ct,j.width),Tn=window.innerWidth-pr,St=Y1(Be,[pr,Math.max(pr,Tn-Mn)]);c.style.minWidth=ct+"px",c.style.left=St+"px"}else{const Le=j.right-ie.right,Be=window.innerWidth-q.right-Le,it=window.innerWidth-D.right-Be,ct=D.width+it,Mn=Math.max(ct,j.width),Tn=window.innerWidth-pr,St=Y1(Be,[pr,Math.max(pr,Tn-Mn)]);c.style.minWidth=ct+"px",c.style.right=St+"px"}const ce=y(),me=window.innerHeight-pr*2,pe=w.scrollHeight,fe=window.getComputedStyle(d),de=parseInt(fe.borderTopWidth,10),_=parseInt(fe.paddingTop,10),Z=parseInt(fe.borderBottomWidth,10),H=parseInt(fe.paddingBottom,10),J=de+_+pe+H+Z,k=Math.min(E.offsetHeight*5,J),Y=window.getComputedStyle(w),$=parseInt(Y.paddingTop,10),G=parseInt(Y.paddingBottom,10),ee=D.top+D.height/2-pr,ae=me-ee,le=E.offsetHeight/2,re=E.offsetTop+le,ge=de+_+re,Se=J-ge;if(ge<=ee){const Le=ce.length>0&&E===ce[ce.length-1].ref.current;c.style.bottom="0px";const Be=d.clientHeight-w.offsetTop-w.offsetHeight,it=Math.max(ae,le+(Le?G:0)+Be+Z),ct=ge+it;c.style.height=ct+"px"}else{const Le=ce.length>0&&E===ce[0].ref.current;c.style.top="0px";const it=Math.max(ee,de+w.offsetTop+(Le?$:0)+le)+Se;c.style.height=it+"px",w.scrollTop=ge-ee+w.offsetTop}c.style.margin=`${pr}px 0`,c.style.minHeight=k+"px",c.style.maxHeight=me+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[y,s.trigger,s.valueNode,c,d,w,E,T,s.dir,r]);yt(()=>A(),[A]);const[L,z]=S.useState();yt(()=>{d&&z(window.getComputedStyle(d).zIndex)},[d]);const R=S.useCallback(D=>{D&&x.current===!0&&(A(),N==null||N(),x.current=!1)},[A,N]);return C.jsx(a6,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:R,children:C.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:C.jsx(zt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});eR.displayName=o6;var s6="SelectPopperPosition",Vg=S.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=pr,...s}=n,l=Yd(t);return C.jsx($5,{...l,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vg.displayName=s6;var[a6,kv]=Ha(ys,{}),qg="SelectViewport",tR=S.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=Co(qg,t),l=kv(qg,t),c=qe(e,s.onViewportChange),f=S.useRef(0);return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),C.jsx(Vd.Slot,{scope:t,children:C.jsx(zt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,d=>{const p=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=l;if(y!=null&&y.current&&m){const b=Math.abs(f.current-p.scrollTop);if(b>0){const x=window.innerHeight-pr*2,w=parseFloat(m.style.minHeight),E=parseFloat(m.style.height),T=Math.max(w,E);if(T<x){const N=T+b,A=Math.min(x,N),L=N-A;m.style.height=A+"px",m.style.bottom==="0px"&&(p.scrollTop=L>0?L:0,m.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});tR.displayName=qg;var nR="SelectGroup",[l6,c6]=Ha(nR),u6=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=cn();return C.jsx(l6,{scope:t,id:i,children:C.jsx(zt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});u6.displayName=nR;var rR="SelectLabel",f6=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=c6(rR,t);return C.jsx(zt.div,{id:i.id,...r,ref:e})});f6.displayName=rR;var rd="SelectItem",[d6,iR]=Ha(rd),oR=S.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...l}=n,c=Eo(rd,t),f=Co(rd,t),d=c.value===r,[p,m]=S.useState(s??""),[y,b]=S.useState(!1),x=qe(e,N=>{var A;return(A=f.itemRefCallback)==null?void 0:A.call(f,N,r,i)}),w=cn(),E=S.useRef("touch"),T=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return C.jsx(d6,{scope:t,value:r,disabled:i,textId:w,isSelected:d,onItemTextChange:S.useCallback(N=>{m(A=>A||((N==null?void 0:N.textContent)??"").trim())},[]),children:C.jsx(Vd.ItemSlot,{scope:t,value:r,disabled:i,textValue:p,children:C.jsx(zt.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:x,onFocus:ye(l.onFocus,()=>b(!0)),onBlur:ye(l.onBlur,()=>b(!1)),onClick:ye(l.onClick,()=>{E.current!=="mouse"&&T()}),onPointerUp:ye(l.onPointerUp,()=>{E.current==="mouse"&&T()}),onPointerDown:ye(l.onPointerDown,N=>{E.current=N.pointerType}),onPointerMove:ye(l.onPointerMove,N=>{var A;E.current=N.pointerType,i?(A=f.onItemLeave)==null||A.call(f):E.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(l.onPointerLeave,N=>{var A;N.currentTarget===document.activeElement&&((A=f.onItemLeave)==null||A.call(f))}),onKeyDown:ye(l.onKeyDown,N=>{var L;((L=f.searchRef)==null?void 0:L.current)!==""&&N.key===" "||(X5.includes(N.key)&&T(),N.key===" "&&N.preventDefault())})})})})});oR.displayName=rd;var tc="SelectItemText",sR=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,l=Eo(tc,t),c=Co(tc,t),f=iR(tc,t),d=e6(tc,t),[p,m]=S.useState(null),y=qe(e,T=>m(T),f.onItemTextChange,T=>{var N;return(N=c.itemTextRefCallback)==null?void 0:N.call(c,T,f.value,f.disabled)}),b=p==null?void 0:p.textContent,x=S.useMemo(()=>C.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:E}=d;return yt(()=>(w(x),()=>E(x)),[w,E,x]),C.jsxs(C.Fragment,{children:[C.jsx(zt.span,{id:f.textId,...s,ref:y}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ir.createPortal(s.children,l.valueNode):null]})});sR.displayName=tc;var aR="SelectItemIndicator",lR=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return iR(aR,t).isSelected?C.jsx(zt.span,{"aria-hidden":!0,...r,ref:e}):null});lR.displayName=aR;var Yg="SelectScrollUpButton",cR=S.forwardRef((n,e)=>{const t=Co(Yg,n.__scopeSelect),r=kv(Yg,n.__scopeSelect),[i,s]=S.useState(!1),l=qe(e,r.onScrollButtonChange);return yt(()=>{if(t.viewport&&t.isPositioned){let c=function(){const d=f.scrollTop>0;s(d)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?C.jsx(fR,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});cR.displayName=Yg;var Kg="SelectScrollDownButton",uR=S.forwardRef((n,e)=>{const t=Co(Kg,n.__scopeSelect),r=kv(Kg,n.__scopeSelect),[i,s]=S.useState(!1),l=qe(e,r.onScrollButtonChange);return yt(()=>{if(t.viewport&&t.isPositioned){let c=function(){const d=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<d;s(p)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?C.jsx(fR,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});uR.displayName=Kg;var fR=S.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=Co("SelectScrollButton",t),l=S.useRef(null),c=qd(t),f=S.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return S.useEffect(()=>()=>f(),[f]),yt(()=>{var p;const d=c().find(m=>m.ref.current===document.activeElement);(p=d==null?void 0:d.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),C.jsx(zt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:ye(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{f()})})}),h6="SelectSeparator",p6=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return C.jsx(zt.div,{"aria-hidden":!0,...r,ref:e})});p6.displayName=h6;var Gg="SelectArrow",m6=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Yd(t),s=Eo(Gg,t),l=Co(Gg,t);return s.open&&l.position==="popper"?C.jsx(H5,{...i,...r,ref:e}):null});m6.displayName=Gg;var g6="SelectBubbleInput",dR=S.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=S.useRef(null),s=qe(r,i),l=Y5(e);return S.useEffect(()=>{const c=i.current;if(!c)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&p){const m=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(m)}},[l,e]),C.jsx(zt.select,{...t,style:{...FN,...t.style},ref:s,defaultValue:e})});dR.displayName=g6;function hR(n){return n===""||n===void 0}function pR(n){const e=Lt(n),t=S.useRef(""),r=S.useRef(0),i=S.useCallback(l=>{const c=t.current+l;e(c),function f(d){t.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),s=S.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function mR(n,e,t){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let l=y6(n,Math.max(s,0));i.length===1&&(l=l.filter(d=>d!==t));const f=l.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==t?f:void 0}function y6(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var v6=VN,b6=YN,x6=GN,S6=WN,w6=XN,E6=JN,C6=tR,M6=oR,T6=sR,O6=lR,N6=cR,R6=uR;function X1({...n}){return C.jsx(v6,{"data-slot":"select",...n})}function J1({...n}){return C.jsx(x6,{"data-slot":"select-value",...n})}function Q1({className:n,size:e="default",children:t,...r}){return C.jsxs(b6,{"data-slot":"select-trigger","data-size":e,className:st("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,C.jsx(S6,{asChild:!0,children:C.jsx(FM,{className:"size-4 opacity-50"})})]})}function Z1({className:n,children:e,position:t="popper",...r}){return C.jsx(w6,{children:C.jsxs(E6,{"data-slot":"select-content",className:st("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[C.jsx(A6,{}),C.jsx(C6,{className:st("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),C.jsx(k6,{})]})})}function Gi({className:n,children:e,...t}){return C.jsxs(M6,{"data-slot":"select-item",className:st("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[C.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:C.jsx(O6,{children:C.jsx(zB,{className:"size-4"})})}),C.jsx(T6,{children:e})]})}function A6({className:n,...e}){return C.jsx(N6,{"data-slot":"select-scroll-up-button",className:st("flex cursor-default items-center justify-center py-1",n),...e,children:C.jsx(IB,{className:"size-4"})})}function k6({className:n,...e}){return C.jsx(R6,{"data-slot":"select-scroll-down-button",className:st("flex cursor-default items-center justify-center py-1",n),...e,children:C.jsx(FM,{className:"size-4"})})}const D6=()=>{const{t:n}=ar(),{language:e,dateFormat:t,setLanguage:r,setDateFormat:i}=Td();return C.jsxs("div",{className:"space-y-6",children:[C.jsx("h1",{className:"text-2xl font-bold",children:n("settings.language.title")}),C.jsxs(td,{children:[C.jsxs(Tv,{children:[C.jsx(Ov,{children:n("settings.language.languageSettings")}),C.jsx(Nv,{children:n("settings.language.description")})]}),C.jsxs(nd,{className:"space-y-6",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(bc,{htmlFor:"language",children:n("settings.language.displayLanguage")}),C.jsxs(X1,{value:e,onValueChange:r,children:[C.jsx(Q1,{id:"language",className:BM(e)?"font-sans":"",children:C.jsx(J1,{placeholder:"Select language"})}),C.jsxs(Z1,{children:[C.jsx(Gi,{value:"en",children:"English"}),C.jsx(Gi,{value:"ru",className:"font-sans",children:""}),C.jsx(Gi,{value:"kg",className:"font-sans",children:""}),C.jsx(Gi,{value:"jp",children:""})]})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(bc,{htmlFor:"dateFormat",children:n("settings.language.dateFormat")}),C.jsxs(X1,{value:t,onValueChange:i,children:[C.jsx(Q1,{id:"dateFormat",children:C.jsx(J1,{placeholder:"Select date format"})}),C.jsxs(Z1,{children:[C.jsx(Gi,{value:"DD.MM.YYYY",children:"DD.MM.YYYY"}),C.jsx(Gi,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),C.jsx(Gi,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),C.jsx(Gi,{value:"YYYY-MM-DD",children:"YYYY/MM/DD"})]})]})]})]})]})]})},P6=n=>{const{t:e}=ar(),[t,r]=S.useState(null);async function i(){try{const l=await Qo();if(!await AT(l))return;const f=await kT(l);r(f)}catch(l){console.error("Failed to load folder size:",l)}}S.useEffect(()=>{i()},[]);const s=t!==null?NB(t):C.jsx(Bn,{onClick:i,children:e("settings.storage.permissionNeeded")});return C.jsxs("div",{className:"space-y-6",children:[C.jsx("h1",{className:"text-2xl font-bold",children:e("settings.storage.title")}),C.jsx(td,{children:C.jsx(nd,{className:"space-y-6",children:C.jsx("div",{className:"space-y-4",children:C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("h3",{className:"text-base font-medium",children:e("settings.storage.used")}),C.jsx("p",{className:"text-sm font-medium",children:s})]})})})}),C.jsxs(td,{children:[C.jsxs(Tv,{children:[C.jsx(Ov,{children:e("settings.dataManagement.title")}),C.jsx(Nv,{children:e("settings.dataManagement.description")})]}),C.jsxs(nd,{className:"space-y-4",children:[C.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800",children:[C.jsx("h3",{className:"font-medium mb-2",children:e("settings.dataManagement.downloadTitle")}),C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:e("settings.dataManagement.downloadDescription")}),C.jsx(Bn,{variant:"outline",children:e("settings.dataManagement.exportButton")})]}),C.jsxs("div",{className:"p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800",children:[C.jsx("h3",{className:"font-medium mb-2 text-red-600 dark:text-red-400",children:e("settings.dataManagement.deleteTitle")}),C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:e("settings.dataManagement.deleteDescription")}),C.jsx(Bn,{variant:"destructive",children:e("settings.dataManagement.deleteButton")})]})]})]})]})},L6=n=>C.jsx("div",{className:"container max-w-3xl mx-auto px-4 py-8",children:C.jsx("div",{className:"flex flex-col md:flex-row gap-8",children:C.jsxs("div",{className:"flex-1 space-y-8",children:[C.jsx(b5,{}),C.jsx(D6,{}),C.jsx(P6,{})]})})}),z6=O2([{path:"/",Component:v5},{path:"/settings",Component:L6}],{basename:"/notes-app"}),_6=()=>{const n=Td(),{i18n:e}=ar();return S.useEffect(()=>{e.changeLanguage(n.language),BM(n.language)?document.body.classList.remove("geist-mono"):document.body.classList.add("geist-mono")},[n.language]),S.useEffect(()=>{const t=[.75,.875,1,1.125,1.25];document.documentElement.style.fontSize=`${t[n.fontSize-1]}rem`},[n.fontSize]),S.useEffect(()=>{const t=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,r=c=>{document.body.classList.toggle("dark",c),document.body.classList.toggle("light",!c)};(()=>{n.theme==="light"?r(!1):n.theme==="dark"?r(!0):r(t())})();const s=window.matchMedia("(prefers-color-scheme: dark)"),l=c=>{n.theme==="system"&&r(c.matches)};if(n.theme==="system")return s.addEventListener("change",l),()=>s.removeEventListener("change",l)},[n.theme]),null},$e=n=>typeof n=="string",Gl=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},eE=n=>n==null?"":""+n,j6=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},I6=/###/g,tE=n=>n&&n.indexOf("###")>-1?n.replace(I6,"."):n,nE=n=>!n||$e(n),oc=(n,e,t)=>{const r=$e(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(nE(n))return{};const s=tE(r[i]);!n[s]&&t&&(n[s]=new t),Object.prototype.hasOwnProperty.call(n,s)?n=n[s]:n={},++i}return nE(n)?{}:{obj:n,k:tE(r[i])}},rE=(n,e,t)=>{const{obj:r,k:i}=oc(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let s=e[e.length-1],l=e.slice(0,e.length-1),c=oc(n,l,Object);for(;c.obj===void 0&&l.length;)s=`${l[l.length-1]}.${s}`,l=l.slice(0,l.length-1),c=oc(n,l,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${s}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${s}`]=t},B6=(n,e,t,r)=>{const{obj:i,k:s}=oc(n,e,Object);i[s]=i[s]||[],i[s].push(t)},id=(n,e)=>{const{obj:t,k:r}=oc(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},$6=(n,e,t)=>{const r=id(n,t);return r!==void 0?r:id(e,t)},gR=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?$e(n[r])||n[r]instanceof String||$e(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):gR(n[r],e[r],t):n[r]=e[r]);return n},fa=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var H6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const U6=n=>$e(n)?n.replace(/[&<>"'\/]/g,e=>H6[e]):n;class F6{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const V6=[" ",",","?","!",";"],q6=new F6(20),Y6=(n,e,t)=>{e=e||"",t=t||"";const r=V6.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const i=q6.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let s=!i.test(n);if(!s){const l=n.indexOf(t);l>0&&!i.test(n.substring(0,l))&&(s=!0)}return s},Wg=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let f=s;f<r.length;++f)if(f!==s&&(c+=t),c+=r[f],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<r.length-1)continue;s+=f-s+1;break}i=l}return i},od=n=>n==null?void 0:n.replace("_","-"),K6={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class sd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||K6,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:($e(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new sd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new sd(this.logger,e)}}var kr=new sd;class Kd{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(l=>{let[c,f]=l;for(let d=0;d<f;d++)c(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(l=>{let[c,f]=l;for(let d=0;d<f;d++)c.apply(c,[e,...r])})}}class iE extends Kd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){var d,p;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],r&&(Array.isArray(r)?c.push(...r):$e(r)&&s?c.push(...r.split(s)):c.push(r)));const f=id(this.data,c);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=c[0],t=c[1],r=c.slice(2).join(".")),f||!l||!$e(r)?f:Wg((p=(d=this.data)==null?void 0:d[e])==null?void 0:p[t],r,s)}addResource(e,t,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let c=[e,t];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=t,t=c[1]),this.addNamespaces(t),rE(this.data,c,i),s.silent||this.emit("added",e,t,r,i)}addResources(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)($e(r[s])||Array.isArray(r[s]))&&this.addResource(e,t,s,r[s],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,s){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=t,t=c[1]),this.addNamespaces(t);let f=id(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?gR(f,r,s):f={...f,...r},rE(this.data,c,f),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var yR={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(s=>{var l;e=((l=this.processors[s])==null?void 0:l.process(e,t,r,i))??e}),e}};const oE={},sE=n=>!$e(n)&&typeof n!="boolean"&&typeof n!="number";class ad extends Kd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),j6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=kr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return(r==null?void 0:r.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Y6(e,r,i);if(l&&!c){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:$e(s)?[s]:s};const d=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(d[0])>-1)&&(s=d.shift()),e=d.join(i)}return{key:e,namespaces:$e(s)?[s]:s}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],t),f=c[c.length-1],d=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode"){if(p){const ce=t.nsSeparator||this.options.nsSeparator;return i?{res:`${f}${ce}${l}`,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:`${f}${ce}${l}`}return i?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:l}const m=this.resolve(e,t);let y=m==null?void 0:m.res;const b=(m==null?void 0:m.usedKey)||l,x=(m==null?void 0:m.exactUsedKey)||l,w=["[object Number]","[object Function]","[object RegExp]"],E=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,N=t.count!==void 0&&!$e(t.count),A=ad.hasDefaultValue(t),L=N?this.pluralResolver.getSuffix(d,t.count,t):"",z=t.ordinal&&N?this.pluralResolver.getSuffix(d,t.count,{ordinal:!1}):"",R=N&&!t.ordinal&&t.count===0,D=R&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${L}`]||t[`defaultValue${z}`]||t.defaultValue;let j=y;T&&!y&&A&&(j=D);const q=sE(j),ie=Object.prototype.toString.apply(j);if(T&&j&&q&&w.indexOf(ie)<0&&!($e(E)&&Array.isArray(j))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ce=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,j,{...t,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(m.res=ce,m.usedParams=this.getUsedParamsDetails(t),m):ce}if(s){const ce=Array.isArray(j),me=ce?[]:{},pe=ce?x:b;for(const fe in j)if(Object.prototype.hasOwnProperty.call(j,fe)){const de=`${pe}${s}${fe}`;A&&!y?me[fe]=this.translate(de,{...t,defaultValue:sE(D)?D[fe]:void 0,joinArrays:!1,ns:c}):me[fe]=this.translate(de,{...t,joinArrays:!1,ns:c}),me[fe]===de&&(me[fe]=j[fe])}y=me}}else if(T&&$e(E)&&Array.isArray(y))y=y.join(E),y&&(y=this.extendTranslation(y,e,t,r));else{let ce=!1,me=!1;!this.isValidLookup(y)&&A&&(ce=!0,y=D),this.isValidLookup(y)||(me=!0,y=l);const fe=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&me?void 0:y,de=A&&D!==y&&this.options.updateMissing;if(me||ce||de){if(this.logger.log(de?"updateKey":"missingKey",d,f,l,de?D:y),s){const J=this.resolve(l,{...t,keySeparator:!1});J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let _=[];const Z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Z&&Z[0])for(let J=0;J<Z.length;J++)_.push(Z[J]);else this.options.saveMissingTo==="all"?_=this.languageUtils.toResolveHierarchy(t.lng||this.language):_.push(t.lng||this.language);const H=(J,k,Y)=>{var G;const $=A&&Y!==y?Y:fe;this.options.missingKeyHandler?this.options.missingKeyHandler(J,f,k,$,de,t):(G=this.backendConnector)!=null&&G.saveMissing&&this.backendConnector.saveMissing(J,f,k,$,de,t),this.emit("missingKey",J,f,k,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?_.forEach(J=>{const k=this.pluralResolver.getSuffixes(J,t);R&&t[`defaultValue${this.options.pluralSeparator}zero`]&&k.indexOf(`${this.options.pluralSeparator}zero`)<0&&k.push(`${this.options.pluralSeparator}zero`),k.forEach(Y=>{H([J],l+Y,t[`defaultValue${Y}`]||D)})}):H(_,l,D))}y=this.extendTranslation(y,e,t,m,r),me&&y===l&&this.options.appendNamespaceToMissingKey&&(y=`${f}:${l}`),(me||ce)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}:${l}`:l,ce?y:void 0))}return i?(m.res=y,m.usedParams=this.getUsedParamsDetails(t),m):y}extendTranslation(e,t,r,i,s){var d,p;var l=this;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=$e(e)&&(((p=r==null?void 0:r.interpolation)==null?void 0:p.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(m){const x=e.match(this.interpolator.nestingRegexp);y=x&&x.length}let b=r.replace&&!$e(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),e=this.interpolator.interpolate(e,b,r.lng||this.language||i.usedLng,r),m){const x=e.match(this.interpolator.nestingRegexp),w=x&&x.length;y<w&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var x=arguments.length,w=new Array(x),E=0;E<x;E++)w[E]=arguments[E];return(s==null?void 0:s[0])===w[0]&&!r.context?(l.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${t[0]}`),null):l.translate(...w,t)},r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,f=$e(c)?[c]:c;return e!=null&&(f!=null&&f.length)&&r.applyPostProcessor!==!1&&(e=yR.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,l,c;return $e(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(f,t),p=d.key;i=p;let m=d.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const y=t.count!==void 0&&!$e(t.count),b=y&&!t.ordinal&&t.count===0,x=t.context!==void 0&&($e(t.context)||typeof t.context=="number")&&t.context!=="",w=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(E=>{var T,N;this.isValidLookup(r)||(c=E,!oE[`${w[0]}-${E}`]&&((T=this.utils)!=null&&T.hasLoadedNamespace)&&!((N=this.utils)!=null&&N.hasLoadedNamespace(c))&&(oE[`${w[0]}-${E}`]=!0,this.logger.warn(`key "${i}" for languages "${w.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(A=>{var R;if(this.isValidLookup(r))return;l=A;const L=[p];if((R=this.i18nFormat)!=null&&R.addLookupKeys)this.i18nFormat.addLookupKeys(L,p,A,E,t);else{let D;y&&(D=this.pluralResolver.getSuffix(A,t.count,t));const j=`${this.options.pluralSeparator}zero`,q=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(L.push(p+D),t.ordinal&&D.indexOf(q)===0&&L.push(p+D.replace(q,this.options.pluralSeparator)),b&&L.push(p+j)),x){const ie=`${p}${this.options.contextSeparator}${t.context}`;L.push(ie),y&&(L.push(ie+D),t.ordinal&&D.indexOf(q)===0&&L.push(ie+D.replace(q,this.options.pluralSeparator)),b&&L.push(ie+j))}}let z;for(;z=L.pop();)this.isValidLookup(r)||(s=z,r=this.getResource(A,E,z,t))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){var s;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!$e(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of t)delete i[s]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class aE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=kr.create("languageUtils")}getScriptPartFromCode(e){if(e=od(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=od(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if($e(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(l=>{if(l===s)return l;if(!(l.indexOf("-")<0&&s.indexOf("-")<0)&&(l.indexOf("-")>0&&s.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===s||l.indexOf(s)===0&&s.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),$e(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],s=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return $e(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):$e(e)&&s(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&s(this.formatLanguageCode(l))}),i}}const lE={zero:0,one:1,two:2,few:3,many:4,other:5},cE={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class G6{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=kr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=od(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),cE;if(!e.match(/-|_/))return cE;const f=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(f,t)}return this.pluralRulesCache[s]=l,l}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>lE[i]-lE[s]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const uE=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=$6(n,e,t);return!s&&i&&$e(t)&&(s=Wg(n,t,r),s===void 0&&(s=Wg(e,t,r))),s},Wm=n=>n.replace(/\$/g,"$$$$");class W6{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=kr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:l,suffix:c,suffixEscaped:f,formatSeparator:d,unescapeSuffix:p,unescapePrefix:m,nestingPrefix:y,nestingPrefixEscaped:b,nestingSuffix:x,nestingSuffixEscaped:w,nestingOptionsSeparator:E,maxReplaces:T,alwaysFormat:N}=e.interpolation;this.escape=t!==void 0?t:U6,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?fa(s):l||"{{",this.suffix=c?fa(c):f||"}}",this.formatSeparator=d||",",this.unescapePrefix=p?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?fa(y):b||fa("$t("),this.nestingSuffix=x?fa(x):w||fa(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=T||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var b;let s,l,c;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=x=>{if(x.indexOf(this.formatSeparator)<0){const N=uE(t,f,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,r,{...i,...t,interpolationkey:x}):N}const w=x.split(this.formatSeparator),E=w.shift().trim(),T=w.join(this.formatSeparator).trim();return this.format(uE(t,f,E,this.options.keySeparator,this.options.ignoreJSONStructure),T,r,{...i,...t,interpolationkey:E})};this.resetRegExp();const p=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,m=((b=i==null?void 0:i.interpolation)==null?void 0:b.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Wm(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Wm(this.escape(x)):Wm(x)}].forEach(x=>{for(c=0;s=x.regex.exec(e);){const w=s[1].trim();if(l=d(w),l===void 0)if(typeof p=="function"){const T=p(e,s,i);l=$e(T)?T:""}else if(i&&Object.prototype.hasOwnProperty.call(i,w))l="";else if(m){l=s[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),l="";else!$e(l)&&!this.useRawValueToEscape&&(l=eE(l));const E=x.safeValue(l);if(e=e.replace(s[0],E),m?(x.regex.lastIndex+=l.length,x.regex.lastIndex-=s[0].length):x.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,l;const c=(f,d)=>{const p=this.nestingOptionsSeparator;if(f.indexOf(p)<0)return f;const m=f.split(new RegExp(`${p}[ ]*{`));let y=`{${m[1]}`;f=m[0],y=this.interpolate(y,l);const b=y.match(/'/g),x=y.match(/"/g);(((b==null?void 0:b.length)??0)%2===0&&!x||x.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),d&&(l={...d,...l})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,w),`${f}${p}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f};for(;i=this.nestingRegexp.exec(e);){let f=[];l={...r},l=l.replace&&!$e(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let d=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const p=i[1].split(this.formatSeparator).map(m=>m.trim());i[1]=p.shift(),f=p,d=!0}if(s=t(c.call(this,i[1].trim(),l),l),s&&i[0]===e&&!$e(s))return s;$e(s)||(s=eE(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),d&&(s=f.reduce((p,m)=>this.format(p,m,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const X6=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...f]=l.split(":"),d=f.join(":").trim().replace(/^'+|'+$/g,""),p=c.trim();t[p]||(t[p]=d),d==="false"&&(t[p]=!1),d==="true"&&(t[p]=!0),isNaN(d)||(t[p]=parseInt(d,10))}})}return{formatName:e,formatOptions:t}},da=n=>{const e={};return(t,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const l=r+JSON.stringify(s);let c=e[l];return c||(c=n(od(r),i),e[l]=c),c(t)}};class J6{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=kr.create("formatter"),this.options=e,this.formats={number:da((t,r)=>{const i=new Intl.NumberFormat(t,{...r});return s=>i.format(s)}),currency:da((t,r)=>{const i=new Intl.NumberFormat(t,{...r,style:"currency"});return s=>i.format(s)}),datetime:da((t,r)=>{const i=new Intl.DateTimeFormat(t,{...r});return s=>i.format(s)}),relativetime:da((t,r)=>{const i=new Intl.RelativeTimeFormat(t,{...r});return s=>i.format(s,r.range||"day")}),list:da((t,r)=>{const i=new Intl.ListFormat(t,{...r});return s=>i.format(s)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=da(t)}format(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(c=>c.indexOf(")")>-1)){const c=s.findIndex(f=>f.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,c)].join(this.formatSeparator)}return s.reduce((c,f)=>{var m;const{formatName:d,formatOptions:p}=X6(f);if(this.formats[d]){let y=c;try{const b=((m=i==null?void 0:i.formatParams)==null?void 0:m[i.interpolationkey])||{},x=b.locale||b.lng||i.locale||i.lng||r;y=this.formats[d](c,x,{...p,...i,...b})}catch(b){this.logger.warn(b)}return y}else this.logger.warn(`there was no format function for ${d}`);return c},e)}}const Q6=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class Z6 extends Kd{constructor(e,t,r){var s,l;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=kr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(s=this.backend)==null?void 0:s.init)==null||l.call(s,r,i.backend,i)}queueLoad(e,t,r,i){const s={},l={},c={},f={};return e.forEach(d=>{let p=!0;t.forEach(m=>{const y=`${d}|${m}`;!r.reload&&this.store.hasResourceBundle(d,m)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,p=!1,l[y]===void 0&&(l[y]=!0),s[y]===void 0&&(s[y]=!0),f[m]===void 0&&(f[m]=!0)))}),p||(c[d]=!0)}),(Object.keys(s).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const i=e.split("|"),s=i[0],l=i[1];t&&this.emit("failedLoading",s,l,t),!t&&r&&this.store.addResourceBundle(s,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const c={};this.queue.forEach(f=>{B6(f.loaded,[s],l),Q6(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(d=>{c[d]||(c[d]={});const p=f.loaded[d];p.length&&p.forEach(m=>{c[d][m]===void 0&&(c[d][m]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,l=arguments.length>5?arguments[5]:void 0;if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:s,callback:l});return}this.readingCalls++;const c=(d,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(d&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,s*2,l)},s);return}l(d,p)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const d=f(e,t);d&&typeof d.then=="function"?d.then(p=>c(null,p)).catch(c):c(null,d)}catch(d){c(d)}return}return f(e,t,c)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();$e(e)&&(e=this.languageUtils.toResolveHierarchy(e)),$e(t)&&(t=[t]);const s=this.queueLoad(e,t,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${t}loading namespace ${s} for language ${i} failed`,l),!l&&c&&this.logger.log(`${t}loaded namespace ${s} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,t,r,i,s){var f,d,p,m,y;let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((d=(f=this.services)==null?void 0:f.utils)!=null&&d.hasLoadedNamespace&&!((m=(p=this.services)==null?void 0:p.utils)!=null&&m.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((y=this.backend)!=null&&y.create){const b={...l,isUpdate:s},x=this.backend.create.bind(this.backend);if(x.length<6)try{let w;x.length===5?w=x(e,t,r,i,b):w=x(e,t,r,i),w&&typeof w.then=="function"?w.then(E=>c(null,E)).catch(c):c(null,w)}catch(w){c(w)}else x(e,t,r,i,c,b)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const fE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),$e(n[1])&&(e.defaultValue=n[1]),$e(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),dE=n=>{var e,t;return $e(n.ns)&&(n.ns=[n.ns]),$e(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),$e(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},pf=()=>{},e8=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class wc extends Kd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=dE(e),this.services={},this.logger=kr,this.modules={external:[]},e8(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&($e(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=fE();this.options={...i,...this.options,...dE(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?kr.init(s(this.modules.logger),this.options):kr.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=J6;const m=new aE(this.options);this.store=new iE(this.options.resources,this.options);const y=this.services;y.logger=kr,y.resourceStore=this.store,y.languageUtils=m,y.pluralResolver=new G6(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(y.formatter=s(p),y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new W6(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new Z6(s(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",function(b){for(var x=arguments.length,w=new Array(x>1?x-1:0),E=1;E<x;E++)w[E-1]=arguments[E];e.emit(b,...w)}),this.modules.languageDetector&&(y.languageDetector=s(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=s(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new ad(this.services,this.options),this.translator.on("*",function(b){for(var x=arguments.length,w=new Array(x>1?x-1:0),E=1;E<x;E++)w[E-1]=arguments[E];e.emit(b,...w)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,r||(r=pf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return e.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return e.store[p](...arguments),e}});const f=Gl(),d=()=>{const p=(m,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(y),r(m,y)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),f}loadResources(e){var s,l;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pf;const i=$e(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const c=[],f=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(m=>{m!=="cimode"&&c.indexOf(m)<0&&c.push(m)})};i?f(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>f(p)),(l=(s=this.options.preload)==null?void 0:s.forEach)==null||l.call(s,d=>f(d)),this.services.backendConnector.load(c,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,t,r){const i=Gl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=pf),this.services.backendConnector.reload(e,t,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&yR.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.indexOf(e)<0&&this.languages.unshift(e))}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const i=Gl();this.emit("languageChanging",e);const s=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},l=(f,d)=>{d?this.isLanguageChangingTo===e&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),t&&t(f,function(){return r.t(...arguments)})},c=f=>{var m,y;!e&&!f&&this.services.languageDetector&&(f=[]);const d=$e(f)?f:f&&f[0],p=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes($e(f)?[f]:f);p&&(this.language||s(p),this.translator.language||this.translator.changeLanguage(p),(y=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||y.call(m,p)),this.loadResources(p,b=>{l(b,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),i}getFixedT(e,t,r){var i=this;const s=function(l,c){let f;if(typeof c!="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),m=2;m<d;m++)p[m-2]=arguments[m];f=i.options.overloadTranslationOptionHandler([l,c].concat(p))}else f={...c};f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||s.keyPrefix);const y=i.options.keySeparator||".";let b;return f.keyPrefix&&Array.isArray(l)?b=l.map(x=>`${f.keyPrefix}${y}${x}`):b=f.keyPrefix?`${f.keyPrefix}${y}${l}`:l,i.t(b,f)};return $e(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(){var i;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(i=this.translator)==null?void 0:i.translate(...t)}exists(){var i;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(i=this.translator)==null?void 0:i.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,f)=>{const d=this.services.backendConnector.state[`${c}|${f}`];return d===-1||d===0||d===2};if(t.precheck){const c=t.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(s,e)))}loadNamespaces(e,t){const r=Gl();return this.options.ns?($e(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Gl();$e(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return s.length?(this.options.preload=i.concat(s),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new aE(fE());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new wc(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pf;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new wc(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(c=>{s[c]=this[c]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const c=Object.keys(this.store.data).reduce((f,d)=>(f[d]={...this.store.data[d]},Object.keys(f[d]).reduce((p,m)=>(p[m]={...f[d][m]},p),{})),{});s.store=new iE(c,i),s.services.resourceStore=s.store}return s.translator=new ad(s.services,i),s.translator.on("*",function(c){for(var f=arguments.length,d=new Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];s.emit(c,...d)}),s.init(i,t),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nn=wc.createInstance();nn.createInstance=wc.createInstance;nn.createInstance;nn.dir;nn.init;nn.loadResources;nn.reloadResources;nn.use;nn.changeLanguage;nn.getFixedT;nn.t;nn.exists;nn.setDefaultNamespace;nn.hasLoadedNamespace;nn.loadNamespaces;nn.loadLanguages;const t8={permissionDenied:"      .   .",selectFolder:" "},n8={title:" ",addNote:"  ",openFolder:" ",encrypted:"  .",empty:"     .",notFound:"  ",searchNotes:" ...",notes:""},r8={title:" ",editNote:" ",encryptNote:" ",decryptNote:" ",deleteNote:" ",searchInNote:" ...",encrypted:"  .     "},i8={setNotePassword:{title:"   ",description:"     .          .",lockNote:" ",confirmPassword:"  ",validation:{noMatch:"   ",minLimit:"   4   ",minLimitWarning:":         .  ?",minLimitMessage:"   ,   12  "}},enterNotePassword:{title:" ",description:"  .     .",unlockNote:" ",wrongPassword:"WRONG PASSWORD"}},o8={loading:"...",search:"",password:"",confirm:"",cancel:" ",noResults:" ",previous:" ",next:"",save:"",edit:""},s8={appearance:{title:"",theme:"",themeDescription:"  ",mode:"",modes:{light:"",dark:"",system:" "},fontSize:" ",fontSizeDescription:"   "},language:{title:"",description:"     ",languageSettings:" ",displayLanguage:" ",dateFormat:" "},storage:{title:"",used:" ",permissionNeeded:"   "},dataManagement:{title:" ",description:"    ",downloadTitle:"  ",downloadDescription:"       .",exportButton:"  ",deleteTitle:" ",deleteDescription:"        .     .",deleteButton:" "}},a8={fileApi:t8,notes:n8,note:r8,encryption:i8,common:o8,settings:s8},l8={permissionDenied:"     . ,   .",selectFolder:" "},c8={title:" ",addNote:"  ",openFolder:" ",encrypted:"  .",empty:" .",notFound:"  ",searchNotes:"  ...",notes:""},u8={title:" ",editNote:" ",encryptNote:" ",decryptNote:" ",deleteNote:" ",searchInNote:"  ...",encrypted:"  .    ,  "},f8={setNotePassword:{title:"   ",description:"     .          .",lockNote:" ",confirmPassword:"",validation:{noMatch:"  ",minLimit:"     4 ",minLimitWarning:":        .    ?",minLimitMessage:"       12 "}},enterNotePassword:{title:" ",description:"  .  ,   .",unlockNote:" ",wrongPassword:"WRONG PASSWORD"}},d8={loading:"...",search:"",password:"",confirm:"",cancel:"",noResults:" ",previous:"",next:"",save:"",edit:""},h8={appearance:{title:" ",theme:"",themeDescription:"   ",mode:"",modes:{light:"",dark:"",system:""},fontSize:" ",fontSizeDescription:"    "},language:{title:"",description:"     ",languageSettings:" ",displayLanguage:" ",dateFormat:" "},storage:{title:"",used:" ",permissionNeeded:"   "},dataManagement:{title:" ",description:"    ",downloadTitle:"  ",downloadDescription:"      ,    .",exportButton:"  ",deleteTitle:"  ",deleteDescription:"           .  .",deleteButton:" "}},p8={fileApi:l8,notes:c8,note:u8,encryption:f8,common:d8,settings:h8},m8={permissionDenied:"Permission denied or folder not set. Please reselect the folder.",selectFolder:"Select folder"},g8={title:"Saved Notes",addNote:"Add new note",openFolder:"Open folder",encrypted:"This note is encrypted.",empty:"No notes saved yet.",notFound:"No notes found",searchNotes:"Search notes...",notes:"Notes"},y8={title:"Note Preferences",editNote:"Edit note",encryptNote:"Encrypt Note",decryptNote:"Decrypt Note",deleteNote:"Delete note",searchInNote:"Search in note...",encrypted:"This note is encrypted. Click the lock icon to decrypt"},v8={setNotePassword:{title:"Set Encryption Password",description:"Set a password to encrypt this note. You'll need this password to view or edit the note in the future.",lockNote:"Encrypt Note",confirmPassword:"Confirm",validation:{noMatch:"Passwords do not match",minLimit:"Password must be at least 4 characters",minLimitWarning:"Warning: Your password is weak and may be easily cracked. Continue anyway?",minLimitMessage:" For better security, use at least 12 characters"}},enterNotePassword:{title:"Enter Password",description:"This note is encrypted. Enter the password to view its contents.",unlockNote:"Unlock Note",wrongPassword:"WRONG PASSWORD"}},b8={loading:"Loading...",search:"Search",password:"Password",cancel:"Cancel",noResults:"No results",previous:"Previous",next:"Next",save:"Save",edit:"Edit"},x8={appearance:{title:"Appearance",theme:"Theme",themeDescription:"Customize how the application looks",mode:"Mode",modes:{light:"Light",dark:"Dark",system:"System"},fontSize:"Font Size",fontSizeDescription:"Adjust the font size used throughout the application"},language:{title:"Language",description:"Choose your preferred language and regional settings",languageSettings:"Language Settings",displayLanguage:"Display Language",dateFormat:"Date Format"},storage:{title:"Storage",used:"Storage Used",permissionNeeded:"Allow Permission to view"},dataManagement:{title:"Data Management",description:"Download or delete your data",downloadTitle:"Download Your Data",downloadDescription:"You can download a copy of all your data that we have stored in our systems.",exportButton:"Request Data Export",deleteTitle:"Delete Your Data",deleteDescription:"This will permanently delete your data and all associated data. This action cannot be undone.",deleteButton:"Delete Data"}},S8={fileApi:m8,notes:g8,note:y8,encryption:v8,common:b8,settings:x8},w8={permissionDenied:"",selectFolder:""},E8={title:"",addNote:"",openFolder:"",encrypted:"",empty:"",notFound:"",searchNotes:"...",notes:""},C8={title:"",editNote:"",encryptNote:"",decryptNote:"",deleteNote:"",searchInNote:"...",encrypted:""},M8={setNotePassword:{title:"",description:"",lockNote:"",confirmPassword:"",validation:{noMatch:"",minLimit:"4",minLimitWarning:": ",minLimitMessage:" 12"}},enterNotePassword:{title:"",description:"",unlockNote:"",wrongPassword:"WRONG PASSWORD"}},T8={loading:"...",search:"",password:"",confirm:"",cancel:"",noResults:"",previous:"",next:"",save:"",edit:""},O8={appearance:{title:"",theme:"",themeDescription:"",mode:"",modes:{light:"",dark:"",system:""},fontSize:"",fontSizeDescription:""},language:{title:"",description:"",languageSettings:"",displayLanguage:"",dateFormat:""},storage:{title:"",used:"",permissionNeeded:""},dataManagement:{title:"",description:"",downloadTitle:"",downloadDescription:"",exportButton:"",deleteTitle:"",deleteDescription:"",deleteButton:""}},N8={fileApi:w8,notes:E8,note:C8,encryption:M8,common:T8,settings:O8},R8={ru:{translation:p8},kg:{translation:a8},en:{translation:S8},jp:{translation:N8}};nn.use(eU).init({resources:R8,lng:localStorage.getItem("language")||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const{t:I8}=nn,A8=Pk.createRoot(document.getElementById("root"));A8.render(C.jsxs(gt.StrictMode,{children:[C.jsx(_6,{}),C.jsx(B2,{router:z6})]}));
